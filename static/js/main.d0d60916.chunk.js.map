{"version":3,"sources":["lib/react-query.js","components/Elements/TabPanel/TabPanel.js","assets/thoth-logo.png","components/Elements/SearchBar/SearchBar.js","config/index.js","features/misc/api/getPackageMetadata.js","features/home/components/PackageSearch.js","features/home/api/postAdvise.js","features/home/components/ComboBox/ComboBox.js","features/home/components/AdviseCreation.js","features/home/routes/index.js","features/misc/routes/NotFound.js","components/Footer/Footer.js","components/Layout/MainLayout.js","components/Layout/AdviseLayout.js","components/Elements/InfoCard/InfoCard.js","components/Elements/IconText/IconText.js","features/advise/utils/formatLockfile.js","utils/timeSince.js","features/advise/utils/calcTime.js","features/advise/utils/discoverPackageChanges.js","features/advise/components/AdviseHeader/CustomAlert/CustomAlert.js","features/advise/components/AdviseHeader/AdviseHeader.js","components/Elements/ProgressBar/ProgressBar.js","features/advise/components/AdviseMetric/AdviseMetric.js","features/advise/components/CustomCardAction/CustomCardAction.js","features/advise/components/DependenciesMetric/DependenciesMetric.js","features/advise/components/LicenseMetric/LicenseGroup/LicenseGroup.js","features/advise/components/LicenseMetric/LicenseMetric.js","features/advise/components/AdviseTableView/utils.js","features/advise/components/AdviseTableView/EnhancedTableHead/EnhancedTableHead.js","utils/Node.js","features/advise/features/components/Popup/Popup.js","utils/Graph.js","features/advise/features/components/NetworkGraphView/NetworkGraphView.js","features/advise/features/components/SelectedPackage/SelectedPackage.js","features/advise/routes/AdviseDetails.js","features/advise/components/AdviseTableView/AdviseTableView.js","features/advise/components/LockfileView/LockfileView.js","features/advise/routes/AdviseSummary.js","features/advise/api/getAdviseDocument.js","features/advise/api/getAdviseLogs.js","features/advise/hooks/useGraph.js","features/advise/hooks/useMetrics.js","features/advise/routes/AdviseNotFound.js","components/Layout/NavigationLayout.js","features/advise/routes/index.js","features/advise/hooks/useMergeGraphs.js","features/package/components/ParamDropdown/ParamDropdown.js","features/package/components/PackageHeader/PackageHeader.js","features/package/routes/PackageNotFound.js","features/package/components/PackageDependencies/PackageDependencies.js","features/package/components/PackageLicenses/PackageLicenses.js","features/package/api/getPackageVersions.js","features/package/api/getPackageEnvironments.js","features/package/hooks/useAllVersions.js","features/package/hooks/useAllEnvironments.js","features/package/routes/PackageOverview.js","features/package/routes/index.js","routes/RouterConfig.js","styles/Theme.js","stores/Global.js","providers/app.js","App.js","index.js"],"names":["queryClient","QueryClient","defaultOptions","queries","useErrorBoundary","refetchOnWindowFocus","refetchOnMount","retry","TabPanel","children","value","index","props","role","hidden","id","className","SearchBar","onChange","onEnter","label","helpertext","boxprops","error","lefticon","righticon","Box","Typography","variant","sx","color","Paper","component","p","display","alignItems","borderColor","undefined","paddingLeft","paddingRight","InputBase","ml","flex","placeholder","e","target","onKeyPress","ev","key","preventDefault","THOTH_URL","options","manipulation","enabled","editNode","nodeData","callback","fixed","x","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","edges","chosen","smooth","arrowStrikethrough","arrows","from","type","nodes","background","border","shape","size","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","getPackageMetadata","name","version","os_name","os_version","python_version","a","axios","get","params","headers","accept","usePackagesMetadata","packages","config","useQueries","map","queryKey","queryFn","PackageSearch","navigate","useNavigate","useState","searchQuery","setSearchQuery","searchError","setSearchError","handleAnalyze","getPackageMetadataPyPi","PYPI_URL","catch","then","response","data","info","Grid","container","justifyContent","alignSelf","item","xs","minHeight","spacing","md","handleChange","mr","Button","onClick","minWidth","postAdvise","pipfile","pipfileLock","runtime_environment","application_stack","requirements","requirements_format","requirements_lock","post","recommendation_type","limit","filter","createFilterOptions","ComboBox","suggestions","help","required","setValue","useMemo","suggestion","title","Autocomplete","event","newValue","inputValue","filterOptions","filtered","isExisting","some","option","push","selectOnFocus","clearOnBlur","handleHomeEndKeys","getOptionLabel","renderOption","freeSolo","renderInput","fullWidth","helperText","reducer","state","action","loading","payload","param","Error","initState","lookupType","operating_system_name","operating_system_version","platform","cuda_version","cudnn_version","mkl_version","openblas_version","openmpi_version","base_image","AdviseCreation","useReducer","dispatch","isValid","valid","operating_system","Object","keys","forEach","analysis_id","status","includes","Collapse","in","mt","backgroundColor","padding","marginBottom","multiline","rows","sm","TextField","LoadingButton","Home","mode","setMode","theme","useTheme","matches","useMediaQuery","breakpoints","up","style","maxWidth","marginLeft","marginRight","marginTop","alt","src","logo","height","width","align","mb","direction","stat","i","ToggleButtonGroup","exclusive","newMode","ToggleButton","Divider","NotFound","Footer","pb","pt","textAlign","useStyles","makeStyles","root","MainLayout","classes","AdviseLayout","header","location","useLocation","Tabs","pathname","split","at","indicatorColor","textColor","Tab","RouterLink","to","bullet","margin","transform","fontSize","pos","InfoCard","cardMeta","cardBody","cardAction","Card","CardHeader","subheader","subTitle","CardContent","IconText","text","icon","link","href","formatLockfile","lockfile","entries","requirements_locked","default","replace","timeSince","date","seconds","Math","floor","Date","interval","num","discoverPackageChanges","justifications","justifiedPackages","Map","justification","package_name","has","set","node","package","change","depth","reasons","start","visited","visitList","reasonNodes","pop","parents","adj","length","reason","oldVersion","whyRemoved","thoth","CustomAlert","Alert","severity","toLowerCase","message","titleRow","linksRow","alert","AdviseHeader","finished_at","started_at","datetime","adviseDocument","logs","React","expandAlerts","setExpandAlerts","showLogs","setShowLogs","selectedLine","setSelectedLine","result","report","ERROR","toUpperCase","statusText","statusColor","alerts","stack_info","metadata","document_id","parameters","Chip","error_msg","timeout","unmountOnExit","slice","line","noWrap","CustomLinearProgress","withStyles","borderRadius","colorPrimary","palette","grey","bar","LinearProgress","gridTemplateColumns","gridGap","whiteSpace","overflow","textOverflow","ProgressBar","total","AdviseMetric","metric","added","removed","unchanged","justTotal","values","reduce","b","gutterBottom","build","Skeleton","CustomCardAction","DependenciesMetric","all","roots","totalDependencies","direct","indirect","List","TransitionGroup","t","ListItem","ListItemText","primary","LicenseGroup","totalLicenses","open","setOpen","isOsiApproved","my","sort","k","v","LicenseMetric","more","setMore","licenses","sum","val","descendingComparator","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","headCells","numeric","EnhancedTableHead","onRequestSort","TableHead","TableRow","headCell","TableCell","sortDirection","TableSortLabel","active","property","visuallyHidden","Node","this","adjacents","Set","add","Array","Popup","Summary","License","latestVersion","Graph","vertex","source","destination","sourceNode","destinationNode","addAdjacent","isAdjacent","first","shift","getAdjacents","path","newPath","nextPath","findPath","parent","paths","findAllPaths","flexFlow","canvas","NetworkGraph","mergedGraph","visJsRef","useRef","selected","useContext","SelectedPackageContext","useEffect","selectedNode","findAllNodesOnAllPaths","convertedNodes","DataSet","popup","document","createElement","ReactDOM","render","visData","visEdges","network","current","Network","networkCanvas","getElementById","getElementsByTagName","on","changeCursor","isCluster","newCursorStyle","cursor","ref","SelectedPackage","setSelected","selectedPackage","dependents","justs","just","Name","Version","Link","underline","Fragment","advisory","NetworkGraphView","createContext","AdviseDetails","search","setSearch","Provider","s","AdviseTableView","filteredGraph","setOrder","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","setRows","console","log","newRows","warnings","license","dependencies","summary","emptyRows","max","TableContainer","Table","TableBody","row","labelId","iconColor","tabIndex","scope","paddingBottom","paddingTop","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","AdviseSummary","metrics","setPipfile","handlePipfile","newPipfile","advise","getAdviseDocument","getAdviseLogs","useGraph","knownRoots","allMetadata","allMetadataStatus","success","query","graph","setGraph","tempGraph","notRoot","addVertex","importlib_metadata","currentNode","dep","adjacentNode","addEdge","app","adjs","min","useDependencyMetric","setMetric","base","bfs","graphSearch","useLicenseMetric","packageLicenses","Classifier","classifier","parsed","generalLicense","specificLicense","specific","useAdviseMetric","os_release","python","implementation_name","major","minor","micro","analyzer","analyzer_version","products","AdviseNotFound","NavigationLayout","AdviseRoutes","useParams","useQuery","useAdviseDocument","refetchInterval","useAdviseLogs","initGraphData","isSuccess","project","adviseGraphData","initGraph","adviseGraph","oldGraph","newGraph","visGraphEdges","combinedNode","main","useMergeGraphs","adviseMetric","oldDependencyMetric","newDependencyMetric","oldLicenseMetric","newLicenseMetric","useMetrics","isLoading","CircularProgress","element","ParamDropdown","disabled","SpecContext","specs","defaultSpecs","Select","displayEmpty","package_version","encodeURIComponent","index_url","renderValue","MenuItem","PackageHeader","allVersions","allEnvironments","showEnvParams","setShowEnvParams","versionOptions","dups","indexUrlOptions","env","osNameOptions","osVersionOptions","pythonVersionOptions","IconButton","PackageNotFound","getPackageVersions","getPackageEnvironments","useAllVersions","versions","useInfiniteQuery","input","pageParam","getNextPageParam","lastPage","setAllVersions","hasNextPage","isFetchingNextPage","fetchNextPage","merged","pages","reverse","useAllEnvironments","environments","setAllEnvironments","flexGrow","PackageOverview","setDefaultSpecs","decodeURIComponent","d","PackageRoutes","RouterConfig","basename","process","REACT_APP_BASENAME","exact","themeLight","createTheme","light","dark","secondary","priamry","typography","fontFamily","h4","fontWeight","lineHeight","h5","h6","body1","body2","subtitle1","subtitle2","Theme","ThemeProvider","CssBaseline","StateContext","DispatchContext","Global","ErrorFallback","window","assign","origin","AppProvider","FallbackComponent","client","App","StrictMode"],"mappings":"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","file":"static/js/main.d0d60916.chunk.js","sourcesContent":["import { QueryClient } from \"react-query\";\n\nconst queryConfig = {\n    queries: {\n        useErrorBoundary: true,\n        refetchOnWindowFocus: false,\n        refetchOnMount: false,\n        retry: false,\n    },\n};\n\nexport const queryClient = new QueryClient({ defaultOptions: queryConfig });\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A tab panel used to encapsulate different tab content.\n */\nconst TabPanel = ({ children, value, index, ...props }) => {\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            className={`${props.className}`}\n            {...props}\n        >\n            {value === index && children}\n        </div>\n    );\n};\n\nTabPanel.propTypes = {\n    /** The body of the tab. */\n    children: PropTypes.node,\n    /** The unique identifier of the tab. */\n    index: PropTypes.any.isRequired,\n    /** The state variable passed in from the parent which is compared to the index */\n    value: PropTypes.any.isRequired,\n    /** additional styling */\n    className: PropTypes.string,\n};\n\nexport default TabPanel;\n","export default __webpack_public_path__ + \"static/media/thoth-logo.1a28a729.png\";","import React from \"react\";\n\n// material ui\nimport { Typography, Box, Paper, InputBase } from \"@material-ui/core\";\n\n// react\nimport PropTypes from \"prop-types\";\n\n/**\n *\n */\nconst SearchBar = props => {\n    const {\n        onChange,\n        onEnter,\n        label,\n        helpertext,\n        boxprops,\n        error = false,\n        lefticon,\n        righticon,\n    } = props;\n\n    return (\n        <Box>\n            <Typography\n                variant={\"body1\"}\n                sx={{ color: error ? \"error.main\" : \"text.secondary\" }}\n            >\n                {label}\n            </Typography>\n            <Paper\n                component=\"form\"\n                variant=\"outlined\"\n                sx={{\n                    p: \"8px 4px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    borderColor: error ? \"red\" : undefined,\n                    paddingLeft: 2,\n                    paddingRight: 2,\n                }}\n                {...boxprops}\n            >\n                {lefticon}\n                <InputBase\n                    sx={{ ml: 1, flex: 1 }}\n                    placeholder={helpertext}\n                    error={error}\n                    onChange={e => onChange(e.target.value)}\n                    onKeyPress={ev => {\n                        if (ev.key === \"Enter\") {\n                            onEnter();\n                            ev.preventDefault();\n                        }\n                    }}\n                    {...props}\n                />\n                {righticon}\n            </Paper>\n        </Box>\n    );\n};\n\nSearchBar.propTypes = {\n    /** The error text or default label text */\n    label: PropTypes.string,\n    /** callback function when textbox content changes */\n    onChange: PropTypes.func.isRequired,\n    /** callback function when textbox ENTER is pressed */\n    onEnter: PropTypes.func,\n    /** helper text for the search bar */\n    helpertext: PropTypes.string,\n    /** if there is an error or not */\n    error: PropTypes.bool,\n    /** icon displayed on the left of the text box */\n    lefticon: PropTypes.node,\n    /** icon displayed on the right of the text box */\n    righticon: PropTypes.node,\n    /** Props added to the text box */\n    boxprops: PropTypes.any,\n};\n\nexport default SearchBar;\n","export const PYPI_URL = \"https://pypi.org/pypi\";\nexport const THOTH_URL = \"https://khemenu.thoth-station.ninja/api/v1\";\nexport const LICENSES_URL =\n    \"https://raw.githubusercontent.com/spdx/license-list-data/master/json/licenses.json\";\n\n/**\n * used for vis-js graph render engine\n */\nexport const options = {\n    manipulation: {\n        enabled: false,\n        editNode: function (nodeData, callback) {\n            nodeData.fixed = !nodeData.fixed.x;\n            callback(nodeData);\n        },\n    },\n    interaction: {\n        hover: true,\n        hoverConnectedEdges: false,\n        selectConnectedEdges: false,\n        selectable: true,\n    },\n    edges: {\n        chosen: false,\n        smooth: false,\n        color: {\n            color: \"#5c6470\",\n        },\n        arrowStrikethrough: false,\n        arrows: {\n            from: {\n                enabled: true,\n                type: \"triangle\",\n            },\n        },\n    },\n\n    nodes: {\n        chosen: false,\n        color: {\n            background: \"#5c6470\",\n            border: \"#fff\",\n            hover: {\n                background: \"#f39200\",\n                border: \"#fff\",\n            },\n        },\n        shape: \"dot\",\n        size: 10,\n        borderWidth: 2,\n        labelHighlightBold: false,\n        font: {\n            color: \"#393e46\",\n            strokeWidth: 2,\n            size: 15,\n        },\n    },\n    physics: {\n        hierarchicalRepulsion: {\n            damping: 0.1,\n            springLength: 200,\n        },\n        solver: \"hierarchicalRepulsion\",\n        minVelocity: 0.15,\n    },\n};\n","import axios from \"axios\";\nimport { THOTH_URL, PYPI_URL } from \"config\";\nimport { useQueries, useQuery } from \"react-query\";\n\nexport const getPackageMetadata = async (\n    name,\n    version,\n    index,\n    os_name,\n    os_version,\n    python_version,\n) => {\n    return await axios.get(THOTH_URL + \"/python/package/version/metadata\", {\n        params: {\n            name: name,\n            version: version,\n            index: index,\n            os_name: os_name,\n            os_version: os_version,\n            python_version: python_version,\n        },\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const getPackageMetadataPyPi = (name, version) => {\n    return axios\n        .get(PYPI_URL + \"/\" + name + (version ? \"/\" + version : \"\") + \"/json\")\n        .catch(() => {\n            return undefined;\n        });\n};\n\nexport const usePackageMetadata = (\n    name,\n    version,\n    index,\n    os_name,\n    os_version,\n    python_version,\n    config,\n) => {\n    return useQuery({\n        ...config,\n        queryKey: [\n            \"packageMetadata\",\n            name,\n            version,\n            index,\n            os_name,\n            os_version,\n            python_version,\n        ],\n        queryFn: () =>\n            getPackageMetadata(\n                name,\n                version,\n                index,\n                os_name,\n                os_version,\n                python_version,\n            ),\n    });\n};\n\nexport const usePackagesMetadata = (packages, config) => {\n    return useQueries(\n        packages.map(p => {\n            return {\n                ...config,\n                queryKey: [\n                    \"packageMetadata\",\n                    p.name,\n                    p.version,\n                    p.index,\n                    p.os_name,\n                    p.os_version,\n                    p.python_version,\n                ],\n                queryFn: () =>\n                    getPackageMetadata(\n                        p.name,\n                        p.version,\n                        p.index,\n                        p.os_name,\n                        p.os_version,\n                        p.python_version,\n                    ),\n            };\n        }),\n    );\n};\n","import { Button, Grid, Typography } from \"@material-ui/core\";\nimport SearchBar from \"../../../components/Elements/SearchBar\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport React, { useState } from \"react\";\nimport { getPackageMetadataPyPi } from \"../../misc/api\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const PackageSearch = () => {\n    const navigate = useNavigate();\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [searchError, setSearchError] = useState(\"\");\n\n    const handleAnalyze = async () => {\n        // if no query\n        if (searchQuery === \"\") {\n            return;\n        }\n\n        getPackageMetadataPyPi(searchQuery)\n            .then(response => {\n                navigate(\"/package/\" + response.data.info.name);\n            })\n            .catch(() => {\n                setSearchError(\"Package does not exist\");\n            });\n    };\n\n    const handleChange = e => {\n        setSearchQuery(e.target.value);\n        if (searchError !== \"\") {\n            setSearchError(\"\");\n        }\n    };\n\n    return (\n        <Grid container justifyContent=\"center\">\n            <Grid alignSelf=\"flex-start\" item xs={12}>\n                <Typography\n                    color=\"error\"\n                    variant=\"body1\"\n                    sx={{ minHeight: 30 }}\n                >\n                    {searchError ?? \"\"}\n                </Typography>\n            </Grid>\n            <Grid container spacing={2} item xs={12}>\n                <Grid item xs={12} md={10}>\n                    <SearchBar\n                        error={searchError !== \"\"}\n                        onChange={e => handleChange(e)}\n                        helpertext={\"Search for a Python package\"}\n                        type=\"search\"\n                        boxprops={{ mr: 2 }}\n                        lefticon={<SearchRoundedIcon />}\n                    />\n                </Grid>\n                <Grid item xs={12} md={2}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => handleAnalyze()}\n                        sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                    >\n                        <b>Analyze</b>\n                    </Button>\n                </Grid>\n            </Grid>\n        </Grid>\n    );\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\n\nexport const postAdvise = (pipfile, pipfileLock, runtime_environment) => {\n    const data = {\n        application_stack: {\n            requirements: pipfile,\n            requirements_format: \"pipenv\",\n            requirements_lock: pipfileLock,\n        },\n        runtime_environment: runtime_environment,\n    };\n\n    return axios.post(THOTH_URL + \"/advise/python\", data, {\n        params: {\n            recommendation_type: \"stable\",\n            limit: 500,\n        },\n        headers: {\n            accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n    });\n};\n","import * as React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete, { createFilterOptions } from \"@mui/material/Autocomplete\";\nimport { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst filter = createFilterOptions();\n\nexport default function ComboBox({\n    suggestions,\n    label,\n    help,\n    required,\n    error,\n    value,\n    setValue,\n}) {\n    suggestions = useMemo(() => {\n        return suggestions.map(suggestion => {\n            return {\n                title: suggestion,\n            };\n        });\n    }, [suggestions]);\n\n    return (\n        <Autocomplete\n            value={value}\n            onChange={(event, newValue) => {\n                if (typeof newValue === \"string\") {\n                    setValue(newValue);\n                } else if (newValue && newValue.inputValue) {\n                    // Create a new value from the user input\n                    setValue({ title: newValue.inputValue });\n                } else {\n                    setValue(newValue);\n                }\n            }}\n            filterOptions={(options, params) => {\n                const filtered = filter(options, params);\n\n                const { inputValue } = params;\n                // Suggest the creation of a new value\n                const isExisting = options.some(\n                    option => inputValue === option.title,\n                );\n                if (inputValue !== \"\" && !isExisting) {\n                    filtered.push({\n                        inputValue,\n                        title: `Add \"${inputValue}\"`,\n                    });\n                }\n\n                return filtered;\n            }}\n            selectOnFocus\n            clearOnBlur\n            handleHomeEndKeys\n            id=\"free-solo-with-text-demo\"\n            options={suggestions ?? []}\n            getOptionLabel={option => {\n                // Value selected with enter, right from the input\n                if (typeof option === \"string\") {\n                    return option;\n                }\n                // Add \"xxx\" option created dynamically\n                if (option.inputValue) {\n                    return option.inputValue;\n                }\n                // Regular option\n                return option.title;\n            }}\n            renderOption={(props, option) => <li {...props}>{option.title}</li>}\n            freeSolo\n            renderInput={params => (\n                <TextField\n                    fullWidth\n                    {...params}\n                    label={label}\n                    required={required}\n                    error={error !== undefined}\n                    helperText={help}\n                />\n            )}\n        />\n    );\n}\n\nComboBox.propTypes = {\n    suggestions: PropTypes.array,\n    label: PropTypes.string,\n    help: PropTypes.string,\n    required: PropTypes.bool,\n    error: PropTypes.any,\n    value: PropTypes.string,\n    setValue: PropTypes.func,\n};\n","import {\n    Button,\n    Collapse,\n    Grid,\n    Paper,\n    TextField,\n    Typography,\n} from \"@material-ui/core\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport React, { useReducer } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoadingButton from \"@material-ui/lab/LoadingButton\";\nimport { postAdvise } from \"../api\";\nimport ComboBox from \"./ComboBox/ComboBox\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"loading\":\n            return { ...state, loading: action.payload };\n        case \"error\":\n            return {\n                ...state,\n                error: { ...state.error, [action.param]: action.payload },\n            };\n        case \"clear-error\":\n            state.error = {};\n            return state;\n        case \"input\":\n            return {\n                ...state,\n                [action.param]: action.payload,\n                error: { ...state.error, [action.param]: undefined },\n            };\n        default:\n            throw new Error(\"Advise state dispatch error\");\n    }\n}\n\nexport const initState = {\n    error: {},\n    loading: false,\n    lookupType: \"id\",\n    operating_system_name: \"ubi\",\n    operating_system_version: \"8\",\n    platform: \"\",\n    python_version: \"3.8\",\n    cuda_version: \"\",\n    cudnn_version: \"\",\n    mkl_version: \"\",\n    name: \"\",\n    openblas_version: \"\",\n    openmpi_version: \"\",\n    base_image: \"\",\n};\n\nexport const AdviseCreation = () => {\n    const navigate = useNavigate();\n    const [state, dispatch] = useReducer(reducer, initState);\n\n    const isValid = () => {\n        if (state.lookupType === \"id\") {\n            if (!state.id || state.id === \"\") {\n                dispatch({\n                    type: \"error\",\n                    param: \"id\",\n                    payload: \"Field cant be empty\",\n                });\n                return false;\n            }\n        } else {\n            let valid = true;\n            if (!state.pipfile) {\n                valid = false;\n                dispatch({\n                    type: \"error\",\n                    param: \"pipfile\",\n                    payload: \"Field cant be empty\",\n                });\n            }\n            if (!state.pipfileLock) {\n                valid = false;\n                dispatch({\n                    type: \"error\",\n                    param: \"pipfileLock\",\n                    payload: \"Field cant be empty\",\n                });\n            }\n            if (!state.name) {\n                valid = false;\n                dispatch({\n                    type: \"error\",\n                    param: \"name\",\n                    payload: \"Field cant be empty\",\n                });\n            }\n\n            return valid;\n        }\n\n        return true;\n    };\n\n    const handleAnalyze = async () => {\n        if (state.loading || !isValid()) {\n            return;\n        }\n\n        if (state.lookupType === \"id\") {\n            navigate(\"/advise/\" + state.id);\n        } else {\n            dispatch({ type: \"loading\", payload: true });\n            const runtime_environment = {\n                operating_system: {\n                    name: state.operating_system_name,\n                    version: state.operating_system_version,\n                },\n                platform: state.platform,\n                python_version: state.python_version,\n                base_image: state.base_image,\n                cuda_version: state.cuda_version,\n                cudnn_version: state.cudnn_version,\n                mkl_version: state.mkl_version,\n                name: state.name,\n                openblas_version: state.openblas_version,\n                openmpi_version: state.openmpi_version,\n            };\n\n            Object.keys(runtime_environment).forEach(key => {\n                if (runtime_environment[key] === \"\") {\n                    delete runtime_environment[key];\n                }\n            });\n            if (\n                runtime_environment[\"operating_system\"][\"name\"] === \"\" ||\n                runtime_environment[\"operating_system\"][\"version\"] === \"\"\n            ) {\n                delete runtime_environment[\"operating_system\"];\n            }\n\n            postAdvise(state.pipfile, state.pipfileLock, runtime_environment)\n                .then(response => {\n                    dispatch({ type: \"loading\", payload: false });\n                    navigate(\"/advise/\" + response.data.analysis_id);\n                })\n                .catch(error => {\n                    dispatch({ type: \"loading\", payload: false });\n                    if (error?.response?.status === 400) {\n                        if (\n                            error?.response?.data?.error?.includes(\n                                \"Pipfile.lock\",\n                            )\n                        ) {\n                            dispatch({\n                                type: \"error\",\n                                param: \"pipfileLock\",\n                                payload: error?.response?.data?.error,\n                            });\n                        } else if (\n                            error?.response?.data?.error?.includes(\"Pipfile\")\n                        ) {\n                            dispatch({\n                                type: \"error\",\n                                param: \"pipfile\",\n                                payload: error?.response?.data?.error,\n                            });\n                        }\n                    }\n                });\n        }\n    };\n\n    return (\n        <>\n            <Collapse in={state.lookupType === \"id\"}>\n                <>\n                    <Grid container justifyContent=\"center\">\n                        <Grid item xs={12}>\n                            <Typography\n                                color=\"error\"\n                                variant=\"body1\"\n                                sx={{ minHeight: 30 }}\n                            >\n                                {state.error?.id}\n                            </Typography>\n                        </Grid>\n                        <Grid container item xs={12} spacing={2}>\n                            <Grid item xs={12} md={10}>\n                                <SearchBar\n                                    error={state.error?.id}\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"id\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    helpertext={\"Analysis ID\"}\n                                    type=\"search\"\n                                    boxprops={{ mr: 2 }}\n                                    lefticon={<SearchRoundedIcon />}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={2}>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={() => handleAnalyze()}\n                                    sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                                >\n                                    <b>Analyze</b>\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                    <Button\n                        onClick={() =>\n                            dispatch({\n                                type: \"input\",\n                                param: \"lookupType\",\n                                payload: \"manual\",\n                            })\n                        }\n                    >\n                        New Advise\n                    </Button>\n                </>\n            </Collapse>\n\n            <Collapse in={state.lookupType === \"manual\"}>\n                <>\n                    <Typography variant={\"h6\"} mt={3}>\n                        Advise Parameters\n                    </Typography>\n                    <Paper\n                        sx={{\n                            backgroundColor: \"white\",\n                            padding: 3,\n                            marginBottom: 5,\n                        }}\n                        variant=\"outlined\"\n                    >\n                        <Grid container spacing={2}>\n                            <Grid item xs={12} md={6}>\n                                <SearchBar\n                                    label={\n                                        state.error?.pipfile\n                                            ? state.error?.pipfile\n                                            : \"Pipfile contents\"\n                                    }\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"pipfile\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    error={state.error?.pipfile !== undefined}\n                                    multiline\n                                    rows={8}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={6}>\n                                <SearchBar\n                                    label={\n                                        state.error?.pipfileLock\n                                            ? state.error?.pipfileLock\n                                            : \"Pipfile.lock contents\"\n                                    }\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"pipfileLock\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    error={\n                                        state.error?.pipfileLock !== undefined\n                                    }\n                                    multiline\n                                    rows={8}\n                                />\n                            </Grid>\n                        </Grid>\n                        <Grid container mt={4} spacing={2}>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"base_image\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    value={state.base_image}\n                                    sx={{ minWidth: \"100%\" }}\n                                    label=\"Base Image\"\n                                    required={false}\n                                    helperText=\"A base container image used to run the application.\"\n                                    error={state.error?.base_image}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"cuda_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.cuda_version}\n                                    suggestions={[\"9.0\"]}\n                                    label=\"CUDA Version\"\n                                    required={false}\n                                    help=\"Nvidia CUDA version which the application uses.\"\n                                    error={state.error?.cuda_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"cudnn_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.cudnn_version}\n                                    suggestions={[\"8\"]}\n                                    label=\"cuDNN Version\"\n                                    required={false}\n                                    help=\"NVIDIA cuDNN version used, if any.\"\n                                    error={state.error?.cudnn_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"mkl_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.mkl_version}\n                                    suggestions={[\"2021.1.1\"]}\n                                    label=\"MKL Version\"\n                                    required={false}\n                                    help=\"Intel® Math Kernel Library version used, if any.\"\n                                    error={state.error?.mkl_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"name\",\n                                            payload: e.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.name}\n                                    suggestions={[\"ubi:8-prod\"]}\n                                    label=\"Name\"\n                                    required={true}\n                                    help=\"User defined name of the runtime environment.\"\n                                    error={state.error?.name}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"openblas_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.openblas_version}\n                                    suggestions={[\"0.3.13\"]}\n                                    label=\"OpenBLAS Version\"\n                                    required={false}\n                                    help=\"OpenBLAS version used, if any.\"\n                                    error={state.error?.openblas_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"openmpi_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.openmpi_version}\n                                    suggestions={[\"4.1\"]}\n                                    label=\"Open MPI Version\"\n                                    required={false}\n                                    help=\"Open MPI version used, if any.\"\n                                    error={state.error?.openmpi_version}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"operating_system_name\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    value={state.operating_system_name}\n                                    sx={{ minWidth: \"100%\" }}\n                                    label=\"Operating System Name\"\n                                    required={false}\n                                    helperText=\"Operating system name used.\"\n                                    error={state.error?.operating_system_name}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"operating_system_version\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    value={state.operating_system_version}\n                                    sx={{ minWidth: \"100%\" }}\n                                    label=\"Operating System Version\"\n                                    required={false}\n                                    helperText=\"Operating system version used.\"\n                                    error={\n                                        state.error?.operating_system_version\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"platform\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.platform}\n                                    suggestions={[\"linux-x86_64\"]}\n                                    label=\"Platform\"\n                                    required={false}\n                                    help=\"Platform used - corresponds to sysconfig.get_platform() call.\"\n                                    error={state.error?.platform}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"python_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.python_version}\n                                    suggestions={[\n                                        \"2.7\",\n                                        \"3.6\",\n                                        \"3.7\",\n                                        \"3.8\",\n                                        \"3.9\",\n                                    ]}\n                                    label=\"Python Version\"\n                                    required={false}\n                                    help=\"Python version on which the application runs on.\"\n                                    error={state.error?.python_version}\n                                />\n                            </Grid>\n                            <Grid container item xs={12} spacing={2}>\n                                <Grid item xs={6} md={6}>\n                                    <Button\n                                        variant=\"outlined\"\n                                        color=\"primary\"\n                                        onClick={() =>\n                                            dispatch({\n                                                type: \"input\",\n                                                param: \"lookupType\",\n                                                payload: \"id\",\n                                            })\n                                        }\n                                        sx={{\n                                            minHeight: \"100%\",\n                                            minWidth: \"100%\",\n                                        }}\n                                    >\n                                        <b>Cancel</b>\n                                    </Button>\n                                </Grid>\n                                <Grid item xs={6}>\n                                    <LoadingButton\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={() => handleAnalyze()}\n                                        loading={state.loading}\n                                        sx={{\n                                            minHeight: \"100%\",\n                                            minWidth: \"100%\",\n                                        }}\n                                    >\n                                        <b>Analyze</b>\n                                    </LoadingButton>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                </>\n            </Collapse>\n        </>\n    );\n};\n","// react\nimport React, { useState } from \"react\";\n\n// material-ui\nimport {\n    Typography,\n    Grid,\n    Divider,\n    ToggleButtonGroup,\n    ToggleButton,\n    Box,\n} from \"@material-ui/core\";\n\nimport { useTheme } from \"@mui/material/styles\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\n\n// local\nimport TabPanel from \"components/Elements/TabPanel\";\nimport logo from \"assets/thoth-logo.png\";\n\nimport { PackageSearch, AdviseCreation } from \"../components\";\n\nexport const Home = () => {\n    // utility states\n    const [mode, setMode] = useState(\"multiple\");\n\n    const theme = useTheme();\n    const matches = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n    // change mode view\n    const handleMode = (event, newMode) => {\n        if (newMode) {\n            setMode(newMode);\n        }\n    };\n\n    return (\n        <div\n            style={{\n                maxWidth: \"1000px\",\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n            }}\n        >\n            <Grid container justifyContent=\"center\">\n                <Grid item>\n                    <Box sx={{ marginTop: 10 }}>\n                        <img\n                            alt=\"Thoth Logo\"\n                            src={logo}\n                            height={!matches ? \"auto\" : 300}\n                            width={\"100%\"}\n                        />\n                    </Box>\n                </Grid>\n                <Grid container item justifyContent=\"center\" mt={5} spacing={0}>\n                    <Grid container item sm={12} md={6} align=\"center\" mr={5}>\n                        <Grid item xs={12} align=\"left\" mb={3}>\n                            <Typography variant=\"h4\">\n                                <b>Thoth Search</b>\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} align=\"left\">\n                            <Typography variant=\"subtitle1\">\n                                Thoth Search is a tool that runs analysis on a\n                                Python application. It utilizes package metadata\n                                and Thoth Adviser to analyse and recommend a\n                                software stack. You can run analysis on an\n                                entire Python application using a properly\n                                formatted Pipfile and Pipfile.lock.\n                                Alternatively, you can analyse a single Python\n                                package to see what Thoth knows about the\n                                package.\n                            </Typography>\n                        </Grid>\n                    </Grid>\n\n                    <Grid\n                        item\n                        container\n                        sm={12}\n                        md={5}\n                        direction=\"column\"\n                        justifyContent=\"center\"\n                        spacing={1}\n                    >\n                        {[\n                            [\"One\", \"100k\"],\n                            [\"Two\", \"20%\"],\n                            [\"Three\", \"62\"],\n                            [\"Four\", \"N/A\"],\n                        ].map((stat, i) => {\n                            return (\n                                <Grid\n                                    item\n                                    container\n                                    alignItems=\"center\"\n                                    key={i}\n                                >\n                                    <Grid item xs={6}>\n                                        <Typography variant=\"h6\">\n                                            <b>Thoth Statistic {stat[0]}</b>\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs={6}>\n                                        <Typography variant=\"h5\" align=\"right\">\n                                            {stat[1]}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            );\n                        })}\n                    </Grid>\n                    <Grid item xs={12} align=\"center\" mt={3} mb={4}>\n                        <ToggleButtonGroup\n                            value={mode}\n                            exclusive\n                            onChange={handleMode}\n                            size={!matches ? \"small\" : \"large\"}\n                        >\n                            <ToggleButton value=\"single\">\n                                <b>single package analysis</b>\n                            </ToggleButton>\n                            <ToggleButton value=\"multiple\">\n                                <b>Python application analysis</b>\n                            </ToggleButton>\n                        </ToggleButtonGroup>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <Divider sx={{ marginBottom: 3 }} />\n                        <TabPanel value={mode} index=\"single\">\n                            <PackageSearch />\n                        </TabPanel>\n                        <TabPanel value={mode} index={\"multiple\"}>\n                            <AdviseCreation />\n                        </TabPanel>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </div>\n    );\n};\n","import React from \"react\";\n\nexport const NotFound = () => {\n    return <div>404</div>;\n};\n","import React from \"react\";\n\nimport { Box } from \"@material-ui/core\";\n\nexport const Footer = () => {\n    return (\n        <Box\n            pb={3}\n            pt={6}\n            sx={{\n                backgroundColor: \"#444f60\",\n                textAlign: \"center\",\n                color: \"white\",\n            }}\n        >\n            This is a footer\n        </Box>\n    );\n};\n","import * as React from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Footer } from \"../Footer\";\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        paddingRight: theme.spacing(3),\n        paddingLeft: theme.spacing(3),\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(15),\n        minHeight: \"100vh\",\n    },\n}));\n\n/**\n * Main layout adds margins and spacing to the whole app.\n */\nexport const MainLayout = ({ children }) => {\n    const classes = useStyles();\n\n    return (\n        <>\n            <div className={classes.root}>{children}</div>\n            <Footer />\n        </>\n    );\n};\n\nMainLayout.propTypes = {\n    children: PropTypes.node,\n};\n","import * as React from \"react\";\nimport { Tab, Tabs } from \"@material-ui/core\";\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A layout used for the advise feature tabs. It formats the tabs as router links.\n */\nexport const AdviseLayout = ({ children, header }) => {\n    const location = useLocation();\n\n    return (\n        <>\n            <div>\n                {header}\n                <Tabs\n                    value={location.pathname.split(\"/\").at(-1)}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                >\n                    <Tab\n                        label=\"Summary\"\n                        value={\"summary\"}\n                        component={RouterLink}\n                        to=\"summary\"\n                    />\n                    <Tab\n                        label=\"Advise Results\"\n                        value={\"details\"}\n                        component={RouterLink}\n                        to=\"details\"\n                    />\n                </Tabs>\n            </div>\n            <div>{children}</div>\n        </>\n    );\n};\n\nAdviseLayout.propTypes = {\n    children: PropTypes.node,\n    header: PropTypes.element,\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Card, CardContent, CardHeader, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n    root: {\n        minWidth: 275,\n        height: \"100%\",\n    },\n    bullet: {\n        display: \"inline-block\",\n        margin: \"0 2px\",\n        transform: \"scale(0.8)\",\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n});\n\n/** Card template for metric cards. */\nconst InfoCard = ({ cardMeta, cardBody, cardAction }) => {\n    const classes = useStyles();\n\n    return (\n        <Card className={classes.root}>\n            <CardHeader\n                action={cardAction}\n                title={<Typography variant=\"h5\">{cardMeta.title}</Typography>}\n                subheader={cardMeta.subTitle}\n            />\n            <CardContent>{cardBody}</CardContent>\n        </Card>\n    );\n};\n\nInfoCard.propTypes = {\n    /** card header info */\n    cardMeta: PropTypes.shape({\n        /** card title */\n        title: PropTypes.string.isRequired,\n        /** optional subtitle */\n        subTitle: PropTypes.string,\n    }),\n    /** optional card action component (usually some button) */\n    cardAction: PropTypes.node,\n    /** Card body content */\n    cardBody: PropTypes.node,\n};\n\nexport default InfoCard;\n","import React from \"react\";\n\n// material-ui\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\n\n// react\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n}));\n\n/**\n * Text with an icon to the right of it.\n */\nconst IconText = ({ text, icon, link, className, ...props }) => {\n    const classes = useStyles();\n    return (\n        <div className={`${classes.root} ${className}`} {...props}>\n            {icon}\n            <Typography href={link ? link : null} variant=\"body2\" marginLeft>\n                {text}\n            </Typography>\n        </div>\n    );\n};\n\nexport default IconText;\n\nIconText.propTypes = {\n    /** The text shown */\n    text: PropTypes.string.isRequired,\n    /** The icon component to be displayed */\n    icon: PropTypes.node.isRequired,\n    /** Optional link if text is selected */\n    link: PropTypes.string,\n    /** additional styling */\n    className: PropTypes.string,\n};\n","export function formatLockfile(lockfile) {\n    return Object.entries(lockfile.requirements_locked.default).map(\n        ([key, value]) => {\n            return {\n                name: key,\n                version: value.version.replace(\"==\", \"\"),\n                index: \"https://pypi.org/simple\", //TODO no hard code\n                os_name: lockfile.runtime_environment.operating_system.name,\n                os_version:\n                    lockfile.runtime_environment.operating_system.version,\n                python_version: lockfile.runtime_environment.python_version,\n            };\n        },\n    );\n}\n","export default function timeSince(date) {\n    var seconds = Math.floor((new Date() - date) / 1000);\n\n    var interval = seconds / 31536000;\n\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 2592000;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 86400;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 3600;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 60;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n    }\n    const num = Math.floor(seconds);\n    return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","import timeSince from \"utils/timeSince\";\n\n/**\n * Given either a date and time, calculated time since that date.\n * This is used to calculate how long ago an Advisor document was generated or has been generating.\n * It is specific to the document formatting\n *\n * @param {string} finished_at - for when the advise document is completed\n * @param {string} started_at - the time at which the document was started (is preceded by finished at)\n * @param {string} datetime - fallback to datetime\n * @returns {string} - English version of date\n */\nexport const calcTime = (finished_at, started_at, datetime) => {\n    // if status says finished\n    if (finished_at) {\n        return \"Advise finished \" + timeSince(new Date(finished_at)) + \" ago.\";\n    }\n    // if status is pending\n    else if (started_at) {\n        return \"Advise started \" + timeSince(new Date(started_at)) + \" ago.\";\n    }\n    // if status is nulled so use metadata end date\n    else if (datetime) {\n        return (\n            \"Advise finished \" + timeSince(new Date(datetime + \"Z\")) + \" ago.\"\n        );\n    } else {\n        return \"Time started/finished not available\";\n    }\n};\n","const whyRemoved = (start, packages) => {\n    const visited = new Map();\n    const visitList = [];\n\n    visitList.push(start);\n\n    const reasonNodes = [];\n\n    while (visitList.length !== 0) {\n        const node = visitList.pop();\n        if (node && !visited.has(node)) {\n            visited.set(node);\n\n            if (node.value.change === \"version\") {\n                reasonNodes.push(node);\n            } else {\n                node.parents.forEach(adj => {\n                    if (adj === \"*App\") {\n                        if (node.key !== start.key) {\n                            reasonNodes.push(node);\n                        }\n                        return;\n                    }\n                    visitList.push(packages.get(adj));\n                });\n            }\n        }\n    }\n\n    return reasonNodes.map(node => {\n        const reason =\n            node.value.change === \"version\"\n                ? \" had its version changed to \" +\n                  node.value.version +\n                  \" from \" +\n                  node.value.oldVersion +\n                  \". Version \" +\n                  node.value.oldVersion +\n                  \" of \" +\n                  node.key +\n                  \" included package \" +\n                  start.value.label +\n                  \" as a dependency, where version \" +\n                  node.value.version +\n                  \" does not. \"\n                : \" did not have any dependents and was removed by the Thoth resolver.\";\n        return {\n            package: node.key,\n            reason: reason,\n        };\n    });\n};\n\nexport const discoverPackageChanges = (nodes, justifications) => {\n    if (!nodes || !justifications) {\n        return;\n    }\n\n    const justifiedPackages = new Map();\n    justifications.forEach(justification => {\n        if (justification.package_name) {\n            if (justifiedPackages.has(justification.package_name)) {\n                justifiedPackages.set(justification.package_name, [\n                    ...justifiedPackages.get(justification.package_name),\n                    justification,\n                ]);\n            } else {\n                justifiedPackages.set(justification.package_name, [\n                    justification,\n                ]);\n            }\n        }\n    });\n\n    nodes.forEach(node => {\n        let justification = {\n            package: node.key,\n        };\n\n        if (node.value.change === \"removed\") {\n            // set header\n            justification.header = `${node.value.label} was ${\n                node.value.depth === 0 ? \"directly\" : \"indirectly\"\n            } removed by Thoth resolver.`;\n\n            // set reasons for removal\n            justification.reasons = whyRemoved(node, nodes);\n\n            // if no reasons for removal\n            if (justification.reasons.length === 0) {\n                justification.header = `${node.value.label} was removed for an unknown reason. The package does not have dependents in the Pipfile.lock.`;\n            }\n        }\n        // if added\n        else if (node.value.change === \"added\") {\n            justification.header = `${node.value.label} was added to the Pipfile.lock by Thoth resolver.`;\n        }\n\n        // if added\n        else if (node.value.change === \"version\") {\n            justification.header = `${node.key} had its version changed from ${node.value.oldVersion} to ${node.value.version}.`;\n        }\n\n        // if unchanged\n        else {\n            justification.header =\n                \"Thoth resolver did not remove or change package \" +\n                node.value.label +\n                \".\";\n        }\n\n        // check if there is a justification for change\n        if (justifiedPackages.has(node.key)) {\n            const reasons = justifiedPackages.get(node.key);\n            justification = {\n                ...justification,\n                thoth: reasons,\n            };\n        }\n\n        node.value.justifications = justification;\n    }, []);\n};\n","import React from \"react\";\nimport { Button, Alert } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A custom alert card.\n */\nconst CustomAlert = ({ info, ...props }) => {\n    return (\n        <Alert\n            className={props?.className}\n            action={\n                <Button color=\"inherit\" size=\"small\" href={info?.link}>\n                    DETAILS\n                </Button>\n            }\n            severity={info.type.toLowerCase()}\n        >\n            {info?.message}\n        </Alert>\n    );\n};\n\nCustomAlert.propTypes = {\n    /** The alert content. */\n    info: PropTypes.shape({\n        /** Link to navigate to if alert is actioned on. */\n        link: PropTypes.string.isRequired,\n        /** Text displayed in the alert. */\n        message: PropTypes.string.isRequired,\n        /** Severity (color) of alert: `[\"ERROR\", \"WARNING\", \"INFO\", \"SUCCESS\"]`. */\n        type: PropTypes.oneOf([\"ERROR\", \"WARNING\", \"INFO\", \"SUCCESS\"])\n            .isRequired,\n    }).isRequired,\n    /** The `material-ui` styling classname */\n    className: PropTypes.string,\n};\n\nexport default CustomAlert;\n","// React\nimport React, { useMemo } from \"react\";\n\n// material-ui\nimport { Typography, Chip, Button, Collapse } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\nimport FeedRoundedIcon from \"@mui/icons-material/FeedRounded\";\n// local\nimport IconText from \"components/Elements/IconText\";\n\n// utils\nimport { calcTime } from \"../../utils\";\n\n// local\nimport CustomAlert from \"./CustomAlert\";\nimport PropTypes from \"prop-types\";\n\n// component styling\n\nconst useStyles = makeStyles(theme => ({\n    titleRow: {\n        display: \"flex\",\n        alignItems: \"center\",\n        marginBottom: theme.spacing(1),\n    },\n    marginLeft: {\n        marginLeft: theme.spacing(2),\n    },\n    marginRight: {\n        marginRight: theme.spacing(2),\n    },\n    linksRow: {\n        display: \"flex\",\n        marginBottom: theme.spacing(3),\n        alignItems: \"center\",\n    },\n    alert: {\n        width: \"100%\",\n        marginTop: theme.spacing(1),\n    },\n}));\n\n/**\n * Displays basic Advise document information and\n * displays any errors, info, or warnings that came up\n * in the document generation.\n */\nexport const AdviseHeader = ({ adviseDocument, logs }) => {\n    const classes = useStyles();\n    const [expandAlerts, setExpandAlerts] = React.useState(false);\n    const [showLogs, setShowLogs] = React.useState(false);\n    const [selectedLine, setSelectedLine] = React.useState();\n\n    // get status of the report\n    const [statusText, statusColor] = useMemo(() => {\n        // if report is done\n        if (adviseDocument?.result?.report) {\n            if (adviseDocument.result.report.ERROR) {\n                return [\"ERROR\", \"error\"];\n            } else {\n                return [\"COMPLETE\", \"success\"];\n            }\n        } else if (adviseDocument?.result?.error) {\n            return [\"ERROR\", \"error\"];\n        }\n        // if report is not done\n        else if (adviseDocument?.status?.state) {\n            return [adviseDocument.status.state.toUpperCase(), \"info\"];\n        } else {\n            return [\"UNKNOWN\", undefined];\n        }\n    }, [adviseDocument]);\n\n    // get alerts from report\n    const alerts = useMemo(() => {\n        if (adviseDocument?.result?.report) {\n            return adviseDocument?.result?.report?.stack_info\n                ? adviseDocument?.result?.report.stack_info.filter(alert => {\n                      return alert.type === \"ERROR\";\n                  })\n                : null;\n        }\n    }, [adviseDocument]);\n\n    return (\n        <div>\n            <Typography variant=\"h4\">\n                <b>\n                    {adviseDocument?.metadata?.document_id ??\n                        adviseDocument?.parameters?.analysis_id}\n                </b>\n            </Typography>\n            <div className={classes.linksRow}>\n                <Chip label={statusText} color={statusColor} />\n                <IconText\n                    className={classes.marginLeft}\n                    text={calcTime(\n                        adviseDocument?.status?.finished_at,\n                        adviseDocument?.status?.started_at,\n                        adviseDocument?.metadata?.datetime,\n                    )}\n                    icon={<AccessTimeIcon />}\n                />\n                <Button\n                    sx={{ marginLeft: 2 }}\n                    onClick={() => setShowLogs(!showLogs)}\n                >\n                    <IconText text=\"Logs\" icon={<FeedRoundedIcon />} />\n                </Button>\n            </div>\n            <Typography variant={\"subtitle2\"}>\n                {adviseDocument?.result?.report?.ERROR ??\n                    adviseDocument?.error ??\n                    adviseDocument?.result?.error_msg}\n            </Typography>\n            {alerts?.length > 0 ? (\n                <div>\n                    <CustomAlert info={alerts[0]} />\n                    <Collapse in={expandAlerts} timeout=\"auto\" unmountOnExit>\n                        {alerts?.slice(1).map((info, i) => {\n                            return (\n                                <CustomAlert\n                                    key={i}\n                                    info={info}\n                                    className={classes.alert}\n                                />\n                            );\n                        })}\n                    </Collapse>\n\n                    <Button\n                        color=\"inherit\"\n                        size=\"small\"\n                        onClick={() => setExpandAlerts(!expandAlerts)}\n                    >\n                        {alerts?.length > 1\n                            ? expandAlerts\n                                ? \"LESS\"\n                                : \"MORE\"\n                            : null}\n                    </Button>\n                </div>\n            ) : null}\n\n            <Collapse in={showLogs}>\n                {logs?.split(\"\\n\").map((line, i) => {\n                    return (\n                        <Typography\n                            key={i}\n                            noWrap={selectedLine !== i}\n                            onClick={() =>\n                                setSelectedLine(\n                                    selectedLine === i ? undefined : i,\n                                )\n                            }\n                            variant=\"body2\"\n                            sx={{\n                                backgroundColor:\n                                    selectedLine === i\n                                        ? \"lightyellow\"\n                                        : i % 2 === 0\n                                        ? \"lightgray\"\n                                        : \"unset\",\n                            }}\n                        >\n                            {line}\n                        </Typography>\n                    );\n                }) ?? \"Advisor log is not available.\"}\n            </Collapse>\n\n            {statusText === \"COMPLETE\" ? (\n                <Typography variant=\"body1\" sx={{ color: \"text.secondary\" }}>\n                    Thoth has added and removed packages from the original\n                    Pipfile.lock, resulting in a <i>new</i> Pipfile.lock. Switch\n                    between the new and old Python environments to see the\n                    differences.\n                </Typography>\n            ) : null}\n        </div>\n    );\n};\n\nAdviseHeader.propTypes = {\n    /** the Advise document id*/\n    adviseDocument: PropTypes.object.isRequired,\n    logs: PropTypes.string,\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { withStyles, makeStyles } from \"@material-ui/styles\";\nimport { LinearProgress, Typography, Grid } from \"@material-ui/core\";\n\nconst CustomLinearProgress = withStyles(theme => ({\n    root: {\n        height: 10,\n        borderRadius: 5,\n    },\n    colorPrimary: {\n        backgroundColor:\n            theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700],\n    },\n    bar: {\n        borderRadius: 5,\n        backgroundColor: \"#1a90ff\",\n    },\n}))(LinearProgress);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(6,1fr)\",\n        alignItems: \"center\",\n        gridGap: theme.spacing(1),\n    },\n    label: {\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n    },\n    value: {\n        textAlign: \"end\",\n    },\n}));\n\n/**\n * A horizontal bar for showing a percent of a total.\n */\nconst ProgressBar = ({ value, total, label, action }) => {\n    const classes = useStyles();\n    return (\n        <Grid container spacing={1} alignItems=\"center\">\n            <Grid item xs={5}>\n                <Typography variant=\"body2\" className={classes.label}>\n                    {label}\n                </Typography>\n            </Grid>\n            <Grid item xs={1.75}>\n                <Typography className={classes.value} variant=\"body2\">\n                    {value}\n                </Typography>\n            </Grid>\n            <Grid item xs>\n                <CustomLinearProgress\n                    variant=\"determinate\"\n                    value={total > 0 ? (value / total) * 100 : 0}\n                />\n            </Grid>\n            <Grid item xs={1}>\n                <div>{action ?? null}</div>\n            </Grid>\n        </Grid>\n    );\n};\n\nProgressBar.propTypes = {\n    /** the amount (numerator) for the bar */\n    value: PropTypes.number.isRequired,\n    /** the total (denominator) for the bar */\n    total: PropTypes.number.isRequired,\n    /** optional label */\n    label: PropTypes.string,\n    /** action used on card */\n    action: PropTypes.node,\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { Typography, Divider, Skeleton, Box } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\n/**\n * A metric card that aggregates changes between the initial dependency\n * graph and the Thoth made dependency graph.\n */\nexport const AdviseMetric = ({ metric }) => {\n    const total =\n        metric?.added + metric?.removed + metric?.version + metric?.unchanged;\n    const justTotal = Object.values(metric?.justification ?? {}).reduce(\n        (a, b) => a + b,\n        0,\n    );\n\n    if (!metric) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                {metric?.build}\n            </Typography>\n            <Typography variant=\"h6\" gutterBottom mt={2}>\n                What Thoth Changed\n            </Typography>\n            <Divider mb={1} />\n            <ProgressBar\n                value={metric?.added ?? 0}\n                total={total}\n                label={\"Added Packages\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={metric?.removed ?? 0}\n                total={total}\n                label={\"Removed Packages\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={metric?.version ?? 0}\n                total={total}\n                label={\"Version Changes\"}\n            />\n            <Typography variant=\"h6\" mt={3} gutterBottom>\n                Justification Counts\n            </Typography>\n            <Divider mb={1} />\n            {Object.entries(metric?.justification ?? {}).map(([key, value]) => {\n                return (\n                    <ProgressBar\n                        key={key}\n                        value={value}\n                        total={justTotal}\n                        label={key}\n                        mb={1}\n                    />\n                );\n            })}\n        </>\n    );\n};\n\nAdviseMetric.propTypes = {\n    /** The metric object info of aggregated data */\n    metric: PropTypes.shape({\n        /** The number of new dependencies */\n        added: PropTypes.number,\n        /** The number of removed dependencies */\n        removed: PropTypes.number,\n        /** The number of dependencies whose version was changed*/\n        version: PropTypes.number,\n        /** The number of dependencies that did not change*/\n        unchanged: PropTypes.number,\n        /** The number Thoth justification (warnings) that were produced */\n        justification: PropTypes.object,\n        /** which build is being displayed (new or old) */\n        build: PropTypes.string,\n    }),\n};\n","import React from \"react\";\n\nimport { ToggleButtonGroup, ToggleButton } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A button group for toggling between old and new dependency graphs.\n * It takes two parameters, a callback function and a state variable.\n */\nexport const CustomCardAction = ({ value, onChange }) => {\n    return (\n        <ToggleButtonGroup\n            value={value}\n            exclusive\n            size=\"small\"\n            onChange={onChange}\n        >\n            <ToggleButton value=\"oldGraph\">Old</ToggleButton>\n            <ToggleButton value=\"newGraph\">New</ToggleButton>\n        </ToggleButtonGroup>\n    );\n};\n\nCustomCardAction.propTypes = {\n    /** The state variable the buttons use to control the active value */\n    value: PropTypes.string.isRequired,\n    /** The callback function that runs when a button is changed */\n    onChange: PropTypes.func.isRequired,\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\n// material-ui\nimport { TransitionGroup } from \"react-transition-group\";\n\nimport {\n    Typography,\n    Divider,\n    List,\n    ListItem,\n    ListItemText,\n    Grid,\n    Collapse,\n    Box,\n    Skeleton,\n} from \"@material-ui/core\";\n\n/**\n * A metric card that displays direct, indirect, and root packages of a dependency graph.\n */\nexport const DependenciesMetric = ({ all, roots }) => {\n    const totalDependencies =\n        (all?.direct ?? 0) + (all?.indirect ?? 0) + (all?.roots ?? 0);\n\n    if (!all || !roots) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <>\n            <Typography variant=\"h6\" gutterBottom>\n                All Packages\n            </Typography>\n            <Divider mb={1} />\n            <ProgressBar\n                value={all?.roots ?? 0}\n                total={totalDependencies}\n                label={\"Root\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={all?.direct ?? 0}\n                total={totalDependencies}\n                label={\"Direct\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={all?.indirect ?? 0}\n                total={totalDependencies}\n                label={\"Indirect\"}\n            />\n            <Typography variant=\"h6\" gutterBottom mt={2}>\n                Root Packages\n            </Typography>\n            <Divider mb={1} />\n            <List component=\"nav\">\n                <TransitionGroup>\n                    {Object.entries(roots ?? {})?.map(([key]) => {\n                        const t =\n                            (roots[key].direct ?? 0) +\n                            (roots[key].indirect ?? 0);\n                        return (\n                            <Collapse key={key}>\n                                <div>\n                                    <ListItem>\n                                        <Grid container alignItems=\"center\">\n                                            <Grid item xs>\n                                                <ListItemText primary={key} />\n                                            </Grid>\n                                            <Grid item xs>\n                                                <Grid\n                                                    container\n                                                    direction=\"column\"\n                                                >\n                                                    <Grid item xs>\n                                                        <ProgressBar\n                                                            value={\n                                                                roots?.[key]\n                                                                    ?.direct ??\n                                                                0\n                                                            }\n                                                            total={t}\n                                                            label={\"Direct\"}\n                                                        />\n                                                    </Grid>\n                                                    <Grid item xs>\n                                                        <ProgressBar\n                                                            value={\n                                                                roots?.[key]\n                                                                    ?.indirect ??\n                                                                0\n                                                            }\n                                                            total={t}\n                                                            label={\"Indirect\"}\n                                                        />\n                                                    </Grid>\n                                                </Grid>\n                                            </Grid>\n                                        </Grid>\n                                    </ListItem>\n                                    <Divider variant={\"middle\"} mb={1} />\n                                </div>\n                            </Collapse>\n                        );\n                    })}\n                </TransitionGroup>\n            </List>\n        </>\n    );\n};\n\nDependenciesMetric.propTypes = {\n    /** summary object of all roots aggregated */\n    all: PropTypes.shape({\n        /** number of dependencies directly related to root packages */\n        direct: PropTypes.number,\n        /** number of dependencies directly or indirectly related to the direct packages*/\n        indirect: PropTypes.number,\n        /** number of dependencies that have no dependents*/\n        roots: PropTypes.number,\n    }),\n    /** an object of key (package name) value pairs of specific roots with direct and indirect parameters for each value */\n    roots: PropTypes.objectOf(\n        PropTypes.shape({\n            /** roots own direct packages */\n            direct: PropTypes.number,\n            /** roots own indirect packages */\n            indirect: PropTypes.number,\n        }),\n    ),\n};\n","import React from \"react\";\n\n// material-ui\nimport { Divider, Collapse, Chip, Grid, Box } from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport CheckRoundedIcon from \"@material-ui/icons/CheckRounded\";\nimport HelpOutlineRoundedIcon from \"@material-ui/icons/HelpOutlineRounded\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\nimport PropTypes from \"prop-types\";\n\n/**\n * A custom list item displaying the number of packages under a particular license.\n */\nconst LicenseGroup = ({ name, metadata, packages, totalLicenses }) => {\n    const [open, setOpen] = React.useState(false);\n\n    return (\n        <Grid container>\n            <Grid item xs={1}>\n                {metadata?.isOsiApproved === null ? (\n                    <HelpOutlineRoundedIcon />\n                ) : metadata?.isOsiApproved ? (\n                    <CheckRoundedIcon />\n                ) : null}\n            </Grid>\n            <Grid item xs>\n                <Box onClick={() => setOpen(!open)}>\n                    <ProgressBar\n                        key={name}\n                        value={Object.keys(packages).length ?? 0}\n                        total={totalLicenses}\n                        label={name}\n                        action={open ? <ExpandLess /> : <ExpandMore />}\n                    />\n                </Box>\n                <Collapse in={open} timeout=\"auto\" unmountOnExit>\n                    <Box my={1}>\n                        {Object.entries(packages)\n                            .sort((a, b) => {\n                                return a[1] - b[1];\n                            })\n                            .map(([k, v]) => {\n                                return (\n                                    <Chip\n                                        key={k}\n                                        sx={{ margin: 0.5 }}\n                                        color={\n                                            v.depth === 0\n                                                ? \"primary\"\n                                                : v.depth === 1\n                                                ? \"secondary\"\n                                                : \"default\"\n                                        }\n                                        label={k}\n                                    />\n                                );\n                            })}\n                    </Box>\n                    <Divider />\n                </Collapse>\n            </Grid>\n        </Grid>\n    );\n};\n\nLicenseGroup.propTypes = {\n    /** The license name */\n    name: PropTypes.string.isRequired,\n    /** License specific infomration */\n    metadata: PropTypes.shape({\n        /** If license is approved by OSI standards */\n        isOsiApproved: PropTypes.bool,\n    }),\n    /** The packages that use this license as an object */\n    packages: PropTypes.objectOf(\n        PropTypes.shape({\n            depth: PropTypes.number.isRequired,\n        }),\n    ).isRequired,\n    /** The total number of packages that have licenses. (used to add a total to the metric bar) */\n    totalLicenses: PropTypes.number.isRequired,\n};\n\nexport default LicenseGroup;\n","// react\nimport React, { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport {\n    Typography,\n    Divider,\n    Collapse,\n    Button,\n    Box,\n    Grid,\n    Skeleton,\n} from \"@material-ui/core\";\nimport { TransitionGroup } from \"react-transition-group\";\n\n// local\nimport LicenseGroup from \"./LicenseGroup\";\n\n/**\n * A metric card that visualizes license data for all packages in the graph.\n */\nexport const LicenseMetric = ({ metric }) => {\n    const [more, setMore] = React.useState(false);\n\n    const licenses = useMemo(\n        () =>\n            Object.entries(metric ?? {}).sort((a, b) => {\n                return Object.keys(b[1]).length - Object.keys(a[1]).length;\n            }),\n        [metric],\n    );\n\n    const totalLicenses = useMemo(\n        () =>\n            Object.entries(metric ?? {}).reduce((sum, [, val]) => {\n                return sum + Object.keys(val.packages).length;\n            }, 0),\n        [metric],\n    );\n\n    if (!metric) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <div>\n            <Grid container>\n                <Grid item xs={1}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        OSI\n                    </Typography>\n                </Grid>\n                <Grid item xs>\n                    <Typography variant=\"h6\" gutterBottom>\n                        Dependency Licenses\n                    </Typography>\n                </Grid>\n            </Grid>\n\n            <Divider />\n            <TransitionGroup>\n                {licenses?.slice(0, 10).map(([key, value]) => {\n                    return (\n                        <Collapse key={key}>\n                            <LicenseGroup\n                                name={key}\n                                metadata={value.metadata}\n                                packages={value.packages}\n                                totalLicenses={totalLicenses}\n                            />\n                        </Collapse>\n                    );\n                })}\n            </TransitionGroup>\n\n            <Collapse in={more} timeout=\"auto\" unmountOnExit>\n                <TransitionGroup>\n                    {licenses.slice(10).map(([key, value]) => {\n                        return (\n                            <Collapse key={key}>\n                                <LicenseGroup\n                                    name={key}\n                                    metadata={value.metadata}\n                                    packages={value.packages}\n                                    totalLicenses={totalLicenses}\n                                />\n                            </Collapse>\n                        );\n                    })}\n                </TransitionGroup>\n            </Collapse>\n            <Box textAlign=\"center\">\n                <Button onClick={() => setMore(!more)} color=\"primary\">\n                    {more ? \"Less\" : \"More\"}\n                </Button>\n            </Box>\n        </div>\n    );\n};\n\nLicenseMetric.propTypes = {\n    /** Key value pairs of license names (keys) and license information (values).*/\n    metric: PropTypes.objectOf(\n        PropTypes.shape({\n            metadata: PropTypes.object,\n            packages: PropTypes.object.isRequired,\n        }),\n    ),\n};\n","function descendingComparator(a, b, orderBy) {\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n        return 1;\n    }\n    return 0;\n}\n\nexport function getComparator(order, orderBy) {\n    return order === \"desc\"\n        ? (a, b) => descendingComparator(a, b, orderBy)\n        : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nexport function stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map(el => el[0]);\n}\n","import React from \"react\";\n\nimport {\n    TableHead,\n    TableRow,\n    TableSortLabel,\n    Box,\n    TableCell,\n} from \"@material-ui/core\";\n\nimport { visuallyHidden } from \"@material-ui/utils\";\n\nimport PropTypes from \"prop-types\";\n\nconst headCells = [\n    {\n        id: \"name\",\n        numeric: false,\n        label: \"Package\",\n    },\n    {\n        id: \"depth\",\n        numeric: true,\n        label: \"Depth\",\n    },\n    {\n        id: \"license\",\n        numeric: false,\n        label: \"License\",\n    },\n    {\n        id: \"dependencies\",\n        numeric: true,\n        label: \"Direct Dependencies\",\n    },\n];\n\n/**\n * A specific custom table header for packages.\n * It handles sorting individual columns.\n */\nfunction EnhancedTableHead({ order, orderBy, onRequestSort }) {\n    const createSortHandler = property => event => {\n        onRequestSort(event, property);\n    };\n\n    return (\n        <TableHead>\n            <TableRow>\n                {headCells.map(headCell => (\n                    <TableCell\n                        key={headCell.id}\n                        align={headCell.numeric ? \"right\" : \"left\"}\n                        padding=\"normal\"\n                        sortDirection={orderBy === headCell.id ? order : false}\n                    >\n                        <TableSortLabel\n                            active={orderBy === headCell.id}\n                            direction={orderBy === headCell.id ? order : \"asc\"}\n                            onClick={createSortHandler(headCell.id)}\n                        >\n                            {headCell.label}\n                            {orderBy === headCell.id ? (\n                                <Box component=\"span\" sx={visuallyHidden}>\n                                    {order === \"desc\"\n                                        ? \"sorted descending\"\n                                        : \"sorted ascending\"}\n                                </Box>\n                            ) : null}\n                        </TableSortLabel>\n                    </TableCell>\n                ))}\n            </TableRow>\n        </TableHead>\n    );\n}\n\nEnhancedTableHead.propTypes = {\n    /** the function used to sort an individual column */\n    onRequestSort: PropTypes.func.isRequired,\n    /** the order in which the column is sorted on*/\n    order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\n    /** The column in which to order the table by */\n    orderBy: PropTypes.string.isRequired,\n};\n\nexport default EnhancedTableHead;\n","/**\n * Graph node/vertex that hold adjacencies nodes\n * For performance, uses a HashSet instead of array for adjacents.\n */\nexport class Node {\n    constructor(key, value) {\n        this.adjacents = new Set(); // adjacency list\n        this.key = key; // key\n        this.value = value;\n    }\n\n    /**\n     * Add node to adjacency list\n     * Runtime: O(1)\n     * @param {Node} node\n     */\n    addAdjacent(node) {\n        this.adjacents.add(node);\n    }\n\n    /**\n     * Check if a Node is adjacent to other\n     * Runtime: O(1)\n     * @param {Node} node\n     */\n    isAdjacent(node) {\n        return this.adjacents.has(node);\n    }\n\n    /**\n     * Get all adjacent nodes\n     */\n    getAdjacents() {\n        return Array.from(this.adjacents);\n    }\n}\n","// react\nimport React from \"react\";\n\nimport { Typography, Grid } from \"@material-ui/core\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\nimport PropTypes from \"prop-types\";\nimport { Node } from \"utils/Node\";\n\n/**\n * Graph hover model appears when you hover over a node on the graph.\n */\nconst Popup = ({ node }) => {\n    return (\n        <div>\n            <Grid container alignItems=\"center\">\n                <Grid item xs={6}>\n                    <Typography variant=\"h6\">\n                        <b>{node.value.id}</b>\n                    </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                    <Typography ml={2} variant=\"body1\">\n                        v{node.value.version ?? \"NaN\"}\n                    </Typography>\n                </Grid>\n            </Grid>\n            <Typography gutterBottom variant=\"body2\">\n                {node.value?.metadata?.Summary ?? \"NaN\"}\n            </Typography>\n            <Grid container spacing={2}>\n                <Grid item>\n                    <IconText\n                        text={node.value?.metadata?.License ?? \"NaN\"}\n                        icon={<GavelIcon />}\n                    />\n                </Grid>\n                <Grid item>\n                    <IconText\n                        ml={2}\n                        text={\n                            node.value?.latestVersion\n                                ? \"Latest version is installed\"\n                                : \"Installed version is NOT the latest.\"\n                        }\n                        icon={<BookmarkIcon />}\n                    />\n                </Grid>\n            </Grid>\n            <Typography variant=\"body2\" mt={2}>\n                {node.value?.justifications?.header}\n            </Typography>\n        </div>\n    );\n};\n\nPopup.propTypes = {\n    node: PropTypes.objectOf(Node),\n};\n\nexport default Popup;\n","import { Node } from \"utils/Node\";\n\n/**\n * Graph data structure implemented with an adjacent list\n */\nexport class Graph {\n    constructor() {\n        this.nodes = new Map();\n    }\n\n    /**\n     * Add a node to the graph.\n     */\n    addVertex(key, value) {\n        if (this.nodes.has(key)) {\n            return this.nodes.get(key);\n        }\n\n        const vertex = new Node(key, value);\n        this.nodes.set(key, vertex);\n        return vertex;\n    }\n\n    /**\n     * Create a connection between the source node and the destination node.\n     * If the nodes don't exist, then it will make them on the fly.\n     */\n    addEdge(source, destination) {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n\n        sourceNode.addAdjacent(destinationNode);\n\n        return [sourceNode, destinationNode];\n    }\n\n    /**\n     * True if two nodes are adjacent.\n     */\n    areAdjacents(source, destination) {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n\n        if (sourceNode && destinationNode) {\n            return sourceNode.isAdjacent(destinationNode);\n        }\n\n        return false;\n    }\n\n    /**\n     * Generic graph search where we can pass a bfs or dfs\n     */\n    *graphSearch(first, type = \"bfs\") {\n        const visited = new Map();\n        const visitList = [];\n\n        visitList.push(first);\n\n        while (visitList.length !== 0) {\n            const node = type === \"dfs\" ? visitList.pop() : visitList.shift();\n            if (node && !visited.has(node)) {\n                yield node;\n                visited.set(node);\n                node.getAdjacents().forEach(adj => visitList.push(adj));\n            }\n        }\n    }\n\n    /**\n     * Find a path between source and destination\n     * It might not be the optimal path\n     */\n    findPath(source, destination, path = new Map()) {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n        const newPath = new Map(path);\n\n        if (!destinationNode || !sourceNode) return [];\n\n        newPath.set(sourceNode);\n\n        if (source === destination) {\n            return Array.from(newPath.keys());\n        }\n\n        // eslint-disable-next-line no-restricted-syntax\n        for (const node of sourceNode.getAdjacents()) {\n            if (!newPath.has(node)) {\n                const nextPath = this.findPath(\n                    node.value,\n                    destination,\n                    newPath,\n                );\n                if (nextPath.length) {\n                    return nextPath;\n                }\n            }\n        }\n\n        return [];\n    }\n\n    findAllNodesOnAllPaths(source, destination, visited = new Map()) {\n        const visitList = [];\n\n        visitList.push(source);\n\n        while (visitList.length !== 0) {\n            const node = visitList.pop();\n            if (node.key === destination) {\n                continue;\n            }\n            if (node && !visited.has(node.key)) {\n                visited.set(node.key, node);\n                node.parents.forEach(parent =>\n                    visitList.push(this.nodes.get(parent)),\n                );\n            }\n        }\n\n        return visited;\n    }\n\n    /**\n     * Find all paths from source to destination\n     */\n    findAllPaths(source, destination, path = new Map()) {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n        const newPath = new Map(path);\n\n        if (!destinationNode || !sourceNode) return [];\n\n        newPath.set(sourceNode);\n\n        if (source === destination) {\n            return [Array.from(newPath.keys())];\n        }\n\n        const paths = [];\n        sourceNode.getAdjacents().forEach(node => {\n            if (!newPath.has(node)) {\n                const nextPaths = this.findAllPaths(\n                    node.value.id,\n                    destination,\n                    newPath,\n                );\n                nextPaths.forEach(nextPath => {\n                    paths.push(nextPath);\n                });\n            }\n        });\n        return paths;\n    }\n}\n","// react\nimport React, { useEffect, useRef, useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// utils and configs\nimport { options } from \"config\";\n\n// vis-network\nimport { Network, DataSet } from \"vis-network/standalone\";\n\n// material ui\nimport { makeStyles } from \"@material-ui/styles\";\n\n// local\nimport Popup from \"../Popup\";\nimport { SelectedPackageContext } from \"../../../routes/AdviseDetails\";\nimport PropTypes from \"prop-types\";\nimport { Graph } from \"utils/Graph\";\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        display: \"flex\",\n        flexFlow: \"column nowrap\",\n    },\n    canvas: {\n        flex: \"1 1 auto\",\n        height: \"50vh\",\n    },\n}));\n\n/**\n * Renders a network graph visualization using `vis-network`.\n */\nconst NetworkGraph = ({ mergedGraph, ...props }) => {\n    const classes = useStyles();\n    const visJsRef = useRef(null);\n    const { selected } = useContext(SelectedPackageContext);\n\n    // create the graph\n    useEffect(() => {\n        if (!selected || !mergedGraph) {\n            return;\n        }\n\n        const selectedNode = mergedGraph.nodes.get(selected);\n\n        let nodes = mergedGraph.findAllNodesOnAllPaths(selectedNode, \"*App\");\n\n        nodes.set(\"*App\", mergedGraph.nodes.get(\"*App\"));\n\n        // convert to vis graph format\n        const convertedNodes = new DataSet();\n        nodes.forEach(value => {\n            // popup element\n            const popup = document.createElement(\"div\");\n            ReactDOM.render(<Popup node={value} />, popup);\n\n            // default colors\n            let color = value.value.color ?? options.nodes.color;\n            let font = undefined;\n\n            // if node is root\n            if (value.key === \"*App\") {\n                color = \"#4fc1ea\";\n                font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n            }\n            // if selected node\n            else if (value.key === selectedNode.key) {\n                color = \"#f39200\";\n            }\n\n            convertedNodes.add({\n                ...value.value,\n                color: color,\n                title:\n                    value.key === selectedNode.key || value.key === \"*App\"\n                        ? undefined\n                        : popup,\n                font: font,\n            });\n        });\n        const visData = {\n            nodes: convertedNodes,\n            edges: new DataSet(mergedGraph.visEdges),\n        };\n\n        const network =\n            visJsRef.current && new Network(visJsRef.current, visData, options);\n\n        // change curser when hovering and grabbing\n        // Get the canvas HTML element\n        var networkCanvas = document\n            .getElementById(\"mynetwork\")\n            .getElementsByTagName(\"canvas\")[0];\n\n        // changes the curser graphic depedning on where and what the mouse is doing\n        function changeCursor(newCursorStyle) {\n            networkCanvas.style.cursor = newCursorStyle;\n        }\n        network.on(\"hoverNode\", function () {\n            changeCursor(\"grab\");\n        });\n        network.on(\"blurNode\", function () {\n            changeCursor(\"default\");\n        });\n        network.on(\"dragStart\", function () {\n            changeCursor(\"grabbing\");\n        });\n        network.on(\"dragging\", function () {\n            changeCursor(\"grabbing\");\n        });\n        network.on(\"dragEnd\", function () {\n            changeCursor(\"grab\");\n        });\n\n        // fix (stick in place) node when done dragging\n        network.on(\"dragEnd\", function (params) {\n            if (\n                params.nodes.length !== 0 &&\n                !network.isCluster(params.nodes[0])\n            ) {\n                network.editNode(params.nodes[0]);\n            }\n        });\n\n        // hover over node\n        network.on(\"dragEnd\", function (params) {\n            if (\n                params.nodes.length !== 0 &&\n                !network.isCluster(params.nodes[0])\n            ) {\n                network.editNode(params.nodes[0]);\n            }\n        });\n    }, [selected, mergedGraph]);\n\n    return (\n        <div className={`${classes.root} ${props.className}`}>\n            <div ref={visJsRef} id=\"mynetwork\" className={classes.canvas} />\n        </div>\n    );\n};\n\nNetworkGraph.propTypes = {\n    mergedGraph: PropTypes.objectOf(Graph),\n    className: PropTypes.any,\n};\n\nexport default NetworkGraph;\n","// React\nimport React, { useContext, useMemo } from \"react\";\n\n// material-ui\nimport { Typography, Grid, Box, Paper, Link, Button } from \"@material-ui/core\";\nimport GavelIcon from \"@material-ui/icons/Gavel\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\nimport NetworkGraphView from \"../NetworkGraphView\";\n\n// redux\nimport { SelectedPackageContext } from \"../../../routes/AdviseDetails\";\nimport PropTypes from \"prop-types\";\nimport { Graph } from \"utils/Graph\";\n\n/**\n * Renders the selected package context variable's data. It will preform\n * a search of the list of packages using the selected package variable.\n */\nexport const SelectedPackage = ({ mergedGraph }) => {\n    const { selected, setSelected } = useContext(SelectedPackageContext);\n\n    const selectedPackage = mergedGraph.nodes.get(selected);\n\n    const dependents = { removed: [], added: [], version: [], unchanged: [] };\n    [...(selectedPackage?.parents ?? [])]\n        .filter(p => p !== \"*App\")\n        .forEach(node => {\n            dependents[mergedGraph.nodes.get(node).value.change].push(node);\n        });\n\n    const justifications = useMemo(() => {\n        const justs = {};\n        selectedPackage?.value?.justifications?.thoth?.forEach(just => {\n            justs[just.type] = [...(justs[just.type] ?? []), just];\n        });\n\n        return justs;\n    }, [selectedPackage]);\n\n    return (\n        <Box>\n            <Paper sx={{ padding: 2 }}>\n                <Grid container alignItems=\"center\" mb={1}>\n                    <Grid item>\n                        <Typography variant=\"h3\">\n                            <b>{selectedPackage?.value?.metadata?.Name}</b>\n                        </Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography ml={2} variant=\"h6\">\n                            v\n                            {selectedPackage?.value?.metadata?.Version ?? \"NaN\"}\n                        </Typography>\n                    </Grid>\n                </Grid>\n\n                <Typography gutterBottom variant=\"body1\">\n                    {selectedPackage?.value?.metadata?.Summary ?? \"NaN\"}\n                </Typography>\n                <Grid container spacing={2}>\n                    <Grid item>\n                        <IconText\n                            text={\n                                selectedPackage?.value?.metadata?.License ??\n                                \"NaN\"\n                            }\n                            icon={<GavelIcon />}\n                        />\n                    </Grid>\n                </Grid>\n            </Paper>\n\n            <Paper sx={{ padding: 2, marginTop: 2 }}>\n                <Typography variant=\"h5\">Thoth Justifications</Typography>\n                <Typography variant=\"body1\" mt={2}>\n                    {selectedPackage?.value?.justifications?.header}\n                </Typography>\n                {selectedPackage?.value?.justifications?.reasons?.length ? (\n                    <ul>\n                        {selectedPackage?.value?.justifications?.reasons.map(\n                            (reason, i) => {\n                                return (\n                                    <li key={i + reason.reason}>\n                                        <Typography variant=\"body1\" mt={2}>\n                                            <Link\n                                                underline=\"hover\"\n                                                onClick={() =>\n                                                    setSelected(reason.package)\n                                                }\n                                            >\n                                                {reason.package}\n                                            </Link>\n                                            {reason.reason}\n                                        </Typography>\n                                    </li>\n                                );\n                            },\n                        )}\n                    </ul>\n                ) : null}\n\n                {Object.entries(justifications).map(([type, reasons]) => {\n                    return (\n                        <React.Fragment key={type}>\n                            <Typography variant=\"h6\" mt={2}>\n                                {type} Justifications\n                            </Typography>\n                            {reasons.map((reason, i) => {\n                                return (\n                                    <Grid\n                                        container\n                                        alignItems=\"center\"\n                                        ml={3}\n                                        key={reason.message + i}\n                                    >\n                                        <Grid item xs={10}>\n                                            <Typography variant=\"body1\" mt={1}>\n                                                {reason.message}\n                                            </Typography>\n                                            <Typography\n                                                variant=\"body2\"\n                                                ml={3}\n                                                mt={0.5}\n                                            >\n                                                {reason.advisory}\n                                            </Typography>\n                                        </Grid>\n                                        <Grid item>\n                                            <Button href={reason.link}>\n                                                READ MORE\n                                            </Button>\n                                        </Grid>\n                                    </Grid>\n                                );\n                            })}\n                        </React.Fragment>\n                    );\n                })}\n            </Paper>\n\n            <Paper sx={{ padding: 2, marginTop: 2 }}>\n                <Typography variant=\"h5\" mb={2}>\n                    Package Origins\n                </Typography>\n                <Typography variant=\"body1\" mb={2}>\n                    {[...(selectedPackage?.parents ?? [])].filter(\n                        p => p !== \"*App\",\n                    )?.length === 0\n                        ? selectedPackage?.value?.label +\n                          \" is not a dependent of any package in this Python environment\"\n                        : \"There are \" +\n                          [...(selectedPackage?.parents ?? [])].filter(\n                              p => p !== \"*App\",\n                          )?.length +\n                          \" package(s) that have \" +\n                          selectedPackage?.value?.label +\n                          \" as a direct dependency. Of those package(s)\"}\n\n                    {Object.keys(dependents).map((change, i) => {\n                        if (dependents[change].length === 0) {\n                            return null;\n                        }\n\n                        return (\n                            <React.Fragment key={change + i}>\n                                {\", \" +\n                                    dependents[change].length +\n                                    (change === \"version\"\n                                        ? \" had a version change \"\n                                        : (dependents[change].length === 1\n                                              ? \" was \"\n                                              : \" were \") + change) +\n                                    \" (\"}\n                                {dependents[change].map((p, i, a) => {\n                                    let text = p;\n                                    if (i !== a.length - 1) {\n                                        text += \", \";\n                                    }\n                                    return (\n                                        <Link\n                                            key={i + text}\n                                            underline=\"hover\"\n                                            onClick={() => setSelected(p)}\n                                        >\n                                            {text}\n                                        </Link>\n                                    );\n                                })}\n                                {\")\"}\n                            </React.Fragment>\n                        );\n                    })}\n                    {\".\"}\n                </Typography>\n\n                <NetworkGraphView mergedGraph={mergedGraph} />\n            </Paper>\n        </Box>\n    );\n};\n\nSelectedPackage.propTypes = {\n    mergedGraph: PropTypes.objectOf(Graph),\n};\n","import React, { useState } from \"react\";\nimport { Grid, Paper, Typography } from \"@material-ui/core\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport { AdviseTableView } from \"../components\";\nimport { SelectedPackage } from \"../features\";\nimport PropTypes from \"prop-types\";\n\nexport const SelectedPackageContext = React.createContext();\n\nexport const AdviseDetails = ({ mergedGraph }) => {\n    const [search, setSearch] = useState(\"\");\n    const [selected, setSelected] = useState();\n\n    const handleSearch = event => {\n        setSearch(event.target.value);\n    };\n\n    if (!mergedGraph) {\n        return null;\n    }\n\n    return (\n        <SelectedPackageContext.Provider value={{ selected, setSelected }}>\n            <Grid\n                container\n                spacing={2}\n                justifyContent=\"center\"\n                alignItems=\"flex-start\"\n                mt={2}\n            >\n                <Grid item s={12} md={6}>\n                    <Paper sx={{ padding: 2 }}>\n                        <SearchBar\n                            onChange={handleSearch}\n                            lefticon={<SearchRoundedIcon />}\n                        />\n                        <AdviseTableView\n                            search={search}\n                            filteredGraph={mergedGraph}\n                        />\n                    </Paper>\n                </Grid>\n                <Grid item s={12} md={6}>\n                    {!selected ? (\n                        <Typography variant=\"body1\" align=\"center\">\n                            No package selected\n                        </Typography>\n                    ) : (\n                        <SelectedPackage mergedGraph={mergedGraph} />\n                    )}\n                </Grid>\n            </Grid>\n        </SelectedPackageContext.Provider>\n    );\n};\n\nAdviseDetails.propTypes = {\n    mergedGraph: PropTypes.any,\n};\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport {\n    Box,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TablePagination,\n    TableRow,\n    Typography,\n} from \"@material-ui/core\";\n\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\nimport RemoveRoundedIcon from \"@material-ui/icons/RemoveRounded\";\nimport CircleOutlinedIcon from \"@material-ui/icons/CircleOutlined\";\n\n// utils\nimport { getComparator, stableSort } from \"./utils\";\n\n// local\nimport EnhancedTableHead from \"./EnhancedTableHead\";\nimport PropTypes from \"prop-types\";\nimport { SelectedPackageContext } from \"../../routes/AdviseDetails\";\nimport { Graph } from \"utils/Graph\";\n\n/**\n * The table cells and total structure specific to\n * python packages.\n */\nexport function AdviseTableView({ search = \"\", filteredGraph }) {\n    const [order, setOrder] = useState(\"asc\");\n    const [orderBy, setOrderBy] = React.useState(\"name\");\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(25);\n    const [rows, setRows] = React.useState([]);\n    const { selected, setSelected } = useContext(SelectedPackageContext) ?? {\n        setSelected: () => console.log(\"missing callback\"),\n    };\n\n    // format data\n    useEffect(() => {\n        if (!filteredGraph) {\n            return;\n        }\n\n        setPage(0);\n\n        const newRows = [];\n        filteredGraph.nodes.forEach(node => {\n            if (node.value.depth === -1) {\n                return;\n            }\n            newRows.push({\n                name: node.value.label,\n                key: node.key,\n                warnings: [],\n                depth: node.value?.depth ?? -1,\n                license: node?.value?.metadata?.License,\n                dependencies: node.adjacents.size,\n                change: node.value?.change,\n                summary: node?.value?.metadata?.Summary,\n            });\n        });\n        setRows(newRows);\n    }, [filteredGraph]);\n\n    const handleRequestSort = (event, property) => {\n        const isAsc = orderBy === property && order === \"asc\";\n        setOrder(isAsc ? \"desc\" : \"asc\");\n        setOrderBy(property);\n    };\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = event => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    // Avoid a layout jump when reaching the last page with empty rows.\n    const emptyRows =\n        page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\n\n    return (\n        <Box sx={{ width: \"100%\" }}>\n            <TableContainer>\n                <Table sx={{ minWidth: 750 }} size=\"medium\">\n                    <EnhancedTableHead\n                        order={order}\n                        orderBy={orderBy}\n                        onRequestSort={handleRequestSort}\n                    />\n                    <TableBody>\n                        {stableSort(rows, getComparator(order, orderBy))\n                            .filter(row => row.name.includes(search))\n                            .slice(\n                                page * rowsPerPage,\n                                page * rowsPerPage + rowsPerPage,\n                            )\n                            .map((row, index) => {\n                                const labelId = `enhanced-table-checkbox-${index}`;\n\n                                const iconColor =\n                                    row.change === \"removed\"\n                                        ? \"error\"\n                                        : row.change === \"added\"\n                                        ? \"success\"\n                                        : undefined;\n                                return (\n                                    <React.Fragment key={row.name}>\n                                        <TableRow\n                                            hover\n                                            onClick={() => setSelected(row.key)}\n                                            tabIndex={-1}\n                                            selected={selected === row.key}\n                                        >\n                                            <TableCell\n                                                component=\"th\"\n                                                id={labelId}\n                                                scope=\"row\"\n                                            >\n                                                <Box display=\"flex\">\n                                                    {row.change ===\n                                                    \"removed\" ? (\n                                                        <RemoveRoundedIcon\n                                                            color={iconColor}\n                                                        />\n                                                    ) : row.change ===\n                                                      \"added\" ? (\n                                                        <AddRoundedIcon\n                                                            color={iconColor}\n                                                        />\n                                                    ) : (\n                                                        <CircleOutlinedIcon />\n                                                    )}\n                                                    <Typography ml={2}>\n                                                        {row.name}\n                                                    </Typography>\n                                                </Box>\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                {row.depth}\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                {row.license}\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                {row.dependencies}\n                                            </TableCell>\n                                        </TableRow>\n\n                                        <TableRow>\n                                            <TableCell\n                                                style={{\n                                                    paddingBottom: 0,\n                                                    paddingTop: 0,\n                                                }}\n                                                colSpan={6}\n                                            />\n                                        </TableRow>\n                                    </React.Fragment>\n                                );\n                            })}\n                        {emptyRows > 0 && (\n                            <TableRow\n                                style={{\n                                    height: 53 * emptyRows,\n                                }}\n                            >\n                                <TableCell colSpan={6} />\n                            </TableRow>\n                        )}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n            <TablePagination\n                rowsPerPageOptions={[5, 10, 25]}\n                component=\"div\"\n                count={rows.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                onPageChange={handleChangePage}\n                onRowsPerPageChange={handleChangeRowsPerPage}\n            />\n        </Box>\n    );\n}\n\nAdviseTableView.propTypes = {\n    /** the text value used to filter the cells in the table */\n    search: PropTypes.string,\n    filteredGraph: PropTypes.objectOf(Graph),\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n    lockfile: {\n        overflow: \"scroll\",\n        paddingLeft: theme.spacing(1),\n    },\n}));\n\n/**\n * Renders out a Pipfile.lock file and attaches\n * `<a>` tags to package names, which is used to\n *  scroll to certain spot in the lock file\n */\nexport const LockfileView = ({ file }) => {\n    const classes = useStyles();\n\n    return (\n        <Typography variant=\"caption\">\n            <pre>\n                <div\n                    className={classes.lockfile}\n                    dangerouslySetInnerHTML={{\n                        __html: JSON.stringify(file, undefined, 4)?.replaceAll(\n                            new RegExp(\n                                '(\"' +\n                                    Object.keys(file?.default)?.join('\"|\"') +\n                                    '\")',\n                                \"g\",\n                            ),\n                            match => {\n                                return `<a id=\"${match.slice(\n                                    1,\n                                    -1,\n                                )}\">${match}</a>`;\n                            },\n                        ),\n                    }}\n                />\n            </pre>\n        </Typography>\n    );\n};\n\nLockfileView.propTypes = {\n    /** The Pipfile.lock json object */\n    file: PropTypes.shape({ default: PropTypes.object.isRequired }),\n};\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport InfoCard from \"components/Elements/InfoCard\";\nimport {\n    DependenciesMetric,\n    CustomCardAction,\n    LicenseMetric,\n    AdviseMetric,\n} from \"../components\";\nimport PropTypes from \"prop-types\";\n\nexport const AdviseSummary = ({ metrics }) => {\n    const [pipfile, setPipfile] = React.useState(\"newGraph\");\n\n    const handlePipfile = (event, newPipfile) => {\n        if (newPipfile?.length) {\n            setPipfile(newPipfile);\n        }\n    };\n\n    return (\n        <Grid container spacing={3} mb={3} mt={1}>\n            <Grid item xs={12} md={6}>\n                <InfoCard\n                    cardMeta={{\n                        title: \"Thoth Advise Summary\",\n                    }}\n                    cardBody={<AdviseMetric metric={metrics?.advise} />}\n                />\n            </Grid>\n            <Grid item xs={12} md={6}>\n                <InfoCard\n                    cardMeta={{\n                        title: \"Dependencies Summary\",\n                    }}\n                    cardBody={\n                        <DependenciesMetric\n                            all={metrics?.[pipfile]?.dependencies?.all}\n                            roots={metrics?.[pipfile]?.dependencies?.roots}\n                        />\n                    }\n                    cardAction={\n                        <CustomCardAction\n                            value={pipfile}\n                            onChange={handlePipfile}\n                        />\n                    }\n                />\n            </Grid>\n            <Grid item xs={12} md={6}>\n                <InfoCard\n                    cardMeta={{\n                        title: \"Licenses Summary\",\n                    }}\n                    cardBody={\n                        <LicenseMetric metric={metrics?.[pipfile]?.licenses} />\n                    }\n                    cardAction={\n                        <CustomCardAction\n                            value={pipfile}\n                            onChange={handlePipfile}\n                        />\n                    }\n                />\n            </Grid>\n        </Grid>\n    );\n};\n\nAdviseSummary.propTypes = {\n    metrics: PropTypes.object,\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQuery } from \"react-query\";\n\n/**\n * An async function that returns a promise for `{base_url}/advise/python`\n *\n * @param analysis_id - the advise document id (ex: `adviser-211112223258-38af1a4746733b53`)\n */\nexport const getAdviseDocument = async analysis_id => {\n    return axios.get(THOTH_URL + \"/advise/python/\" + analysis_id, {\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const useAdviseDocument = (analysis_id, config) => {\n    return useQuery({\n        ...config,\n        queryKey: [\"adviseDocument\", analysis_id],\n        queryFn: () => getAdviseDocument(analysis_id),\n    });\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQuery } from \"react-query\";\n\n/**\n * An async function that returns a promise for `{base_url}/advise/python/logs`\n *\n * @param analysis_id - the advise document id (ex: `adviser-211112223258-38af1a4746733b53`)\n */\nexport const getAdviseLogs = async analysis_id => {\n    return axios.get(THOTH_URL + \"/advise/python/\" + analysis_id + \"/log\", {\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const useAdviseLogs = (analysis_id, config) => {\n    return useQuery({\n        ...config,\n        queryKey: [\"adviseLogs\", analysis_id],\n        queryFn: () => getAdviseLogs(analysis_id),\n    });\n};\n","import { useMemo, useEffect, useState } from \"react\";\n\n// utils\nimport { Graph } from \"utils/Graph\";\n\n// api\nimport { usePackagesMetadata } from \"features/misc/api\";\n\nexport function useGraph(data, knownRoots) {\n    const allMetadata = usePackagesMetadata(data);\n\n    const allMetadataStatus = useMemo(() => {\n        const status = {\n            loading: false,\n            error: false,\n            success: false,\n        };\n        if (allMetadata.length > 0) {\n            allMetadata.forEach(query => {\n                switch (query.status) {\n                    case \"error\":\n                        status.error = true;\n                        break;\n                    case \"success\":\n                        status.success = true;\n                        break;\n                    default:\n                        status.loading = true;\n                }\n            });\n        } else {\n            return \"loading\";\n        }\n\n        if (status.loading) {\n            return \"loading\";\n        } else if (status.error) {\n            return \"error\";\n        } else {\n            return \"success\";\n        }\n    }, [allMetadata]);\n\n    const [graph, setGraph] = useState();\n\n    useEffect(() => {\n        if (allMetadataStatus === \"loading\") {\n            return;\n        }\n\n        // create graph\n        const tempGraph = new Graph();\n        const notRoot = [];\n\n        // add data to graph\n        allMetadata.forEach(query => {\n            // if could not find metadata\n            if (query.status === \"error\") {\n                const params = query.error.response.data.parameters;\n                const value = {\n                    id: params.name.toLowerCase(),\n                    label: params.name,\n                    metadata: null,\n                };\n\n                // add package to graph\n                const node = tempGraph.addVertex(value.id, value);\n                node.parents = new Set();\n            }\n            // metadata was found\n            else {\n                const metadata = query.data.data.metadata;\n                const value = {\n                    id: metadata.package_name.toLowerCase(),\n                    label: metadata.package_name,\n                    metadata: metadata.importlib_metadata.metadata,\n                };\n\n                // add package to graph\n                const node = tempGraph.addVertex(value.id, value);\n                node.parents = new Set();\n            }\n        });\n\n        // set edges\n        allMetadata.forEach(query => {\n            if (query.status === \"error\") {\n                return;\n            }\n\n            const currentNode = tempGraph.nodes.get(\n                query.data.data.metadata.package_name.toLowerCase(),\n            );\n\n            Object.keys(query.data.data.metadata.dependencies).forEach(dep => {\n                const adjacentNode = tempGraph.nodes.get(dep);\n\n                // if package exists in lockfile\n                if (adjacentNode) {\n                    // add edge connecting parent and dependency\n                    tempGraph.addEdge(\n                        currentNode.value.id,\n                        adjacentNode.value.id,\n                    );\n                    // set parent\n                    adjacentNode.parents.add(currentNode.value.id);\n                    notRoot.push(adjacentNode.value.id);\n                }\n            });\n        });\n\n        // add app node to graph\n        const app = tempGraph.addVertex(\"*App\", {\n            id: \"*App\",\n            label: \"App\",\n            depth: -1,\n        });\n\n        notRoot.push(\"*App\");\n\n        const visited = new Map();\n        const visitList = [];\n\n        // get roots and connect to app\n        tempGraph.nodes.forEach((value, key, map) => {\n            if (\n                !notRoot.includes(key) ||\n                Object.keys(knownRoots).includes(key)\n            ) {\n                const node = map.get(key);\n                node.value.depth = 0;\n                node.parents.add(\"*App\");\n                visitList.push(node);\n                tempGraph.addEdge(app.key, node.key);\n            }\n        });\n\n        // set depth and parent packages using dfs\n        while (visitList.length !== 0) {\n            const node = visitList.pop();\n            if (node && !visited.has(node)) {\n                visited.set(node);\n\n                const adjs = node.getAdjacents();\n\n                for (let i = 0; i < adjs.length; i++) {\n                    // update depth\n                    adjs[i].value.depth = Math.min(\n                        node.value.depth + 1,\n                        adjs[i].value.depth ?? node.value.depth + 2,\n                    );\n                    visitList.push(adjs[i]);\n                }\n            }\n        }\n\n        setGraph(tempGraph);\n    }, [allMetadataStatus, knownRoots]);\n\n    return graph;\n}\n","import { useEffect, useMemo, useState } from \"react\";\n\nexport function useMetrics(oldGraph, newGraph, mergedGraph, adviseDocument) {\n    const adviseMetric = useAdviseMetric(mergedGraph, adviseDocument);\n    const oldDependencyMetric = useDependencyMetric(oldGraph);\n    const newDependencyMetric = useDependencyMetric(newGraph);\n    const oldLicenseMetric = useLicenseMetric(oldGraph);\n    const newLicenseMetric = useLicenseMetric(newGraph);\n\n    return useMemo(() => {\n        const base = {\n            advise: null,\n            oldGraph: { dependencies: null, licenses: null },\n            newGraph: { dependencies: null, licenses: null },\n        };\n\n        if (adviseMetric) {\n            base.advise = adviseMetric;\n        }\n        if (oldDependencyMetric) {\n            base.oldGraph.dependencies = oldDependencyMetric;\n        }\n        if (oldDependencyMetric) {\n            base.oldGraph.licenses = oldLicenseMetric;\n        }\n        if (newDependencyMetric) {\n            base.newGraph.dependencies = newDependencyMetric;\n        }\n        if (newLicenseMetric) {\n            base.newGraph.licenses = newLicenseMetric;\n        }\n\n        return base;\n    }, [\n        adviseMetric,\n        oldDependencyMetric,\n        oldLicenseMetric,\n        newDependencyMetric,\n        newLicenseMetric,\n    ]);\n}\n\nexport const useDependencyMetric = graph => {\n    const [metric, setMetric] = useState();\n\n    useEffect(() => {\n        if (!graph) {\n            return;\n        }\n\n        let base = {\n            all: {},\n            roots: {},\n        };\n\n        const roots = [];\n        graph.nodes.forEach(value => {\n            if (value.value.depth === 0) {\n                roots.push(value.key);\n            }\n        });\n\n        const visited = new Set();\n\n        // for each starting node\n        roots.forEach(root => {\n            const bfs = graph.graphSearch(graph.nodes.get(root));\n            const visitedOrder = Array.from(bfs);\n\n            visitedOrder.forEach(node => {\n                if (node.key === \"*App\") {\n                    return;\n                }\n\n                if (visited.has(node.value.id)) {\n                    return;\n                } else {\n                    visited.add(node.value.id);\n                }\n\n                const depth =\n                    node.value.depth === 0\n                        ? \"roots\"\n                        : node.value.depth === 1\n                        ? \"direct\"\n                        : \"indirect\";\n\n                // dependency metric\n                base = {\n                    all: {\n                        ...base.all,\n                        [depth]: (base.all[depth] ?? 0) + 1,\n                    },\n                    roots: {\n                        ...base.roots,\n                        [root]: {\n                            ...(base.roots[root] ?? null),\n                            [depth]: (base.roots?.[root]?.[depth] ?? 0) + 1,\n                        },\n                    },\n                };\n            });\n        });\n\n        setMetric(base);\n    }, [graph]);\n\n    return metric;\n};\n\nexport const useLicenseMetric = graph => {\n    const [metric, setMetric] = useState();\n\n    useEffect(() => {\n        if (!graph) {\n            return;\n        }\n\n        let base = {};\n\n        const roots = [];\n        graph.nodes.forEach(value => {\n            if (value.value.depth === 0) {\n                roots.push(value.key);\n            }\n        });\n\n        const visited = new Set();\n\n        // for each starting node\n        roots.forEach(root => {\n            const bfs = graph.graphSearch(graph.nodes.get(root));\n            const visitedOrder = Array.from(bfs);\n\n            visitedOrder.forEach(node => {\n                if (node.key === \"*App\") {\n                    return;\n                }\n\n                if (visited.has(node.value.id)) {\n                    return;\n                } else {\n                    visited.add(node.value.id);\n                }\n\n                // licence metric\n                const packageLicenses = [];\n\n                // get general classification\n                node?.value?.metadata?.Classifier?.forEach(classifier => {\n                    const parsed = classifier.split(\" :: \");\n\n                    if (parsed[0] === \"License\") {\n                        if (parsed[1] === \"OSI Approved\") {\n                            packageLicenses.push({\n                                generalLicense:\n                                    parsed?.[2] ?? node.value.metadata.License,\n                                specificLicense: node.value.metadata.License,\n                                isOsiApproved: true,\n                            });\n                        } else {\n                            packageLicenses.push({\n                                generalLicense:\n                                    parsed?.[1] ?? node.value.metadata.License,\n                                specificLicense: node.value.metadata.License,\n                                isOsiApproved: false,\n                            });\n                        }\n                    }\n                });\n\n                if (packageLicenses.length === 0) {\n                    packageLicenses.push({\n                        generalLicense: node?.value?.metadata?.License ?? \"N/A\",\n                        specificLicense:\n                            node?.value?.metadata?.License ?? \"N/A\",\n                        isOsiApproved: null,\n                    });\n                }\n\n                // get specific classification\n                packageLicenses.forEach(license => {\n                    if (!base[license.generalLicense]) {\n                        base[license.generalLicense] = {\n                            packages: {},\n                            metadata: {\n                                isOsiApproved: license.isOsiApproved,\n                            },\n                        };\n                    }\n\n                    base = {\n                        ...base,\n                        [license.generalLicense]: {\n                            ...base[license.generalLicense],\n                            packages: {\n                                ...(base[license.generalLicense].packages ??\n                                    null),\n                                [node.value.label]: {\n                                    depth: node.value.depth,\n                                    specific: license.specificLicense,\n                                },\n                            },\n                        },\n                    };\n                });\n            });\n        });\n\n        setMetric(base);\n    }, [graph]);\n\n    return metric;\n};\n\nexport const useAdviseMetric = (graph, adviseDocument) => {\n    const [metric, setMetric] = useState();\n\n    useEffect(() => {\n        if (!graph || !adviseDocument) {\n            return;\n        }\n\n        const base = {\n            added: 0,\n            removed: 0,\n            version: 0,\n            unchanged: 0,\n            justification: {},\n            build: null,\n        };\n\n        // package changes\n        graph.nodes.forEach(node => {\n            switch (node.value.change) {\n                case \"added\":\n                    base.added++;\n                    break;\n                case \"removed\":\n                    base.removed++;\n                    break;\n                case \"version\":\n                    base.version++;\n                    break;\n                default:\n                    base.unchanged++;\n            }\n        });\n\n        //build environment\n        base.build = `We have analysed an application stack running on ${adviseDocument.metadata.os_release.name} ${adviseDocument.metadata.os_release.version}, running Python (${adviseDocument.metadata.python.implementation_name}) ${adviseDocument.metadata.python.major}.${adviseDocument.metadata.python.minor}.${adviseDocument.metadata.python.micro}. It was Adviser Job ID ${adviseDocument.metadata.document_id}, by ${adviseDocument.metadata.analyzer} v${adviseDocument.metadata.analyzer_version}.`;\n\n        //justification counts\n        adviseDocument?.result?.report?.products?.[0]?.justification.forEach(\n            justification => {\n                base.justification[justification.type] = base.justification[\n                    justification.type\n                ]\n                    ? base.justification[justification.type] + 1\n                    : 1;\n            },\n        );\n        setMetric(base);\n    }, [graph, adviseDocument]);\n\n    return metric;\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const AdviseNotFound = ({ analysis_id }) => {\n    return <div>`&quot;{analysis_id}&quot;` not found</div>;\n};\n\nAdviseNotFound.propTypes = {\n    analysis_id: PropTypes.string,\n};\n","import * as React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\n/**\n * Layout is used in most of the app and allows for backwards navigation.\n */\nexport const NavigationLayout = ({ children }) => {\n    const navigate = useNavigate();\n\n    return (\n        <>\n            <Button onClick={() => navigate(\"/\")}>go back</Button>\n            <div>{children}</div>\n        </>\n    );\n};\n\nNavigationLayout.propTypes = {\n    children: PropTypes.node,\n};\n","import React, { useMemo } from \"react\";\nimport { Route, Routes, useParams, Navigate } from \"react-router-dom\";\n\n// layouts\nimport { AdviseLayout } from \"components/Layout\";\n\n// sub-routes\nimport { AdviseSummary } from \"./AdviseSummary\";\nimport { AdviseDetails } from \"./AdviseDetails\";\n\n// feature specific imports\nimport { useAdviseDocument, useAdviseLogs } from \"../api\";\nimport { formatLockfile } from \"../utils\";\nimport { AdviseHeader } from \"../components\";\nimport { useMetrics, useMergeGraphs, useGraph } from \"../hooks\";\n\n// misc\nimport { CircularProgress } from \"@material-ui/core\";\nimport { AdviseNotFound } from \"./AdviseNotFound\";\nimport { NavigationLayout } from \"components/Layout/NavigationLayout\";\n\nexport const AdviseRoutes = () => {\n    // get document id\n    const { analysis_id } = useParams();\n\n    // api get thoth advise document\n    const adviseDocument = useAdviseDocument(analysis_id, {\n        useErrorBoundary: false,\n        refetchInterval: data => {\n            if (data?.data?.status) {\n                return 10000;\n            }\n            return false;\n        },\n    });\n\n    const logs = useAdviseLogs(analysis_id, {\n        useErrorBoundary: false,\n        refetchInterval: () => {\n            if (adviseDocument.data?.data?.status) {\n                return 10000;\n            }\n            return false;\n        },\n    });\n    // format init graph data\n    const initGraphData = useMemo(() => {\n        if (\n            adviseDocument.isSuccess &&\n            adviseDocument.data.data?.result?.parameters?.project\n        ) {\n            return formatLockfile(\n                adviseDocument.data.data.result.parameters.project,\n            );\n        }\n    }, [adviseDocument]);\n\n    // format advise graph data\n    const adviseGraphData = useMemo(() => {\n        if (\n            adviseDocument.isSuccess &&\n            adviseDocument.data.data?.result?.report?.products?.[0]?.project\n        ) {\n            return formatLockfile(\n                adviseDocument.data.data.result.report.products[0].project,\n            );\n        }\n    }, [adviseDocument]);\n\n    // create init graph\n    const initGraph = useGraph(\n        initGraphData ?? [],\n        adviseDocument.data?.data?.result?.parameters?.project?.requirements\n            ?.packages,\n    );\n    const adviseGraph = useGraph(\n        adviseGraphData ?? [],\n        adviseDocument.data?.data?.result?.report?.products?.[0]?.project\n            ?.requirements,\n    );\n\n    // merge graphs based on added, removed, changed packages\n    const mergedGraph = useMergeGraphs(\n        initGraph,\n        adviseGraph,\n        adviseDocument.data?.data,\n    );\n\n    // compute metric data\n    const metrics = useMetrics(\n        initGraph,\n        adviseGraph,\n        mergedGraph,\n        adviseDocument.data?.data,\n    );\n\n    if (adviseDocument.isLoading) {\n        return (\n            <div className=\"w-full h-48 flex justify-center items-center\">\n                <CircularProgress />\n            </div>\n        );\n    }\n\n    if (!adviseDocument.data) {\n        return (\n            <NavigationLayout>\n                <AdviseNotFound analysis_id={analysis_id} />\n            </NavigationLayout>\n        );\n    }\n\n    return (\n        <NavigationLayout>\n            <AdviseLayout\n                header={\n                    <AdviseHeader\n                        adviseDocument={adviseDocument.data.data}\n                        logs={logs.data?.data?.log}\n                    />\n                }\n            >\n                <Routes>\n                    <Route\n                        path=\"summary\"\n                        element={<AdviseSummary metrics={metrics} />}\n                    />\n                    <Route\n                        path=\"details\"\n                        element={<AdviseDetails mergedGraph={mergedGraph} />}\n                    />\n                    <Route path=\"*\" element={<Navigate to=\"summary\" />} />\n                </Routes>\n            </AdviseLayout>\n        </NavigationLayout>\n    );\n};\n","import { useEffect, useState } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { Graph } from \"utils/Graph\";\nimport { discoverPackageChanges } from \"../utils\";\n\nexport const useMergeGraphs = (oldGraph, newGraph, adviseDocument) => {\n    const [graph, setGraph] = useState();\n    const theme = useTheme();\n\n    useEffect(() => {\n        if (!oldGraph || !newGraph) {\n            return;\n        }\n\n        const visGraphEdges = [];\n        const mergedGraph = new Graph();\n\n        newGraph.nodes.forEach((value, key) => {\n            // get node\n            const combinedNode = newGraph.nodes.get(key);\n\n            // check if added, changed, or unchanged\n            // if added (old graph doesnt have the package)\n            if (!oldGraph.nodes.has(key)) {\n                combinedNode.value = {\n                    ...combinedNode.value,\n                    change: \"added\",\n                    label:\n                        value.value.label +\n                        \" \" +\n                        (value?.value?.metadata?.Version ?? \"\"),\n                    font: {\n                        color: theme.palette.success.main,\n                    },\n                    color: theme.palette.success.main,\n                    version: value?.value?.metadata?.Version ?? \"\",\n                    dependencies: value.adjacents.size,\n                    license: value?.value?.metadata?.License ?? \"\",\n                    lockfile: [\"new\"],\n                };\n            }\n            // if the graph is not new then it is either equal or the version changed\n            else {\n                // set values that wont change\n                combinedNode.value = {\n                    ...combinedNode.value,\n                    label:\n                        value.value.label +\n                        \" \" +\n                        (value?.value?.metadata?.Version ?? \"\"),\n                    dependencies: value.adjacents.size,\n                    license: value?.value?.metadata?.License ?? \"\",\n                    lockfile: [\"new\", \"old\"],\n                };\n                // if the nodes are equal (version are the same)\n                if (\n                    value?.value?.metadata?.Version ===\n                    oldGraph.nodes.get(key)?.value?.metadata?.Version\n                ) {\n                    combinedNode.value = {\n                        ...combinedNode.value,\n                        version: value?.value?.metadata?.Version ?? \"\",\n                        change: \"unchanged\",\n                    };\n                }\n                // if the version changed\n                else {\n                    combinedNode.value = {\n                        ...combinedNode.value,\n                        change: \"version\",\n                        version: value?.value?.metadata?.Version ?? \"\",\n                        oldVersion:\n                            oldGraph.nodes.get(key)?.value?.metadata?.Version ??\n                            \"\",\n                        font: {\n                            color: theme.palette.success.main,\n                        },\n                    };\n\n                    combinedNode.parents = [\n                        ...new Set([\n                            ...combinedNode.parents,\n                            ...(oldGraph.nodes.get(key)?.parents ?? []),\n                        ]),\n                    ];\n\n                    // merge the dependencies because they could be different\n                    oldGraph.nodes\n                        .get(key)\n                        .getAdjacents()\n                        .forEach(item => combinedNode.adjacents.add(item));\n                    newGraph.nodes\n                        .get(key)\n                        .getAdjacents()\n                        .forEach(item => combinedNode.adjacents.add(item));\n                }\n            }\n\n            mergedGraph.nodes.set(key, combinedNode);\n        });\n\n        oldGraph.nodes.forEach((value, key) => {\n            // get node\n            const combinedNode = oldGraph.nodes.get(key);\n\n            // only checking if package was removed\n            if (!newGraph.nodes.has(key)) {\n                combinedNode.value = {\n                    ...combinedNode.value,\n                    change: \"removed\",\n                    label:\n                        value.value.label +\n                        \" \" +\n                        (value?.value?.metadata?.Version ?? \"\"),\n                    font: {\n                        color: theme.palette.error.main,\n                    },\n                    color: theme.palette.error.main,\n                    version: value?.value?.metadata?.Version ?? \"\",\n                    dependencies: value.adjacents.size,\n                    license: value?.value?.metadata?.License ?? \"\",\n                    lockfile: [\"old\"],\n                };\n\n                mergedGraph.nodes.set(key, combinedNode);\n            }\n        });\n\n        // add edges from old graph\n        oldGraph.nodes.forEach(value => {\n            // set package edges\n            value.adjacents.forEach(adj => {\n                visGraphEdges.push({\n                    to: value.value.id,\n                    from: adj.value.id,\n                    lockfile: \"old\",\n                });\n            });\n        });\n\n        // add edges from new graph\n        newGraph.nodes.forEach(value => {\n            // set package edges\n            value.adjacents.forEach(adj => {\n                visGraphEdges.push({\n                    to: value.value.id,\n                    from: adj.value.id,\n                    lockfile: \"new\",\n                });\n            });\n        });\n\n        // set justifications\n        discoverPackageChanges(\n            mergedGraph.nodes,\n            adviseDocument.result.report?.products?.[0]?.justification,\n        );\n\n        // add edges to merged graph Object\n        mergedGraph[\"visEdges\"] = visGraphEdges;\n\n        setGraph(mergedGraph);\n    }, [oldGraph, newGraph, adviseDocument, theme]);\n\n    return graph;\n};\n","import React, { useContext } from \"react\";\nimport Select from \"@mui/material/Select\";\nimport { Box, MenuItem, Typography } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport { useNavigate } from \"react-router-dom\";\nimport { SpecContext } from \"features/package/routes/PackageOverview\";\n\nexport const ParamDropdown = ({ options, type, label, disabled, ...props }) => {\n    const navigate = useNavigate();\n    const { specs, defaultSpecs } = useContext(SpecContext);\n\n    const handleChange = event => {\n        switch (type) {\n            case \"package_version\":\n                navigate(\n                    `/package/${specs.package_name}/${event.target.value}`,\n                    { replace: true },\n                );\n                break;\n            case \"index_url\":\n                navigate(\n                    `/package/${specs.package_name}/${\n                        specs.package_version ?? defaultSpecs.package_version\n                    }/${encodeURIComponent(event.target.value)}`,\n                    { replace: true },\n                );\n                break;\n            case \"os_name\":\n                navigate(\n                    `/package/${specs.package_name}/${\n                        specs.package_version ?? defaultSpecs.package_version\n                    }/${encodeURIComponent(\n                        specs.index_url ?? defaultSpecs.index_url,\n                    )}/${event.target.value}`,\n                    { replace: true },\n                );\n\n                break;\n            case \"os_version\":\n                navigate(\n                    `/package/${specs.package_name}/${\n                        specs.package_version ?? defaultSpecs.package_version\n                    }/${encodeURIComponent(\n                        specs.index_url ?? defaultSpecs.index_url,\n                    )}/${specs.os_name ?? defaultSpecs.os_name}/${\n                        event.target.value\n                    }`,\n                    { replace: true },\n                );\n                break;\n            case \"python_version\":\n                navigate(\n                    `/package/${specs.package_name}/${\n                        specs.package_version ?? defaultSpecs.package_version\n                    }/${encodeURIComponent(\n                        specs.index_url ?? defaultSpecs.index_url,\n                    )}/${specs.os_name ?? defaultSpecs.os_name}/${\n                        specs.os_version ?? defaultSpecs.os_version\n                    }/${event.target.value}`,\n                    { replace: true },\n                );\n                break;\n        }\n    };\n\n    return (\n        <Box {...props}>\n            <Typography variant=\"body2\">{label}</Typography>\n            <Select\n                displayEmpty\n                fullWidth\n                value={specs[type] ?? \"\"}\n                onChange={handleChange}\n                size=\"small\"\n                variant=\"outlined\"\n                disabled={disabled}\n                renderValue={value => {\n                    if (!value) {\n                        return (\n                            <em style={{ color: \"grey\" }}>\n                                {defaultSpecs?.[type] ?? label}\n                            </em>\n                        );\n                    } else {\n                        return value;\n                    }\n                }}\n            >\n                <MenuItem disabled value=\"\">\n                    <em>{label}</em>\n                </MenuItem>\n                {options.map(option => {\n                    return (\n                        <MenuItem key={option.value} value={option.value}>\n                            {option.value}\n                        </MenuItem>\n                    );\n                })}\n            </Select>\n        </Box>\n    );\n};\n\nParamDropdown.propTypes = {\n    options: PropTypes.array.isRequired,\n    type: PropTypes.string.isRequired,\n    label: PropTypes.string,\n    disabled: PropTypes.bool,\n    props: PropTypes.any,\n};\n","import React, { useContext, useMemo, useState } from \"react\";\n\n// material-ui\nimport { Grid, IconButton, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport ArrowLeftIcon from \"@mui/icons-material/ArrowLeft\";\nimport ArrowRightIcon from \"@mui/icons-material/ArrowRight\";\nimport GavelIcon from \"@mui/icons-material/Gavel\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\n\n// utils\nimport PropTypes from \"prop-types\";\nimport { ParamDropdown } from \"../ParamDropdown\";\nimport { SpecContext } from \"../../routes/PackageOverview\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n    titleRow: {\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n    marginLeft: {\n        marginLeft: theme.spacing(2),\n    },\n    linksRow: {\n        display: \"flex\",\n    },\n}));\n\n/**\n * A header for package metadata.\n */\nexport const PackageHeader = ({ metadata, allVersions, allEnvironments }) => {\n    const classes = useStyles();\n    const { defaultSpecs, specs } = useContext(SpecContext);\n    const [showEnvParams, setShowEnvParams] = useState(false);\n\n    const versionOptions = useMemo(() => {\n        const dups = new Set();\n        return allVersions\n            .filter(version => {\n                if (!dups.has(version.package_version)) {\n                    dups.add(version.package_version);\n                    return true;\n                }\n                return false;\n            })\n            .map(version => {\n                return {\n                    value: version.package_version,\n                };\n            });\n    }, [allVersions]);\n\n    const indexUrlOptions = useMemo(() => {\n        const dups = new Set();\n        return allVersions\n            .filter(version => {\n                if (specs.package_version) {\n                    return specs.package_version === version.package_version;\n                } else {\n                    return (\n                        defaultSpecs.package_version === version.package_version\n                    );\n                }\n            })\n            .filter(version => {\n                if (!dups.has(version.index_url)) {\n                    dups.add(version.index_url);\n                    return true;\n                }\n                return false;\n            })\n            .map(version => {\n                return {\n                    value: version.index_url,\n                };\n            });\n    }, [allVersions]);\n\n    const [osNameOptions, osVersionOptions, pythonVersionOptions] =\n        useMemo(() => {\n            const name = allEnvironments.map(env => {\n                return {\n                    value: env.os_name,\n                };\n            });\n            const version = allEnvironments\n                .filter(env => !specs.os_name || specs.os_name === env.os_name)\n                .map(env => {\n                    return {\n                        value: env.os_version,\n                    };\n                });\n            const pyVersion = allEnvironments\n                .filter(\n                    env =>\n                        (!specs.os_name || specs.os_name === env.os_name) &&\n                        (!specs.os_version ||\n                            specs.os_version === env.os_version),\n                )\n                .map(env => {\n                    return {\n                        value: env.python_version,\n                    };\n                });\n            return [name, version, pyVersion];\n        }, [allEnvironments, specs]);\n\n    return (\n        <div>\n            <Grid container alignItems=\"flex-end\" spacing={1}>\n                <Grid item>\n                    <Typography variant=\"h4\" mr={2}>\n                        <b>{metadata?.Name}</b>\n                    </Typography>\n                </Grid>\n                <Grid item>\n                    <ParamDropdown\n                        options={versionOptions ?? []}\n                        type=\"package_version\"\n                        label={\"Version\"}\n                    />\n                </Grid>\n                <Grid item>\n                    <ParamDropdown\n                        options={indexUrlOptions ?? []}\n                        type=\"index_url\"\n                        label={\"Index URL\"}\n                        disabled={specs.package_version === undefined}\n                    />\n                </Grid>\n                {showEnvParams ? (\n                    <React.Fragment>\n                        <Grid item>\n                            <ParamDropdown\n                                options={osNameOptions ?? []}\n                                type=\"os_name\"\n                                label={\"OS Name\"}\n                                disabled={specs.index_url === undefined}\n                            />\n                        </Grid>\n                        <Grid item>\n                            <ParamDropdown\n                                options={osVersionOptions ?? []}\n                                type=\"os_version\"\n                                label={\"OS Version\"}\n                                disabled={specs.os_name === undefined}\n                            />\n                        </Grid>\n                        <Grid item>\n                            <ParamDropdown\n                                options={pythonVersionOptions ?? []}\n                                type=\"python_version\"\n                                label={\"Python Version\"}\n                                disabled={specs.os_version === undefined}\n                            />\n                        </Grid>\n                    </React.Fragment>\n                ) : null}\n                <Grid item xs={1}>\n                    <IconButton\n                        onClick={() => setShowEnvParams(!showEnvParams)}\n                    >\n                        {showEnvParams ? (\n                            <ArrowLeftIcon fontSize=\"large\" />\n                        ) : (\n                            <ArrowRightIcon fontSize=\"large\" />\n                        )}\n                    </IconButton>\n                </Grid>\n            </Grid>\n\n            <Typography gutterBottom variant=\"body1\">\n                {metadata?.Summary ?? \"NaN\"}\n            </Typography>\n            <div className={classes.linksRow}>\n                <IconText\n                    text={metadata?.License ?? \"NaN\"}\n                    icon={<GavelIcon />}\n                />\n            </div>\n        </div>\n    );\n};\n\nPackageHeader.propTypes = {\n    /** Package metadata object.*/\n    metadata: PropTypes.shape({\n        /** Name of package. */\n        Name: PropTypes.string.isRequired,\n        /** Description of package. */\n        Summary: PropTypes.string,\n        /** License of package */\n        License: PropTypes.string,\n    }),\n    /** list of all versions of a package **/\n    allVersions: PropTypes.array.isRequired,\n    /** list of all environments of a package, version, index **/\n    allEnvironments: PropTypes.array.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const PackageNotFound = ({ package_name, package_version }) => {\n    return (\n        <div>\n            `&quot;{package_name}\n            {package_version ? \" \" + package_version : \"\"}&quot;` not found\n        </div>\n    );\n};\n\nPackageNotFound.propTypes = {\n    package_name: PropTypes.string,\n    package_version: PropTypes.string,\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\n\nconst useStyles = makeStyles(theme => ({\n    bar: {\n        marginBottom: theme.spacing(1),\n    },\n}));\n\n/**\n * A metric card displaying dependency information of a single package.\n */\nexport const PackageDependencies = ({ metric }) => {\n    const classes = useStyles();\n    const totalDependencies =\n        (metric.all.direct ?? 0) + (metric.all.indirect ?? 0);\n\n    return (\n        <div>\n            <ProgressBar\n                value={metric.all.direct ?? 0}\n                total={totalDependencies}\n                label={\"Direct\"}\n                className={classes.bar}\n            />\n\n            <ProgressBar\n                value={metric.all.indirect ?? 0}\n                total={totalDependencies}\n                label={\"Indirect\"}\n            />\n        </div>\n    );\n};\n\nPackageDependencies.propTypes = {\n    /** An object holding metric info. */\n    metric: PropTypes.shape({\n        /**\n         * ```\n         * all: {\n         *     direct: 6,\n         *     indirect: 22\n         * }\n         * ```\n         */\n        all: PropTypes.shape({\n            /** Direct dependencies of the package. */\n            direct: PropTypes.number,\n            /** Indirect dependencies of the package (dependencies of direct and indirect packages) */\n            indirect: PropTypes.number,\n        }),\n    }),\n};\n","// react\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// material-ui\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Typography, Divider } from \"@material-ui/core\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\nconst useStyles = makeStyles(theme => ({\n    bar: {\n        marginBottom: theme.spacing(1),\n    },\n    marginBottom: {\n        marginBottom: theme.spacing(2),\n    },\n}));\n\n/**\n * A metric card showing a package's (and its dependencies') licenses\n */\nexport const PackageLicenses = ({ metric }) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <Typography variant=\"body2\" gutterBottom>\n                <b>License</b>\n            </Typography>\n            <Divider />\n            <Typography className={classes.marginBottom} variant=\"h6\">\n                {metric.root}\n            </Typography>\n            <Typography variant=\"body2\" gutterBottom>\n                <b>Dependency Licenses</b>\n            </Typography>\n            <Divider />\n\n            {Object.entries(metric?.all ?? {}).map(([key, value]) => {\n                return (\n                    <ProgressBar\n                        key={key}\n                        value={Object.keys(value).length ?? 0}\n                        total={metric.total}\n                        label={key}\n                        className={classes.bar}\n                    />\n                );\n            })}\n        </div>\n    );\n};\n\nPackageLicenses.propTypes = {\n    metric: PropTypes.shape({\n        /** The total number of dependencies of the package */\n        total: PropTypes.number,\n        /** The license of the root package */\n        root: PropTypes.string,\n        /** key value object of package's dependencies' licenses\n         *\n         * ```\n         * all: {\n         *     MIT: {\n         *\n         *     }\n         * }\n         * ```\n         * */\n        all: PropTypes.object,\n    }).isRequired,\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQuery, useInfiniteQuery } from \"react-query\";\n\nexport const getPackageVersions = async (name, page = 0) => {\n    return axios.get(THOTH_URL + \"/python/package/versions\", {\n        params: {\n            name: name,\n            page: page,\n        },\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const usePackageVersions = (name, config) => {\n    return useQuery({\n        ...config,\n        queryKey: [\"packageVersions\", name],\n        queryFn: () => getPackageVersions(name),\n    });\n};\n\nexport const useInfinitePackageVersions = (name, config) => {\n    return useInfiniteQuery({\n        ...config,\n        queryKey: [\"packageVersions\", name],\n        queryFn: input => {\n            return getPackageVersions(name, input.pageParam);\n        },\n        getNextPageParam: lastPage => {\n            return lastPage.data.versions.length === 0\n                ? undefined\n                : lastPage.config.params.page + 100;\n        },\n    });\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQuery, useInfiniteQuery } from \"react-query\";\n\nexport const getPackageEnvironments = async (\n    name,\n    version,\n    index,\n    page = 0,\n) => {\n    return axios.get(THOTH_URL + \"/python/package/version/environments\", {\n        params: {\n            name: name,\n            version: version,\n            index: index,\n            page: page,\n        },\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const usePackageEnvironments = (name, version, index, config) => {\n    return useQuery({\n        ...config,\n        queryKey: [\"packageEnvironments\", name, version, index],\n        queryFn: () => getPackageEnvironments(name, version, index),\n    });\n};\n\nexport const useInfinitePackageEnvironments = (\n    name,\n    version,\n    index,\n    config,\n) => {\n    return useInfiniteQuery({\n        ...config,\n        queryKey: [\"packageEnvironments\", name, version, index],\n        queryFn: input => {\n            return getPackageEnvironments(\n                name,\n                version,\n                index,\n                input.pageParam,\n            );\n        },\n        getNextPageParam: lastPage => {\n            return lastPage.data.environments.length === 0\n                ? undefined\n                : lastPage.config.params.page + 100;\n        },\n    });\n};\n","import { useEffect, useState } from \"react\";\nimport { useInfinitePackageVersions } from \"../api\";\n\nexport const useAllVersions = package_name => {\n    const versions = useInfinitePackageVersions(package_name);\n    const [allVersions, setAllVersions] = useState([]);\n\n    useEffect(() => {\n        if (versions.isSuccess) {\n            // if has a next page, and is not currently fetching a page\n            if (versions.hasNextPage && !versions.isFetchingNextPage) {\n                versions.fetchNextPage().then();\n            } else if (!versions.hasNextPage && !versions.isFetchingNextPage) {\n                let merged = [];\n                versions.data.pages.forEach(page => {\n                    merged = [...merged, ...page.data.versions];\n                });\n                if (merged.length > 0) {\n                    merged = merged.reverse();\n                    setAllVersions(merged);\n                } else {\n                    setAllVersions(undefined);\n                }\n            }\n        }\n    }, [versions.data]);\n\n    return allVersions;\n};\n","import { useEffect, useState } from \"react\";\nimport { useInfinitePackageEnvironments } from \"../api\";\n\nexport const useAllEnvironments = (\n    package_name,\n    package_version,\n    index_url,\n) => {\n    const environments = useInfinitePackageEnvironments(\n        package_name,\n        package_version,\n        index_url,\n        { useErrorBoundary: false },\n    );\n    const [allEnvironments, setAllEnvironments] = useState([]);\n\n    useEffect(() => {\n        if (environments.isSuccess) {\n            // if has a next page, and is not currently fetching a page\n            if (environments.hasNextPage && !environments.isFetchingNextPage) {\n                environments.fetchNextPage().then();\n            } else if (\n                !environments.hasNextPage &&\n                !environments.isFetchingNextPage\n            ) {\n                let merged = [];\n                environments.data.pages.forEach(page => {\n                    merged = [...merged, ...page.data.environments];\n                });\n                merged = merged.reverse();\n                setAllEnvironments(merged);\n            }\n        }\n    }, [environments.data]);\n\n    return allEnvironments;\n};\n","// React\nimport React, { useEffect, useMemo, useState } from \"react\";\n\n// local\nimport { PackageHeader } from \"../components\";\n\n// material-ui\nimport { CircularProgress, Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport PropTypes from \"prop-types\";\nimport { useParams } from \"react-router-dom\";\nimport { usePackageMetadata } from \"features/misc/api\";\nimport { PackageNotFound } from \"./PackageNotFound\";\nimport { useAllVersions } from \"../hooks\";\nimport { useAllEnvironments } from \"../hooks/useAllEnvironments\";\n\n// component styling\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        maxWidth: \"95%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        paddingRight: theme.spacing(3),\n        paddingLeft: theme.spacing(3),\n        marginTop: theme.spacing(1),\n    },\n}));\n\nexport const SpecContext = React.createContext({});\n\n// The page that displays all analysis data\nexport const PackageOverview = () => {\n    const classes = useStyles();\n    const params = useParams();\n    const [defaultSpecs, setDefaultSpecs] = useState({\n        package_version: undefined,\n        index_url: undefined,\n        os_name: undefined,\n        os_version: undefined,\n        python_version: undefined,\n    });\n\n    // what is on the url params\n    const specs = useMemo(() => {\n        return {\n            package_name: params.package_name,\n            package_version: params?.package_version,\n            index_url: params?.index_url\n                ? decodeURIComponent(params.index_url)\n                : undefined,\n            os_name: params?.os_name,\n            os_version: params?.os_version,\n            python_version: params?.python_version,\n        };\n    }, [params]);\n\n    // get all pages of versions/indexes and merge them together\n    const allVersions = useAllVersions(specs.package_name);\n\n    // get environments for specific package, version, index\n    const allEnvironments = useAllEnvironments(\n        specs.package_name,\n        specs.package_version ?? defaultSpecs.package_version,\n        specs.index_url ?? defaultSpecs.index_url,\n    );\n\n    // some params are optional but still need a default value\n    useEffect(() => {\n        let d = {\n            package_version: undefined,\n            index_url: undefined,\n            os_name: undefined,\n            os_version: undefined,\n            python_version: undefined,\n        };\n\n        if (defaultSpecs === d) {\n            return;\n        }\n\n        // get default package version and index\n        // needs package name and versions list\n        if (specs.package_name && allVersions && allVersions.length > 0) {\n            d.package_version = allVersions.at(0).package_version;\n            d.index_url = allVersions.at(0).index_url;\n        } else {\n            setDefaultSpecs(d);\n            return;\n        }\n\n        // get default environment\n        // needs list of environments\n        if (allEnvironments && allEnvironments.length > 0) {\n            const filtered = allEnvironments.filter(\n                env =>\n                    (!specs.os_name || specs.os_name === env.os_name) &&\n                    (!specs.os_version || specs.os_version === env.os_version),\n            );\n            d.os_name = filtered.at(0).os_name;\n            d.os_version = filtered.at(0).os_version;\n            d.python_version = filtered.at(0).python_version;\n        } else {\n            setDefaultSpecs(d);\n            return;\n        }\n\n        setDefaultSpecs(d);\n    }, [allVersions, allEnvironments, specs]);\n\n    // get package metadata\n    const metadata = usePackageMetadata(\n        specs.package_name,\n        specs.package_version ?? defaultSpecs.package_version,\n        specs.index_url ?? defaultSpecs.index_url,\n        specs.os_name ?? defaultSpecs.os_name,\n        specs.os_version ?? defaultSpecs.os_version,\n        specs.python_version ?? defaultSpecs.python_version,\n        { useErrorBoundary: false },\n    );\n\n    if (metadata.isLoading || allVersions?.length === 0) {\n        return (\n            <div\n                className=\"w-full h-48 flex justify-center items-center\"\n                data-testid=\"loading\"\n            >\n                <CircularProgress />\n            </div>\n        );\n    }\n\n    if (!metadata.data) {\n        return (\n            <PackageNotFound\n                package_name={params.package_name}\n                package_version={params.package_version ?? \"\"}\n            />\n        );\n    }\n\n    return (\n        <SpecContext.Provider value={{ specs, defaultSpecs }}>\n            <Grid container className={classes.root}>\n                <Grid item xs={12}>\n                    <PackageHeader\n                        metadata={\n                            metadata.data.data.metadata.importlib_metadata\n                                .metadata\n                        }\n                        allVersions={allVersions}\n                        allEnvironments={allEnvironments}\n                    />\n                </Grid>\n            </Grid>\n        </SpecContext.Provider>\n    );\n};\n\nPackageOverview.propTypes = {\n    metadata: PropTypes.object,\n};\n","// React\nimport React from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\n\nimport { PackageOverview } from \"./PackageOverview\";\nimport { NotFound } from \"features/misc\";\nimport { NavigationLayout } from \"components/Layout/NavigationLayout\";\n\n// The page that displays all analysis data\nexport const PackageRoutes = () => {\n    return (\n        <NavigationLayout>\n            <Routes>\n                <Route\n                    path=\"/:package_version/:index_url/:os_name/:os_version/:python_version\"\n                    element={<PackageOverview />}\n                />\n                <Route\n                    path=\"/:package_version/:index_url/:os_name\"\n                    element={<PackageOverview />}\n                />\n                <Route\n                    path=\"/:package_version/:index_url/:os_name/:os_version\"\n                    element={<PackageOverview />}\n                />\n                <Route\n                    path=\"/:package_version/:index_url\"\n                    element={<PackageOverview />}\n                />\n                <Route path=\"/:package_version\" element={<PackageOverview />} />\n                <Route path=\"/\" element={<PackageOverview />} />\n                <Route path=\"*\" status={404} element={<NotFound />} />\n            </Routes>\n        </NavigationLayout>\n    );\n};\n","import React from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport { Home } from \"features/home\";\nimport { NotFound } from \"features/misc\";\nimport { AdviseRoutes } from \"features/advise\";\nimport { PackageRoutes } from \"features/package\";\n\nexport const RouterConfig = () => {\n    return (\n        <BrowserRouter basename={process.env.REACT_APP_BASENAME ?? \"/search\"}>\n            <Routes>\n                <Route exact path={\"/\"} element={<Home />} />\n                <Route\n                    exact\n                    path={\"advise/:analysis_id/*\"}\n                    element={<AdviseRoutes />}\n                />\n                <Route\n                    path={\"package/:package_name/*\"}\n                    element={<PackageRoutes />}\n                />\n                <Route path=\"*\" status={404} element={<NotFound />} />\n            </Routes>\n        </BrowserRouter>\n    );\n};\n\nexport default RouterConfig;\n","import React from \"react\";\n\n// material ui\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport { createTheme } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\n\nconst themeLight = createTheme({\n    palette: {\n        background: {\n            default: \"#f9f9f9\",\n        },\n        primary: {\n            light: \"#f5a733\",\n            main: \"#f39200\",\n            dark: \"#aa6600\",\n        },\n        secondary: {\n            light: \"#72cdee\",\n            main: \"#4fc1ea\",\n            dark: \"#3787a3\",\n        },\n        text: {\n            priamry: \"#363636\",\n            secondary: \"#999\",\n        },\n    },\n    typography: {\n        fontFamily: [\"open sans\", \"sans-serif\"],\n        h4: {\n            fontWeight: 700,\n            fontSize: \"3rem\",\n            color: \"#363636\",\n            lineHeight: 1.125,\n        },\n        h5: {\n            fontWeight: 600,\n            fontSize: \"2rem\",\n            lineHeight: 1.125,\n            color: \"#363636\",\n        },\n        h6: {\n            fontWeight: 600,\n            fontSize: \"1.2rem\",\n            color: \"#444f60\",\n            lineHeight: 1.5,\n        },\n\n        body1: {\n            fontWeight: 400,\n            fontSize: \"1.25rem\",\n            lineHeight: 1.25,\n            color: \"#000\",\n        },\n\n        body2: {\n            fontWeight: 400,\n            fontSize: \"1rem\",\n            lineHeight: 1.5,\n            color: \"#000\",\n        },\n        subtitle1: {\n            fontWeight: 400,\n            fontSize: \"1.25rem\",\n            lineHeight: 1.25,\n            color: \"#999\",\n        },\n\n        subtitle2: {\n            fontWeight: 400,\n            fontSize: \"1rem\",\n            lineHeight: 1.5,\n            color: \"#999\",\n        },\n    },\n});\n\nfunction Theme({ children }) {\n    return (\n        <ThemeProvider theme={themeLight}>\n            <CssBaseline />\n            {children}\n        </ThemeProvider>\n    );\n}\n\nTheme.propTypes = {\n    children: PropTypes.node,\n};\n\nexport default Theme;\n","import * as React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const StateContext = React.createContext(undefined);\nexport const DispatchContext = React.createContext(undefined);\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        default:\n            throw new Error(\"State dispatch error\");\n    }\n}\n\nexport const initState = {};\n\nexport default function Global({ children }) {\n    // for state control\n    const [state, dispatch] = React.useReducer(reducer, initState);\n    return (\n        <StateContext.Provider value={state}>\n            <DispatchContext.Provider value={dispatch}>\n                {children}\n            </DispatchContext.Provider>\n        </StateContext.Provider>\n    );\n}\n\nGlobal.propTypes = {\n    children: PropTypes.node,\n};\n","import * as React from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { QueryClientProvider } from \"react-query\";\nimport { queryClient } from \"lib/react-query\";\nimport RouterConfig from \"routes/RouterConfig\";\nimport { Button } from \"@material-ui/core\";\nimport Theme from \"styles/Theme\";\nimport Global from \"stores/Global\";\nimport { MainLayout } from \"components/Layout\";\n\nconst ErrorFallback = () => {\n    return (\n        <div>\n            <h2>Oops, something went wrong :( </h2>\n            <Button\n                onClick={() => window.location.assign(window.location.origin)}\n            >\n                Refresh\n            </Button>\n        </div>\n    );\n};\n\nexport const AppProvider = () => {\n    return (\n        <Theme>\n            <Global>\n                <ErrorBoundary FallbackComponent={ErrorFallback}>\n                    <QueryClientProvider client={queryClient}>\n                        <MainLayout>\n                            <RouterConfig />\n                        </MainLayout>\n                    </QueryClientProvider>\n                </ErrorBoundary>\n            </Global>\n        </Theme>\n    );\n};\n","import React from \"react\";\nimport { AppProvider } from \"./providers/app\";\n\nfunction App() {\n    return <AppProvider />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}