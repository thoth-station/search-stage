{"version":3,"sources":["lib/react-query.ts","styles/Theme.tsx","stores/Global.tsx","providers/app.tsx","components/Elements/TabPanel/TabPanel.tsx","assets/thoth-logo.png","components/Elements/SearchBar/SearchBar.tsx","config/index.ts","features/home/api/postAdvise.ts","features/home/api/getPackageExists.ts","features/home/api/postImageAnalyze.ts","features/home/api/getContainerImages.ts","features/home/components/PackageSearch.tsx","features/home/components/ComboBox/ComboBox.tsx","components/Elements/GenericTable/GenericTable.tsx","features/advise/api/getPackageDependencies.ts","features/advise/api/getAdviseDocument.ts","features/advise/api/getAdviseLogs.ts","utils/timeSince.ts","utils/calcTime.ts","features/home/components/AdviseCreation.tsx","features/home/components/ImageSearch.tsx","assets/footer-logo.png","components/Footer/Footer.tsx","features/home/routes/index.tsx","routes/NotFound.tsx","components/Elements/InfoCard/InfoCard.tsx","components/Elements/ProgressBar/ProgressBar.tsx","components/Metrics/DependenciesMetric/DependenciesMetric.tsx","components/Metrics/LicenseMetric/LicenseGroup/LicenseGroup.tsx","components/Metrics/LicenseMetric/LicenseMetric.tsx","components/Metrics/AdviseMetric/AdviseMetric.tsx","components/Elements/IconText/IconText.tsx","features/advise/components/AdviseHeader/CustomAlert/CustomAlert.tsx","features/advise/components/AdviseHeader/AdviseHeader.tsx","features/advise/components/AdviseTableView/EnhancedTableHead/EnhancedTableHead.tsx","features/advise/components/PackageList/PackageList.tsx","components/Elements/Loading/Loading.tsx","features/advise/routes/AdviseDetails.tsx","features/advise/components/LockfileView/LockfileView.tsx","features/advise/components/Popup/Popup.tsx","features/advise/components/NetworkGraphView/NetworkGraphView.tsx","features/advise/components/JustificationMetrics/ScorecardMetric.tsx","api/getPackageMetadata.ts","api/getFile.ts","features/advise/components/SelectedPackage/hooks/useScorecards.ts","features/advise/components/SelectedPackage/SelectedPackage.tsx","features/advise/components/SelectedPackage/hooks/useLinkData.tsx","features/advise/routes/AdviseSummary.tsx","components/Elements/ScrollToTop/ScrollToTop.tsx","features/advise/routes/AdviseCompare.tsx","hooks/metrics/useAdviseMetric.ts","hooks/metrics/useDependencyMetric.ts","hooks/metrics/useLicenseMetric.ts","features/advise/hooks/useMetrics.ts","hooks/useInterval.ts","lib/interfaces/Graph.ts","lib/interfaces/Node.ts","hooks/useGraph.ts","features/advise/routes/AdviseNotFound.tsx","components/Layout/MainLayout.tsx","components/Layout/AdviserLayout.tsx","components/Layout/NavigationLayout.tsx","features/advise/routes/AdviseLogs.tsx","features/advise/components/StackInfoMetrics/StackInfoInstallErrorMetric.tsx","features/advise/components/StackInfoMetrics/StackInfoRulesMetric.tsx","features/advise/components/StackInfoMetrics/StackInfoEnvMetric.tsx","features/advise/components/StackInfoMetrics/StackInfoMetric.tsx","features/advise/routes/AdviseStackInfo.tsx","features/advise/routes/index.tsx","utils/formatLockfile.ts","features/package/components/ParamDropdown/ParamDropdown.tsx","features/package/components/PackageHeader/PackageHeader.tsx","features/package/components/PackageDependencies/VersionDropdown.tsx","features/package/components/PackageDependencies/PackageDependencies.tsx","features/package/routes/PackageNotFound.tsx","features/package/api/getPackageVersions.ts","features/package/api/getPackageEnvironments.ts","features/package/hooks/useAllVersions.ts","routes/ErrorPage.tsx","features/package/routes/PackageOverview.tsx","features/package/hooks/useSimpleGraph.ts","features/package/routes/index.tsx","features/image/components/ImageHeader/ImageHeader.tsx","features/image/components/DebInfo/DebInfo.tsx","features/image/components/PythonInfo/PythonInfo.tsx","features/image/components/ImageInfo/ImageInfo.tsx","features/image/components/RPMInfo/RPMInfo.tsx","features/image/routes/ImageSummary.tsx","features/image/api/getImageDocument.ts","features/image/api/getImageLogs.ts","features/image/api/getImageMetadata.ts","features/image/routes/ImageNotFound.tsx","features/image/routes/index.tsx","features/image/hooks/useMetrics.ts","features/image/utils/formatImagePackages.ts","routes/RouterConfig.tsx","App.tsx","index.tsx"],"names":["queryClient","QueryClient","defaultOptions","queries","useErrorBoundary","refetchOnWindowFocus","refetchOnMount","retry","theme","createTheme","palette","primary","main","secondary","background","default","paper","text","shape","borderRadius","activeColor","customColor","value","argbFromHex","name","blend","responsiveFontSizes","components","MuiPopover","defaultProps","elevation","styleOverrides","paddingLeft","paddingRight","MuiDialog","PaperProps","MuiDrawer","borderStyle","backgroundColor","MuiLink","root","color","Theme","children","ThemeProvider","CssBaseline","StateContext","React","undefined","reducer","state","action","type","input","payload","loading","isLoading","total","DispatchContext","updateLoading","initState","Global","dispatch","actionMap","Provider","ErrorFallback","Button","onClick","window","location","assign","origin","AppProvider","FallbackComponent","client","TabPanel","index","props","role","hidden","id","SearchBar","onEnter","label","helpertext","boxprops","error","lefticon","righticon","Box","Typography","variant","sx","Paper","p","display","alignItems","borderColor","InputBase","ml","flex","placeholder","onChange","onKeyPress","ev","key","preventDefault","LOCAL_STORAGE_KEY","THOTH_URL","options","manipulation","enabled","interaction","hover","hoverConnectedEdges","selectConnectedEdges","selectable","edges","chosen","smooth","arrowStrikethrough","arrows","from","nodes","border","size","borderWidth","labelHighlightBold","font","strokeWidth","physics","hierarchicalRepulsion","damping","springLength","solver","minVelocity","postAdvise","pipfile","pipfileLock","runtime_environment","data","application_stack","requirements","requirements_format","requirements_lock","axios","post","params","recommendation_type","limit","headers","accept","getPackageExists","a","get","per_page","then","res","versions","length","catch","postImageAnalyze","image","getContainerImages","page","PackageSearch","navigate","useNavigate","useState","searchQuery","setSearchQuery","searchError","setSearchError","handleAnalyze","Grid","container","justifyContent","alignSelf","item","xs","minHeight","spacing","md","e","target","handleChange","minWidth","filter","createFilterOptions","ComboBox","suggestions","help","required","setValue","suggestions_mapped","useMemo","map","suggestion","title","Autocomplete","event","newValue","inputValue","filterOptions","filtered","push","selectOnFocus","clearOnBlur","handleHomeEndKeys","getOptionLabel","option","renderOption","freeSolo","renderInput","TextField","fullWidth","helperText","descendingComparator","b","orderBy","getComparator","order","EnhancedTableHead","onRequestSort","TableHead","TableRow","headCell","TableCell","sortDirection","TableSortLabel","active","direction","property","GenericTable","rows","setOrder","setOrderBy","setPage","rowsPerPage","setRowsPerPage","emptyRows","Math","max","width","mb","TableContainer","Table","rowCount","TableBody","slice","sort","row","labelId","tabIndex","header","j","component","scope","align","IconButton","style","height","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","className","CircularProgress","getAdviseDocument","analysis_id","useAdviseDocument","config","useQuery","startsWith","queryKey","queryFn","getAdviseLogs","timeSince","date","startTime","Date","seconds","floor","valueOf","interval","num","calcTime","finished_at","started_at","datetime","param","Error","headCells","lookupType","operating_system_name","operating_system_version","python_version","cuda_version","cudnn_version","mkl_version","openblas_version","openmpi_version","base_image","AdviseCreation","analysis_ids","useReducer","localHistory","ids","localStorage","getItem","split","s","adviseHistory","useQueries","doc","document_id","metadata","result","report","products","project","os_name","operating_system","os_version","version","status","isValid","valid","Object","keys","forEach","response","includes","Collapse","in","marginRight","mt","padding","marginBottom","multiline","sm","LoadingButton","ImageSearch","images","container_images","image_name","mr","package_extract_document_id","environment_name","Footer","marginTop","alt","src","logo","Stack","paddingX","textTransform","paddingBottom","Link","underline","href","Home","mode","setMode","useTheme","matches","useMediaQuery","breakpoints","up","maxWidth","margin","textAlign","ToggleButtonGroup","exclusive","newMode","ToggleButton","Divider","NotFound","InfoCard","cardMeta","cardBody","cardAction","Card","CardHeader","subheader","subTitle","CardContent","ProgressBar","LinearProgress","colorPrimary","bar","DependenciesMetric","metric","totalDependencies","all","direct","indirect","roots","gutterBottom","List","TransitionGroup","entries","t","ListItem","ListItemText","Skeleton","LicenseGroup","packages","totalLicenses","open","setOpen","isOsiApproved","timeout","unmountOnExit","my","depth","k","v","Chip","LicenseMetric","more","setMore","licenses","reduce","sum","val","AdviseMetric","justTotal","values","justification","build","IconText","icon","link","rel","CustomAlert","info","Alert","severity","message","AdviseHeader","adviseDocument","lastLog","ERROR","toUpperCase","statusText","statusColor","parameters","error_msg","levelname","toLowerCase","PackageList","graph","useContext","SelectedPackageContext","setSelected","console","log","selected","search","setSearch","packageList","node","summary","Summary","warnings","justifications","errors","maxHeight","overflow","button","marginY","hexFromArgb","light","colorContainer","onColorContainer","ListItemSecondaryAction","Loading","progress","flexDirection","createContext","AdviseDetails","flexGrow","overflowY","Popup","License","latestVersion","NetworkGraph","visJsRef","useRef","useEffect","selectedNode","findAllNodesOnAllPaths","app_node","set","convertedNodes","DataSet","popup","document","createElement","ReactDOM","render","add","visData","visEdges","network","current","Network","networkCanvas","getElementById","getElementsByTagName","changeCursor","newCursorStyle","cursor","on","flexFlow","ref","ScorecardItem","tags","short","risk","passing","KeyboardArrowDown","transform","transition","fontWeight","marginLeft","tag","ScorecardMetric","getPackageMetadata","usePackagesMetadata","getYamlFile","url","fetch","getFile","YAML","parse","getMatch","scorecards","pattern","Maintained","Contributors","Fuzzing","Packaging","SAST","Vulnerabilities","find","scorecard","SelectedPackage","selectedPackage","dependents","deps","parents","justs","Map","just","setScorecard","scorecardJustifications","Array","delete","load","yaml","checks","match","useScorecards","linkData","setLinkData","patterns","temp","useLinkData","popular","browseLink","showError","orientation","avatar","dep","i","NetworkGraphView","AdviseSummary","metrics","advise","dependencies","ScrollTop","trigger","useScrollTrigger","disableHysteresis","threshold","Zoom","anchor","ownerDocument","querySelector","scrollIntoView","behavior","block","position","bottom","right","ScrollToTop","Fab","AdviseCompare","comparison","setComparison","compareDoc","importText","setImportText","handleClose","reason","history","requirements_locked","COMPARE_COLORS","old","new","change","equal","comparePaths","obj1","obj2","mapping","obj","obj1_mapped","obj2_mapped","renderCompareLine","compareType","borderStyles","paddingTop","doubleRenderTypography","headerStyles","compareArrays","array1","array2","s1","JSON","stringify","s2","set1","Set","set2","merged","has","createProjectCompare","proj1","proj2","dev_packages","_meta","sources","field","hardware","cpu_model","cpu_family","gpu_model","trim","createCompare","doc1","doc2","arguments","distribution","os_release","python","major","minor","micro","api_version","implementation_name","releaselevel","accepted_final_states_count","discarded_final_states_count","resolver_iterations","pipeline","advised_manifest_changes","patch","path","op","stack_info","compareJSX","borderBottomStyle","borderTopLeftRadius","borderTopRightRadius","Dialog","disableEscapeKeyDown","onClose","DialogTitle","DialogContent","flexWrap","DialogActions","setItem","join","handleImport","columnSpacing","borderTopStyle","borderBottomLeftRadius","borderBottomRightRadius","textOverflow","whiteSpace","marginX","FormControl","Select","displayEmpty","MenuItem","disabled","useDependencyMetric","setMetric","base","visited","rootObj","bfs","graphSearch","useLicenseMetric","packageLicenses","Classifier","classifier","parsed","generalLicense","specificLicense","license","specific","useMetrics","adviseMetric","analyzer","analyzer_version","useAdviseMetric","dependencyMetric","licenseMetric","Graph","this","Node","source","destination","sourceNode","destinationNode","addAdjacent","first","visitList","pop","shift","getAdjacents","adj","newPath","nextPath","findPath","destinationKey","parent","paths","findAllPaths","adjacents","useGraph","knownRoots","allMetadata","query","some","tempGraph","notRoot","addVertex","isSuccess","package_name","package_version","importlib_metadata","currentNode","adjacentNode","addEdge","app","justifiedPackages","adjs","min","visGraphEdges","to","AdviseNotFound","MainLayout","openedMixin","transitions","create","easing","sharp","duration","enteringScreen","overflowX","closedMixin","leavingScreen","Drawer","styled","shouldForwardProp","prop","flexShrink","boxSizing","CustomListItem","chipData","hideOnClosed","RouterLink","secondaryAction","warning","ListItemIcon","disableTypography","AdviserLayout","useLocation","currentTab","pathname","at","NavigationLayout","goHome","AdviseLogs","logs","line","module","lineno","funcname","created","asctime","msecs","relative_created","process","stickyHeader","StackInfoInstallErrorMetric","compact","down","titleTypographyProps","prev","cur","dense","pkg","package","inset","StackInfoRulesMetric","rule","flexItem","Fragment","constraint","StackInfoEnvMetric","env","provided","StackInfoMetric","typeTotals","c","renderRow","alignContent","AdviseStackInfo","types","cards","element","name_index","rules","name_constraint_index","concat","fromEntries","stackInfoHandler","others","Masonry","columns","lg","xl","AdviseRoutes","useParams","refetchInterval","useAdviseLogs","lockfile","replace","formatLockfile","stackInfoTotals","ParamDropdown","SpecContext","specs","defaultSpecs","encodeURIComponent","index_url","renderValue","PackageHeader","allVersions","allEnvironments","showEnvParams","setShowEnvParams","versionOptions","dups","indexUrlOptions","osNameOptions","osVersionOptions","pythonVersionOptions","Name","fontSize","VersionDropdown","anchorEl","setAnchorEl","noDup","currentKey","buckets","ceil","fixedOptions","array","currentTarget","endIcon","specifier","Menu","divider","PackageDependencies","visitedOrder","extra","rowSpacing","PackageNotFound","getPackageVersions","getPackageEnvironments","useAllVersions","useInfiniteQuery","pageParam","getNextPageParam","lastPage","setAllVersions","hasNextPage","isFetchingNextPage","fetchNextPage","pages","reverse","ErrorPage","PackageOverview","setDefaultSpecs","decodeURIComponent","d","environments","usePackageMetadata","setGraph","useSimpleGraph","PackageRoutes","ImageHeader","imageDocument","showLogs","setShowLogs","selectedLine","setSelectedLine","noWrap","headerName","DebInfo","disableSelectionOnClick","disableColumnSelector","hideFooterSelectedRowCount","getRowId","package_identifier","density","pageSize","PythonInfo","files","file","filepath","interpreters","interpreter","ImageInfo","imageMetadata","architecture","Architecture","Created","digest","Digest","docker_version","DockerVersion","labels","Labels","layers","Layers","os","Os","repo_tags","RepoTags","description","vendor","maintainer","toLocaleDateString","usage","valueGetter","sortable","RPMInfo","ImageSummary","deb","getImageDocument","getImageLogs","getImageMetadata","ImageNotFound","ImageRoutes","useImageDocument","useImageLogs","version_id","image_packages","formatImagePackages","RouterConfig","basename","App","StrictMode"],"mappings":"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","file":"static/js/main.2c1ec668.chunk.js","sourcesContent":["import { QueryClient } from \"react-query\";\n\nconst queryConfig = {\n    queries: {\n        useErrorBoundary: true,\n        refetchOnWindowFocus: false,\n        refetchOnMount: false,\n        retry: false,\n    },\n};\n\nexport const queryClient = new QueryClient({ defaultOptions: queryConfig });\n","import React from \"react\";\n\n// material ui\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport { createTheme, responsiveFontSizes } from \"@mui/material/styles\";\nimport { argbFromHex, customColor } from \"@material/material-color-utilities\";\n\nlet theme = createTheme();\n\n// key colors and theme\ntheme = createTheme(theme, {\n    palette: {\n        primary: {\n            main: \"#f39200\",\n        },\n        secondary: {\n            main: \"#4fc1ea\",\n        },\n        background: {\n            default: \"rgb(249, 249, 249)\",\n            paper: \"#fff\",\n        },\n        text: {\n            primary: \"#363636\",\n            secondary: \"#999999\",\n        },\n    },\n    shape: {\n        borderRadius: 12,\n    },\n});\n\nexport const activeColor = customColor(0, {\n    value: argbFromHex(theme.palette.primary.main),\n    name: \"active\",\n    blend: false,\n});\n\ntheme = responsiveFontSizes(theme);\n\ntheme = createTheme(theme, {\n    components: {\n        MuiPopover: {\n            defaultProps: {\n                elevation: 2,\n            },\n            styleOverrides: {\n                paper: {\n                    paddingLeft: 0,\n                    paddingRight: 0,\n                    borderRadius: \"4px\",\n                },\n            },\n        },\n        MuiDialog: {\n            defaultProps: {\n                PaperProps: {\n                    elevation: 3,\n                },\n            },\n        },\n        MuiDrawer: {\n            styleOverrides: {\n                paper: {\n                    borderStyle: \"hidden\",\n                    backgroundColor: theme.palette.background.default,\n                },\n            },\n        },\n        MuiLink: {\n            styleOverrides: {\n                root: {\n                    color: theme.palette.text.primary,\n                    \"&:hover\": {\n                        color: theme.palette.primary.main,\n                    },\n                },\n            },\n        },\n    },\n});\n\ninterface ITheme {\n    children?: JSX.Element;\n}\n\nfunction Theme({ children }: ITheme) {\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline />\n            {children}\n        </ThemeProvider>\n    );\n}\n\nexport default Theme;\n","import * as React from \"react\";\n\ninterface IGlobal {\n    children?: JSX.Element;\n}\n\nexport interface GlobalState {\n    notifications?: string[];\n    loading?: {\n        [key: string]: {\n            isLoading: boolean;\n            total?: number;\n            value?: number;\n            text?: string;\n        };\n    };\n}\n\nexport interface GlobalAction {\n    type: string;\n    payload: unknown;\n}\n\ntype LoadingPayload = {\n    name: string;\n    isLoading: boolean;\n    total?: number;\n    value?: number;\n    text?: string;\n};\n\nexport const StateContext = React.createContext<GlobalState | undefined>(\n    undefined,\n);\n\nfunction reducer(state: GlobalState, action: GlobalAction) {\n    switch (action.type) {\n        case \"loading\": {\n            const input = action.payload as LoadingPayload;\n            return {\n                ...state,\n                loading: {\n                    ...state.loading,\n                    [input.name]: {\n                        isLoading: input.isLoading,\n                        total: input.total,\n                        value: input.value,\n                        text: input.text,\n                    },\n                },\n            };\n        }\n        default:\n            return state;\n    }\n}\ninterface IActionMap {\n    updateLoading: (\n        name: string,\n        text?: string,\n        value?: number,\n        total?: number,\n    ) => void;\n}\n\nexport const DispatchContext = React.createContext<IActionMap>({\n    updateLoading: () => undefined,\n});\n\nconst initState: GlobalState = {};\n\nexport default function Global({ children }: IGlobal) {\n    // for state control\n    const [state, dispatch] = React.useReducer(reducer, initState);\n\n    const actionMap: IActionMap = React.useMemo(() => {\n        return {\n            updateLoading: (\n                name: string,\n                text?: string,\n                value?: number,\n                total?: number,\n            ) => {\n                if (!value || !total) {\n                    dispatch({\n                        type: \"loading\",\n                        payload: {\n                            name: name,\n                            isLoading: false,\n                            value: 0,\n                            total: 1,\n                            text: text,\n                        },\n                    });\n                } else {\n                    dispatch({\n                        type: \"loading\",\n                        payload: {\n                            name: name,\n                            isLoading: true,\n                            value: value ?? 0,\n                            total: total ? total : 1,\n                            text: text,\n                        },\n                    });\n                }\n            },\n        };\n    }, []);\n\n    return (\n        <StateContext.Provider value={state}>\n            <DispatchContext.Provider value={actionMap}>\n                {children}\n            </DispatchContext.Provider>\n        </StateContext.Provider>\n    );\n}\n","import * as React from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { QueryClientProvider } from \"react-query\";\nimport { queryClient } from \"lib/react-query\";\nimport { Button } from \"@mui/material\";\nimport Theme from \"styles/Theme\";\nimport Global from \"stores/Global\";\n\ninterface IAppProvider {\n    children?: JSX.Element;\n}\n\nconst ErrorFallback = () => {\n    return (\n        <div>\n            <h2>Oops, something went wrong :( </h2>\n            <Button\n                onClick={() => window.location.assign(window.location.origin)}\n            >\n                Refresh\n            </Button>\n        </div>\n    );\n};\n\nexport const AppProvider: React.FC<IAppProvider> = ({ children }) => {\n    return (\n        <Theme>\n            <Global>\n                <ErrorBoundary FallbackComponent={ErrorFallback}>\n                    <QueryClientProvider client={queryClient}>\n                        {children}\n                    </QueryClientProvider>\n                </ErrorBoundary>\n            </Global>\n        </Theme>\n    );\n};\n","import React from \"react\";\n\ninterface IProps extends React.ComponentPropsWithoutRef<\"div\"> {\n    children: React.ReactNode;\n    /** The unique identifier of the tab. */\n    index: string | number;\n    /** The state variable passed in from the parent which is compared to the index */\n    value: string | number;\n}\n\n/**\n * A tab panel used to encapsulate different tab content.\n */\nconst TabPanel = ({ children, value, index, ...props }: IProps) => {\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...props}\n        >\n            {value === index && children}\n        </div>\n    );\n};\n\nexport default TabPanel;\n","export default __webpack_public_path__ + \"static/media/thoth-logo.1a28a729.png\";","import React from \"react\";\n\n// material ui\nimport {\n    Typography,\n    Box,\n    Paper,\n    InputBase,\n    InputBaseProps,\n} from \"@mui/material\";\nimport { SxProps } from \"@mui/system\";\n\ninterface IProps extends InputBaseProps {\n    /** The error text or default label text */\n    label?: string;\n    /** callback function when textbox ENTER is pressed */\n    onEnter?: () => void;\n    /** helper text for the search bar */\n    helpertext?: string;\n    /** if there is an error or not */\n    error?: boolean;\n    /** icon displayed on the left of the text box */\n    lefticon?: React.ReactNode;\n    /** icon displayed on the right of the text box */\n    righticon?: React.ReactNode;\n    /** Props added to the text box */\n    boxprops?: SxProps;\n}\n\n/**\n *\n */\nconst SearchBar = ({\n    onEnter,\n    label,\n    helpertext,\n    boxprops,\n    error = false,\n    lefticon,\n    righticon,\n    ...props\n}: IProps) => {\n    return (\n        <Box>\n            <Typography\n                variant={\"body1\"}\n                sx={{ color: error ? \"error.main\" : \"text.secondary\" }}\n            >\n                {label}\n            </Typography>\n            <Paper\n                variant=\"outlined\"\n                sx={{\n                    p: \"8px 4px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    borderColor: error ? \"red\" : undefined,\n                    paddingLeft: 2,\n                    paddingRight: 2,\n                    ...boxprops,\n                }}\n            >\n                {lefticon}\n                <InputBase\n                    sx={{ ml: 1, flex: 1 }}\n                    placeholder={helpertext}\n                    error={error}\n                    onChange={props.onChange}\n                    onKeyPress={ev => {\n                        if (onEnter && ev.key === \"Enter\") {\n                            onEnter();\n                            ev.preventDefault();\n                        }\n                    }}\n                    {...props}\n                />\n                {righticon}\n            </Paper>\n        </Box>\n    );\n};\n\nexport default SearchBar;\n","const useProd = true;\nexport const LOCAL_STORAGE_KEY = \"THOTH_SEARCH_ADVISE_HISTORY\";\nexport const THOTH_URL =\n    !useProd &&\n    (process.env.REACT_APP_DEPLOYMENT === \"STAGE\" ||\n        process.env.NODE_ENV === \"development\")\n        ? \"https://stage.thoth-station.ninja/api/v1\"\n        : \"https://khemenu.thoth-station.ninja/api/v1\";\n\n/**\n * used for vis-js graph render engine\n */\nexport const options = {\n    manipulation: {\n        enabled: false,\n    },\n    interaction: {\n        hover: true,\n        hoverConnectedEdges: false,\n        selectConnectedEdges: false,\n        selectable: true,\n    },\n    edges: {\n        chosen: false,\n        smooth: false,\n        color: {\n            color: \"#5c6470\",\n        },\n        arrowStrikethrough: false,\n        arrows: {\n            from: {\n                enabled: true,\n                type: \"triangle\",\n            },\n        },\n    },\n\n    nodes: {\n        chosen: false,\n        color: {\n            background: \"#5c6470\",\n            border: \"#fff\",\n            hover: {\n                background: \"#f39200\",\n                border: \"#fff\",\n            },\n        },\n        shape: \"dot\",\n        size: 10,\n        borderWidth: 2,\n        labelHighlightBold: false,\n        font: {\n            color: \"#393e46\",\n            strokeWidth: 2,\n            size: 15,\n        },\n    },\n    physics: {\n        hierarchicalRepulsion: {\n            damping: 0.1,\n            springLength: 200,\n        },\n        solver: \"hierarchicalRepulsion\",\n        minVelocity: 0.15,\n    },\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { paths } from \"lib/schema\";\n\ntype path = paths[\"/advise/python\"][\"post\"];\ntype requestBody = path[\"requestBody\"][\"content\"][\"application/json\"];\ntype requestResponseSuccess =\n    path[\"responses\"][\"202\"][\"content\"][\"application/json\"];\n\nexport const postAdvise = (\n    pipfile: requestBody[\"application_stack\"][\"requirements\"],\n    pipfileLock: requestBody[\"application_stack\"][\"requirements_lock\"],\n    runtime_environment: requestBody[\"runtime_environment\"],\n) => {\n    const data = {\n        application_stack: {\n            requirements: pipfile,\n            requirements_format: \"pipenv\",\n            requirements_lock: pipfileLock,\n        },\n        runtime_environment: runtime_environment,\n    };\n\n    return axios.post<requestResponseSuccess>(\n        THOTH_URL + \"/advise/python\",\n        data,\n        {\n            params: {\n                recommendation_type: \"stable\",\n                limit: 500,\n            },\n            headers: {\n                accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n        },\n    );\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { paths } from \"lib/schema\";\n\ntype path = paths[\"/python/package/versions\"][\"get\"];\ntype requestParams = path[\"parameters\"][\"query\"];\ntype requestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"];\n\nexport const getPackageExists = async (name: requestParams[\"name\"]) => {\n    return axios\n        .get<requestResponseSuccess>(THOTH_URL + \"/python/package/versions\", {\n            params: {\n                name: name,\n                per_page: 1,\n            },\n            headers: {\n                accept: \"application/json\",\n            },\n        })\n        .then(res => {\n            return res.data.versions.length > 0;\n        })\n        .catch(() => false);\n};\n","import axios from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { paths } from \"../../../lib/schema\";\n\ntype path = paths[\"/analyze\"][\"post\"];\ntype requestParams = path[\"parameters\"][\"query\"];\ntype requestResponseSuccess =\n    path[\"responses\"][\"202\"][\"content\"][\"application/json\"];\n\nexport const postImageAnalyze = (image: requestParams[\"image\"]) => {\n    return axios.post<requestResponseSuccess>(\n        THOTH_URL + \"/analyze\",\n        {},\n        {\n            params: {\n                image: image,\n            },\n            headers: {\n                accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n        },\n    );\n};\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { useInfiniteQuery, useQuery } from \"react-query\";\n\nimport { THOTH_URL } from \"config\";\nimport { paths } from \"lib/schema\";\n\ntype path = paths[\"/container-images\"][\"get\"];\ntype requestParams = path[\"parameters\"][\"query\"];\ntype requestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"];\ntype requestResponseFailure =\n    path[\"responses\"][\"400\"][\"content\"][\"application/json\"];\n\nexport const getContainerImages = async (\n    page: requestParams[\"page\"] = 0,\n    per_page: requestParams[\"per_page\"] = 100,\n) => {\n    return axios.get<requestResponseSuccess>(THOTH_URL + \"/container-images\", {\n        params: {\n            page: page,\n            per_page: per_page,\n        },\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const useContainerImages = (config: { [key: string]: unknown }) => {\n    return useQuery<\n        AxiosResponse<requestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >({\n        ...config,\n        queryKey: [\"container-images\"],\n        queryFn: () => getContainerImages(),\n    });\n};\n\nexport const useInfiniteContainerImages = (config: {\n    [key: string]: unknown;\n}) => {\n    return useInfiniteQuery<\n        AxiosResponse<requestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >({\n        ...config,\n        queryKey: [\"container-images\"],\n        queryFn: input => {\n            return getContainerImages(input.pageParam);\n        },\n        getNextPageParam: (lastPage: AxiosResponse<requestResponseSuccess>) => {\n            return lastPage.data.container_images.length === 0\n                ? undefined\n                : lastPage.data.parameters.page + 1;\n        },\n    });\n};\n","import { Button, Grid, Typography } from \"@mui/material\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getPackageExists } from \"../api\";\n\nexport const PackageSearch = () => {\n    const navigate = useNavigate();\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [searchError, setSearchError] = useState(\"\");\n\n    const handleAnalyze = async () => {\n        // if no query\n        if (searchQuery === \"\") {\n            return;\n        }\n\n        const exists = await getPackageExists(searchQuery);\n\n        if (exists) {\n            navigate(\"/package/\" + searchQuery);\n        } else {\n            setSearchError(\"Thoth does not know about that package\");\n        }\n    };\n\n    const handleChange = (\n        e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>,\n    ) => {\n        setSearchQuery(e.target.value);\n        if (searchError !== \"\") {\n            setSearchError(\"\");\n        }\n    };\n\n    return (\n        <Grid container justifyContent=\"center\">\n            <Grid alignSelf=\"flex-start\" item xs={12}>\n                <Typography\n                    color=\"error\"\n                    variant=\"body1\"\n                    sx={{ minHeight: 30 }}\n                >\n                    {searchError ?? \"\"}\n                </Typography>\n            </Grid>\n            <Grid container spacing={2} item xs={12}>\n                <Grid item xs={12} md={10}>\n                    <SearchBar\n                        error={searchError !== \"\"}\n                        onChange={e => handleChange(e)}\n                        helpertext={\"Search for a Python package\"}\n                        type=\"search\"\n                        lefticon={<SearchRoundedIcon />}\n                        onEnter={handleAnalyze}\n                    />\n                </Grid>\n                <Grid item xs={12} md={2}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => handleAnalyze()}\n                        sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                    >\n                        <b>Analyze</b>\n                    </Button>\n                </Grid>\n            </Grid>\n        </Grid>\n    );\n};\n","import * as React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport Autocomplete, { createFilterOptions } from \"@mui/material/Autocomplete\";\nimport { useMemo } from \"react\";\n\ninterface IComboBox {\n    suggestions: string[];\n    label: string;\n    help: string;\n    required: boolean;\n    error: boolean;\n    value: string | { title: string; inputValue?: string };\n    setValue: (e: { title: string; inputValue?: string } | null) => void;\n}\n\nconst filter = createFilterOptions<{ title: string; inputValue?: string }>();\n\nexport default function ComboBox({\n    suggestions,\n    label,\n    help,\n    required,\n    error,\n    value,\n    setValue,\n}: IComboBox) {\n    const suggestions_mapped = useMemo<\n        { title: string; inputValue?: string }[]\n    >(() => {\n        return suggestions.map(suggestion => {\n            return {\n                title: suggestion,\n            };\n        });\n    }, [suggestions]);\n\n    return (\n        <Autocomplete\n            value={value}\n            onChange={(event, newValue) => {\n                if (typeof newValue === \"string\") {\n                    setValue({ title: newValue });\n                } else if (newValue && newValue.inputValue) {\n                    // Create a new value from the user input\n                    setValue({ title: newValue.inputValue });\n                } else {\n                    setValue(newValue);\n                }\n            }}\n            filterOptions={(options, params) => {\n                const filtered = filter(options, params);\n\n                if (params.inputValue !== \"\") {\n                    filtered.push({\n                        inputValue: params.inputValue,\n                        title: `Add \"${params.inputValue}\"`,\n                    });\n                }\n\n                return filtered;\n            }}\n            selectOnFocus\n            clearOnBlur\n            handleHomeEndKeys\n            id=\"free-solo-with-text-demo\"\n            options={suggestions_mapped ?? []}\n            getOptionLabel={option => {\n                // Value selected with enter, right from the input\n                if (typeof option === \"string\") {\n                    return option;\n                }\n                // Add \"xxx\" option created dynamically\n                if (option.inputValue) {\n                    return option.inputValue;\n                }\n                // Regular option\n                return option.title;\n            }}\n            renderOption={(props, option) => <li {...props}>{option.title}</li>}\n            freeSolo\n            renderInput={params => (\n                <TextField\n                    {...params}\n                    fullWidth\n                    label={label}\n                    required={required}\n                    error={error}\n                    helperText={help}\n                />\n            )}\n        />\n    );\n}\n","import * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TablePagination from \"@mui/material/TablePagination\";\nimport TableRow from \"@mui/material/TableRow\";\nimport TableSortLabel from \"@mui/material/TableSortLabel\";\nimport Paper from \"@mui/material/Paper\";\nimport ArrowForwardRoundedIcon from \"@mui/icons-material/ArrowForwardRounded\";\nimport { IconButton } from \"@mui/material\";\nimport { CircularProgress } from \"@mui/material\";\n\nfunction descendingComparator(\n    a: { [key: string]: any },\n    b: { [key: string]: any },\n    orderBy: string,\n) {\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction getComparator(order: \"desc\" | \"asc\", orderBy: string) {\n    return order === \"desc\"\n        ? (a: { [key: string]: any }, b: { [key: string]: any }) =>\n              descendingComparator(a, b, orderBy)\n        : (a: { [key: string]: any }, b: { [key: string]: any }) =>\n              -descendingComparator(a, b, orderBy);\n}\n\ninterface IGenericTable {\n    headers: {\n        id: string;\n        label: string;\n    }[];\n    rows: { [key: string]: unknown }[];\n    action?: (row: any) => void;\n}\n\ninterface IEnhancedTableHead {\n    order: \"asc\" | \"desc\";\n    orderBy: IGenericTable[\"headers\"][number][\"id\"];\n    onRequestSort: (property: IGenericTable[\"headers\"][number][\"id\"]) => void;\n    rowCount: number;\n    headers: IGenericTable[\"headers\"];\n}\n\nfunction EnhancedTableHead(props: IEnhancedTableHead) {\n    const { order, orderBy, onRequestSort, headers } = props;\n    const createSortHandler = (property: typeof headers[number][\"id\"]) => {\n        onRequestSort(property);\n    };\n\n    return (\n        <TableHead>\n            <TableRow>\n                {headers.map(headCell => (\n                    <TableCell\n                        key={headCell.id}\n                        sortDirection={orderBy === headCell.id ? order : false}\n                    >\n                        <TableSortLabel\n                            active={orderBy === headCell.id}\n                            direction={orderBy === headCell.id ? order : \"asc\"}\n                            onClick={() => createSortHandler(headCell.id)}\n                        >\n                            <b>{headCell.label}</b>\n                        </TableSortLabel>\n                    </TableCell>\n                ))}\n                <TableCell />\n            </TableRow>\n        </TableHead>\n    );\n}\n\nexport default function GenericTable({ headers, rows, action }: IGenericTable) {\n    const [order, setOrder] = React.useState(\"asc\");\n    const [orderBy, setOrderBy] = React.useState<typeof headers[number][\"id\"]>(\n        headers[0].id,\n    );\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\n\n    const handleRequestSort = (property: typeof headers[number][\"id\"]) => {\n        const isAsc = orderBy === property && order === \"asc\";\n        setOrder(isAsc ? \"desc\" : \"asc\");\n        setOrderBy(property);\n    };\n\n    const handleChangePage = (\n        event: any,\n        newPage: React.SetStateAction<number>,\n    ) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event: { target: { value: string } }) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    // Avoid a layout jump when reaching the last page with empty rows.\n    const emptyRows =\n        page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\n\n    if (!rows) {\n        return (\n            <div className=\"w-full h-48 flex justify-center items-center\">\n                <CircularProgress />\n            </div>\n        );\n    }\n\n    return (\n        <Box sx={{ width: \"100%\" }}>\n            <Paper sx={{ width: \"100%\", mb: 2 }} variant=\"outlined\">\n                <TableContainer>\n                    <Table sx={{ minWidth: 750 }} size=\"medium\">\n                        <EnhancedTableHead\n                            order={order as IEnhancedTableHead[\"order\"]}\n                            orderBy={orderBy}\n                            onRequestSort={handleRequestSort}\n                            rowCount={rows.length}\n                            headers={headers}\n                        />\n                        <TableBody>\n                            {rows\n                                .slice()\n                                .sort(\n                                    getComparator(\n                                        order as IEnhancedTableHead[\"order\"],\n                                        orderBy,\n                                    ),\n                                )\n                                .slice(\n                                    page * rowsPerPage,\n                                    page * rowsPerPage + rowsPerPage,\n                                )\n                                .map((row, index) => {\n                                    const labelId = `enhanced-table-checkbox-${index}`;\n\n                                    return (\n                                        <TableRow\n                                            hover\n                                            tabIndex={-1}\n                                            key={index}\n                                        >\n                                            {headers.map((header, j) => {\n                                                if (j === 0) {\n                                                    return (\n                                                        <TableCell\n                                                            component=\"th\"\n                                                            id={labelId}\n                                                            scope=\"row\"\n                                                        >\n                                                            {\n                                                                row[\n                                                                    header.id\n                                                                ] as string\n                                                            }\n                                                        </TableCell>\n                                                    );\n                                                } else {\n                                                    return (\n                                                        <TableCell align=\"left\">\n                                                            {\n                                                                row[\n                                                                    header.id\n                                                                ] as string\n                                                            }\n                                                        </TableCell>\n                                                    );\n                                                }\n                                            })}\n\n                                            {action ? (\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        onClick={() =>\n                                                            action(row)\n                                                        }\n                                                    >\n                                                        <ArrowForwardRoundedIcon />\n                                                    </IconButton>\n                                                </TableCell>\n                                            ) : undefined}\n                                        </TableRow>\n                                    );\n                                })}\n                            {emptyRows > 0 && (\n                                <TableRow\n                                    style={{\n                                        height: 53 * emptyRows,\n                                    }}\n                                >\n                                    <TableCell colSpan={6} />\n                                </TableRow>\n                            )}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 50]}\n                    component=\"div\"\n                    count={rows.length}\n                    rowsPerPage={rowsPerPage}\n                    page={page}\n                    onPageChange={handleChangePage}\n                    onRowsPerPageChange={handleChangeRowsPerPage}\n                />\n            </Paper>\n        </Box>\n    );\n}\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQueries, useQuery } from \"react-query\";\nimport { paths } from \"lib/schema\";\n\ntype path = paths[\"/python/package/dependencies\"][\"get\"];\ntype requestParams = path[\"parameters\"][\"query\"];\ntype requestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"];\ntype requestResponseFailure =\n    path[\"responses\"][\"404\"][\"content\"][\"application/json\"];\n\nexport const getPackageDependencies = (\n    name: requestParams[\"name\"],\n    version: requestParams[\"version\"],\n    index: requestParams[\"index\"] = \"https://pypi.org/simple\",\n) => {\n    return axios.get<requestResponseSuccess>(\n        THOTH_URL + \"/python/package/dependencies\",\n        {\n            params: {\n                name: name,\n                version: version,\n                index: index,\n            },\n            headers: {\n                accept: \"application/json\",\n            },\n        },\n    );\n};\n\nexport const usePackageDependencies = (\n    name: requestParams[\"name\"],\n    version: requestParams[\"version\"],\n    config: { [key: string]: unknown },\n) => {\n    return useQuery<\n        AxiosResponse<requestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >({\n        ...config,\n        queryKey: [\"packageDependencies\", name, version],\n        queryFn: () => getPackageDependencies(name, version),\n    });\n};\n\nexport const usePackagesDependencies = (\n    packages: {\n        name: requestParams[\"name\"];\n        version: requestParams[\"version\"];\n    }[],\n    config: { [key: string]: unknown },\n) => {\n    return useQueries(\n        packages.map(p => {\n            return {\n                ...config,\n                queryKey: [\"packageDependencies\", p.name, p.version],\n                queryFn: () => getPackageDependencies(p.name, p.version),\n            };\n        }),\n    );\n};\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQueries, useQuery } from \"react-query\";\nimport { paths } from \"lib/schema\";\nimport { UseQueryResult } from \"react-query/types/react/types\";\n\ntype path = paths[\"/advise/python/{analysis_id}\"][\"get\"];\nexport type AdviseDocumentRequestParams = path[\"parameters\"][\"path\"];\nexport type AdviseDocumentRequestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"] &\n        path[\"responses\"][\"202\"][\"content\"][\"application/json\"];\ntype requestResponseFailure =\n    path[\"responses\"][\"400\"][\"content\"][\"application/json\"] &\n        path[\"responses\"][\"404\"][\"content\"][\"application/json\"];\n/**\n * An async function that returns a promise for `{base_url}/advise/python`\n *\n * @param analysis_id - the advise document id (ex: `adviser-211112223258-38af1a4746733b53`)\n */\nexport const getAdviseDocument = (\n    analysis_id?: AdviseDocumentRequestParams[\"analysis_id\"],\n) => {\n    return axios.get<AdviseDocumentRequestResponseSuccess>(\n        THOTH_URL + \"/advise/python/\" + analysis_id,\n        {\n            headers: {\n                accept: \"application/json\",\n            },\n        },\n    );\n};\n\nexport const useAdviseDocument = (\n    analysis_id?: AdviseDocumentRequestParams[\"analysis_id\"],\n    config?: { [key: string]: unknown },\n): UseQueryResult<\n    AxiosResponse<AdviseDocumentRequestResponseSuccess>,\n    AxiosError<requestResponseFailure>\n> => {\n    return useQuery({\n        ...config,\n        enabled: !!analysis_id && analysis_id.startsWith(\"adviser\"),\n        queryKey: [\"adviseDocument\", analysis_id],\n        queryFn: () => getAdviseDocument(analysis_id),\n    });\n};\n\nexport const useAdviseDocuments = (\n    analysis_ids: AdviseDocumentRequestParams[\"analysis_id\"][],\n    config?: { [key: string]: unknown },\n): UseQueryResult<\n    AxiosResponse<AdviseDocumentRequestResponseSuccess>,\n    AxiosError<requestResponseFailure>\n>[] => {\n    return useQueries(\n        analysis_ids.map(id => {\n            return {\n                ...config,\n                queryKey: [\"adviseDocument\", id],\n                queryFn: () => getAdviseDocument(id),\n            };\n        }),\n    ) as UseQueryResult<\n        AxiosResponse<AdviseDocumentRequestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >[];\n};\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQuery } from \"react-query\";\nimport { paths } from \"lib/schema\";\n\ntype path = paths[\"/advise/python/{analysis_id}/log\"][\"get\"];\ntype requestParams = path[\"parameters\"][\"path\"];\ntype requestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"];\ntype requestResponseFailure =\n    path[\"responses\"][\"400\"][\"content\"][\"application/json\"] &\n        path[\"responses\"][\"404\"][\"content\"][\"application/json\"];\n/**\n * An async function that returns a promise for `{base_url}/advise/python/logs`\n *\n * @param analysis_id - the advise document id (ex: `adviser-211112223258-38af1a4746733b53`)\n */\nexport const getAdviseLogs = async (\n    analysis_id?: requestParams[\"analysis_id\"],\n) => {\n    return axios.get<requestResponseSuccess>(\n        THOTH_URL + \"/advise/python/\" + analysis_id + \"/log\",\n        {\n            headers: {\n                accept: \"application/json\",\n            },\n        },\n    );\n};\n\nexport const useAdviseLogs = (\n    analysis_id?: requestParams[\"analysis_id\"],\n    config?: { [key: string]: unknown },\n) => {\n    return useQuery<\n        AxiosResponse<requestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >({\n        ...config,\n        queryKey: [\"adviseLogs\", analysis_id],\n        queryFn: () => getAdviseLogs(analysis_id),\n    });\n};\n","/**\n * Get the time between now and a date in a string format.\n *\n * @param date\n */\nexport default function timeSince(date: Date) {\n    const startTime = new Date();\n    const seconds = Math.floor((startTime.valueOf() - date.valueOf()) / 1000);\n\n    let interval = seconds / 3.154e7;\n\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" year\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 2.628e6;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" month\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 86400;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" day\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 3600;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" hour\" + (num !== 1 ? \"s\" : \"\");\n    }\n    interval = seconds / 60;\n    if (interval > 1) {\n        const num = Math.floor(interval);\n        return num + \" minute\" + (num !== 1 ? \"s\" : \"\");\n    }\n    const num = Math.floor(seconds);\n\n    return num + \" second\" + (num !== 1 ? \"s\" : \"\");\n}\n","import timeSince from \"utils/timeSince\";\n\n/**\n * Given either a date and time, calculated time since that date.\n * This is used to calculate how long ago an Advisor document was generated or has been generating.\n * It is specific to the document formatting\n *\n * @param finished_at - for when the advise document is completed\n * @param started_at - the time at which the document was started (is preceded by finished at)\n * @param datetime - fallback to datetime\n * @returns {string} - English version of date\n */\nexport const calcTime = (\n    finished_at?: string | null,\n    started_at?: string | null,\n    datetime?: string | null,\n) => {\n    // if status says finished\n    if (finished_at) {\n        return \"Advise finished \" + timeSince(new Date(finished_at)) + \" ago.\";\n    }\n    // if status is pending\n    else if (started_at) {\n        return \"Advise started \" + timeSince(new Date(started_at)) + \" ago.\";\n    }\n    // if status is nulled so use metadata end date\n    else if (datetime) {\n        return (\n            \"Advise finished \" + timeSince(new Date(datetime + \"Z\")) + \" ago.\"\n        );\n    } else {\n        return \"Time started/finished not available\";\n    }\n};\n","import {\n    Button,\n    Collapse,\n    Grid,\n    Paper,\n    TextField,\n    Typography,\n} from \"@mui/material\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport React, { useMemo, useReducer } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport { postAdvise } from \"../api\";\nimport ComboBox from \"./ComboBox/ComboBox\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport { components } from \"lib/schema\";\nimport GenericTable from \"../../../components/Elements/GenericTable/GenericTable\";\nimport { useAdviseDocuments } from \"../../advise/api\";\nimport { LOCAL_STORAGE_KEY } from \"../../../config\";\nimport { calcTime } from \"../../../utils/calcTime\";\n\ninterface IAdviseState {\n    error: { [key: string]: string | undefined };\n    id?: string;\n    pipfile?: string;\n    pipfileLock?: string;\n    loading: boolean;\n    lookupType: string;\n    operating_system_name: string;\n    operating_system_version: string;\n    python_version: string;\n    cuda_version: string;\n    cudnn_version: string;\n    mkl_version: string;\n    name: string;\n    openblas_version: string;\n    openmpi_version: string;\n    base_image: string;\n}\n\nfunction reducer(state: IAdviseState, action: { [key: string]: any }) {\n    switch (action.type) {\n        case \"loading\":\n            return { ...state, loading: action.payload };\n        case \"error\":\n            return {\n                ...state,\n                error: { ...state.error, [action.param]: action.payload },\n            };\n        case \"clear-error\":\n            state.error = {};\n            return state;\n        case \"input\":\n            return {\n                ...state,\n                [action.param]: action.payload,\n                error: { ...state.error, [action.param]: undefined },\n            };\n        default:\n            throw new Error(\"Advise state dispatch error\");\n    }\n}\n\nconst headCells = [\n    {\n        id: \"document_id\",\n        label: \"Document ID\",\n    },\n    {\n        id: \"status\",\n        label: \"Status\",\n    },\n    {\n        id: \"name\",\n        label: \"Name\",\n    },\n    {\n        id: \"os_name\",\n        label: \"OS Name\",\n    },\n    {\n        id: \"os_version\",\n        label: \"OS Version\",\n    },\n    {\n        id: \"python_version\",\n        label: \"Python Version\",\n    },\n    {\n        id: \"date\",\n        label: \"Last Run\",\n    },\n];\n\nexport const initState: IAdviseState = {\n    error: {},\n    loading: false,\n    lookupType: \"id\",\n    operating_system_name: \"ubi\",\n    operating_system_version: \"8\",\n    python_version: \"3.8\",\n    cuda_version: \"\",\n    cudnn_version: \"\",\n    mkl_version: \"\",\n    name: \"\",\n    openblas_version: \"\",\n    openmpi_version: \"\",\n    base_image: \"\",\n};\n\nexport const AdviseCreation = () => {\n    const navigate = useNavigate();\n    const [state, dispatch] = useReducer(reducer, initState);\n\n    const localHistory: string[] = useMemo(() => {\n        const ids = localStorage.getItem(LOCAL_STORAGE_KEY);\n        if (ids) {\n            return ids.split(\",\").filter(s => s !== \"\");\n        } else {\n            return [];\n        }\n    }, []);\n\n    const adviseHistory = useAdviseDocuments(localHistory);\n\n    const rows = useMemo(() => {\n        if (adviseHistory) {\n            return adviseHistory.map(doc => {\n                const status = () => {\n                    if (doc.data?.data?.status) {\n                        return doc.data?.data?.status.state;\n                    } else if (doc.data?.data.result.report?.products) {\n                        return \"success\";\n                    } else {\n                        return \"error\";\n                    }\n                };\n                return {\n                    document_id: doc.data?.data.metadata.document_id,\n                    name: doc.data?.data.result.report?.products?.[0].project\n                        .runtime_environment?.name,\n                    os_name:\n                        doc.data?.data.result.report?.products?.[0].project\n                            .runtime_environment?.operating_system?.name,\n                    os_version:\n                        doc.data?.data.result.report?.products?.[0].project\n                            .runtime_environment?.operating_system?.version,\n                    python_version:\n                        doc.data?.data.result.report?.products?.[0].project\n                            .runtime_environment?.python_version,\n                    status: status(),\n                    date: calcTime(\n                        doc.data?.data?.status?.finished_at,\n                        doc.data?.data?.status?.started_at,\n                        doc.data?.data?.metadata?.datetime,\n                    ),\n                };\n            });\n        } else {\n            return [];\n        }\n    }, [adviseHistory]);\n\n    const tableRowAction = (row: { document_id: string }) => {\n        navigate(\"/advise/\" + row.document_id);\n    };\n\n    const isValid = () => {\n        if (state.lookupType === \"id\") {\n            if (!state.id || state.id === \"\") {\n                dispatch({\n                    type: \"error\",\n                    param: \"id\",\n                    payload: \"Field cant be empty\",\n                });\n                return false;\n            }\n        } else {\n            let valid = true;\n            if (!state.pipfile) {\n                valid = false;\n                dispatch({\n                    type: \"error\",\n                    param: \"pipfile\",\n                    payload: \"Field cant be empty\",\n                });\n            }\n            if (!state.pipfileLock) {\n                valid = false;\n                dispatch({\n                    type: \"error\",\n                    param: \"pipfileLock\",\n                    payload: \"Field cant be empty\",\n                });\n            }\n            if (!state.name) {\n                valid = false;\n                dispatch({\n                    type: \"error\",\n                    param: \"name\",\n                    payload: \"Field cant be empty\",\n                });\n            }\n\n            return valid;\n        }\n\n        return true;\n    };\n\n    const handleAnalyze = async () => {\n        if (state.loading || !isValid()) {\n            return;\n        }\n\n        if (state.lookupType === \"id\") {\n            navigate(\"/advise/\" + state.id);\n        } else {\n            dispatch({ type: \"loading\", payload: true });\n            const runtime_environment: components[\"schemas\"][\"RuntimeEnvironment\"] =\n                {\n                    operating_system: {\n                        name: state.operating_system_name,\n                        version: state.operating_system_version,\n                    },\n                    python_version: state.python_version,\n                    base_image: state.base_image,\n                    cuda_version: state.cuda_version,\n                    cudnn_version: state.cudnn_version,\n                    mkl_version: state.mkl_version,\n                    name: state.name,\n                    openblas_version: state.openblas_version,\n                    openmpi_version: state.openmpi_version,\n                };\n\n            (\n                Object.keys(runtime_environment) as Array<\n                    keyof typeof runtime_environment\n                >\n            ).forEach(key => {\n                if (runtime_environment[key] === \"\") {\n                    delete runtime_environment[key];\n                }\n            });\n            if (\n                runtime_environment?.[\"operating_system\"]?.[\"name\"] === \"\" ||\n                runtime_environment?.[\"operating_system\"]?.[\"version\"] === \"\"\n            ) {\n                delete runtime_environment[\"operating_system\"];\n            }\n\n            if (!state.pipfile) {\n                dispatch({\n                    type: \"error\",\n                    param: \"pipfile\",\n                    payload: \"Pipfile is required\",\n                });\n            } else if (!state.pipfileLock) {\n                dispatch({\n                    type: \"error\",\n                    param: \"pipfileLock\",\n                    payload: \"Pipfile.lock is required\",\n                });\n            } else {\n                postAdvise(\n                    state.pipfile,\n                    state.pipfileLock,\n                    runtime_environment,\n                )\n                    .then(response => {\n                        dispatch({ type: \"loading\", payload: false });\n                        navigate(\n                            \"/advise/\" + response.data.analysis_id + \"/summary\",\n                        );\n                    })\n                    .catch(error => {\n                        dispatch({ type: \"loading\", payload: false });\n                        if (error?.response?.status === 400) {\n                            if (\n                                error?.response?.data?.error?.includes(\n                                    \"Pipfile.lock\",\n                                )\n                            ) {\n                                dispatch({\n                                    type: \"error\",\n                                    param: \"pipfileLock\",\n                                    payload: error?.response?.data?.error,\n                                });\n                            } else if (\n                                error?.response?.data?.error?.includes(\n                                    \"Pipfile\",\n                                )\n                            ) {\n                                dispatch({\n                                    type: \"error\",\n                                    param: \"pipfile\",\n                                    payload: error?.response?.data?.error,\n                                });\n                            }\n                        }\n                    });\n            }\n        }\n    };\n\n    return (\n        <>\n            <Collapse in={state.lookupType === \"id\"}>\n                <>\n                    <Grid container justifyContent=\"center\">\n                        <Grid item xs={12}>\n                            <Typography\n                                color=\"error\"\n                                variant=\"body1\"\n                                sx={{ minHeight: 30 }}\n                            >\n                                {state.error?.id}\n                            </Typography>\n                        </Grid>\n                        <Grid container item xs={12} spacing={2}>\n                            <Grid item xs={12} md={10}>\n                                <SearchBar\n                                    error={state.error?.id !== undefined}\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"id\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    helpertext={\"Analysis ID\"}\n                                    type=\"search\"\n                                    boxprops={{ marginRight: 2 }}\n                                    lefticon={<SearchRoundedIcon />}\n                                    onEnter={handleAnalyze}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={2}>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={() => handleAnalyze()}\n                                    sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                                >\n                                    <b>Analyze</b>\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                    <Button\n                        onClick={() =>\n                            dispatch({\n                                type: \"input\",\n                                param: \"lookupType\",\n                                payload: \"manual\",\n                            })\n                        }\n                    >\n                        New Advise\n                    </Button>\n                    <Button\n                        onClick={() =>\n                            dispatch({\n                                type: \"input\",\n                                param: \"lookupType\",\n                                payload: \"history\",\n                            })\n                        }\n                    >\n                        History\n                    </Button>\n                </>\n            </Collapse>\n\n            <Collapse in={state.lookupType === \"history\"}>\n                <>\n                    <Typography variant={\"h6\"} mt={3} mb={1} ml={2}>\n                        Local Thoth Advise History\n                    </Typography>\n                    <GenericTable\n                        headers={headCells}\n                        rows={rows}\n                        action={tableRowAction}\n                    />\n                </>\n            </Collapse>\n\n            <Collapse in={state.lookupType === \"manual\"}>\n                <>\n                    <Typography variant={\"h6\"} mt={3} mb={1} ml={2}>\n                        Advise Parameters\n                    </Typography>\n                    <Paper\n                        sx={{\n                            backgroundColor: \"white\",\n                            padding: 3,\n                            marginBottom: 5,\n                        }}\n                        variant=\"outlined\"\n                    >\n                        <Grid container spacing={2}>\n                            <Grid item xs={12} md={6}>\n                                <SearchBar\n                                    label={\n                                        state.error?.pipfile\n                                            ? state.error?.pipfile\n                                            : \"Pipfile contents\"\n                                    }\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"pipfile\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    error={state.error?.pipfile !== undefined}\n                                    multiline\n                                    rows={8}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={6}>\n                                <SearchBar\n                                    label={\n                                        state.error?.pipfileLock\n                                            ? state.error?.pipfileLock\n                                            : \"Pipfile.lock contents\"\n                                    }\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"pipfileLock\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    error={\n                                        state.error?.pipfileLock !== undefined\n                                    }\n                                    multiline\n                                    rows={8}\n                                />\n                            </Grid>\n                        </Grid>\n                        <Grid container mt={4} spacing={2}>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"base_image\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    value={state.base_image}\n                                    sx={{ minWidth: \"100%\" }}\n                                    label=\"Base Image\"\n                                    required={false}\n                                    helperText=\"A base container image used to run the application.\"\n                                    error={\n                                        state.error?.base_image !== undefined\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"cuda_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.cuda_version}\n                                    suggestions={[\"9.0\"]}\n                                    label=\"CUDA Version\"\n                                    required={false}\n                                    help=\"Nvidia CUDA version which the application uses.\"\n                                    error={\n                                        state.error?.cuda_version !== undefined\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"cudnn_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.cudnn_version}\n                                    suggestions={[\"8\"]}\n                                    label=\"cuDNN Version\"\n                                    required={false}\n                                    help=\"NVIDIA cuDNN version used, if any.\"\n                                    error={\n                                        state.error?.cudnn_version !== undefined\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"mkl_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.mkl_version}\n                                    suggestions={[\"2021.1.1\"]}\n                                    label=\"MKL Version\"\n                                    required={false}\n                                    help=\"Intel® Math Kernel Library version used, if any.\"\n                                    error={\n                                        state.error?.mkl_version !== undefined\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"name\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.name}\n                                    suggestions={[\"ubi:8-prod\"]}\n                                    label=\"Name\"\n                                    required={true}\n                                    help=\"User defined name of the runtime environment.\"\n                                    error={state.error?.name !== undefined}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"openblas_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.openblas_version}\n                                    suggestions={[\"0.3.13\"]}\n                                    label=\"OpenBLAS Version\"\n                                    required={false}\n                                    help=\"OpenBLAS version used, if any.\"\n                                    error={\n                                        state.error?.openblas_version !==\n                                        undefined\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"openmpi_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.openmpi_version}\n                                    suggestions={[\"4.1\"]}\n                                    label=\"Open MPI Version\"\n                                    required={false}\n                                    help=\"Open MPI version used, if any.\"\n                                    error={\n                                        state.error?.openmpi_version !==\n                                        undefined\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"operating_system_name\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    value={state.operating_system_name}\n                                    sx={{ minWidth: \"100%\" }}\n                                    label=\"Operating System Name\"\n                                    required={false}\n                                    helperText=\"Operating system name used.\"\n                                    error={\n                                        state.error?.operating_system_name !==\n                                        undefined\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <TextField\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"operating_system_version\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    value={state.operating_system_version}\n                                    sx={{ minWidth: \"100%\" }}\n                                    label=\"Operating System Version\"\n                                    required={false}\n                                    helperText=\"Operating system version used.\"\n                                    error={\n                                        state.error\n                                            ?.operating_system_version !==\n                                        undefined\n                                    }\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6} md={4}>\n                                <ComboBox\n                                    setValue={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"python_version\",\n                                            payload: e?.title ?? \"\",\n                                        })\n                                    }\n                                    value={state.python_version}\n                                    suggestions={[\n                                        \"2.7\",\n                                        \"3.6\",\n                                        \"3.7\",\n                                        \"3.8\",\n                                        \"3.9\",\n                                    ]}\n                                    label=\"Python Version\"\n                                    required={false}\n                                    help=\"Python version on which the application runs on.\"\n                                    error={\n                                        state.error?.python_version !==\n                                        undefined\n                                    }\n                                />\n                            </Grid>\n                            <Grid container item xs={12} spacing={2}>\n                                <Grid item xs={6} md={6}>\n                                    <Button\n                                        variant=\"outlined\"\n                                        color=\"primary\"\n                                        onClick={() =>\n                                            dispatch({\n                                                type: \"input\",\n                                                param: \"lookupType\",\n                                                payload: \"id\",\n                                            })\n                                        }\n                                        sx={{\n                                            minHeight: \"100%\",\n                                            minWidth: \"100%\",\n                                        }}\n                                    >\n                                        <b>Cancel</b>\n                                    </Button>\n                                </Grid>\n                                <Grid item xs={6}>\n                                    <LoadingButton\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={() => handleAnalyze()}\n                                        loading={state.loading}\n                                        sx={{\n                                            minHeight: \"100%\",\n                                            minWidth: \"100%\",\n                                        }}\n                                    >\n                                        <b>Analyze</b>\n                                    </LoadingButton>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Paper>\n                </>\n            </Collapse>\n        </>\n    );\n};\n","import { Button, Collapse, Grid, Typography } from \"@mui/material\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport React, { useMemo, useReducer } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { postImageAnalyze, useContainerImages } from \"../api\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport GenericTable from \"components/Elements/GenericTable/GenericTable\";\nimport timeSince from \"utils/timeSince\";\n\ninterface ImageSearchState {\n    error: { [key: string]: string | undefined };\n    loading: boolean;\n    lookupType: string;\n    id: string;\n}\n\nfunction reducer(state: ImageSearchState, action: { [key: string]: any }) {\n    switch (action.type) {\n        case \"loading\":\n            return { ...state, loading: action.payload };\n        case \"error\":\n            return {\n                ...state,\n                error: { ...state.error, [action.param]: action.payload },\n            };\n        case \"clear-error\":\n            state.error = {};\n            return state;\n        case \"input\":\n            return {\n                ...state,\n                [action.param]: action.payload,\n                error: { ...state.error, [action.param]: undefined },\n            };\n        default:\n            throw new Error(\"Image state dispatch error\");\n    }\n}\n\nconst headCells = [\n    {\n        id: \"environment_name\",\n        label: \"Image Name\",\n    },\n    {\n        id: \"os_name\",\n        label: \"OS Name\",\n    },\n    {\n        id: \"os_version\",\n        label: \"OS Version\",\n    },\n    {\n        id: \"python_version\",\n        label: \"Python Version\",\n    },\n    {\n        id: \"date\",\n        label: \"Last Updated\",\n    },\n];\n\nconst initState: ImageSearchState = {\n    error: {},\n    loading: false,\n    lookupType: \"id\",\n    id: \"\",\n};\n\nexport const ImageSearch = () => {\n    const navigate = useNavigate();\n    const [state, dispatch] = useReducer(reducer, initState);\n\n    const images = useContainerImages({ useErrorBoundary: false });\n\n    const rows = useMemo(() => {\n        if (images?.data?.data?.container_images) {\n            return images?.data?.data?.container_images.map(image => {\n                return {\n                    ...image,\n                    date: timeSince(new Date(image.datetime)) + \" ago\",\n                };\n            });\n        } else {\n            return [];\n        }\n    }, [images?.data]);\n\n    const tableRowAction = (row: {\n        package_extract_document_id: string;\n        environment_name: string;\n    }) => {\n        navigate(\"/image/\" + row.package_extract_document_id, {\n            state: { image_name: row.environment_name },\n        });\n    };\n\n    const handleAnalyze = async () => {\n        if (state.loading) {\n            return;\n        }\n\n        if (state.id.includes(\"package-extract\")) {\n            navigate(\"/image/\" + state.id);\n            return;\n        }\n\n        dispatch({ type: \"loading\", payload: true });\n\n        postImageAnalyze(state.id)\n            .then(response => {\n                dispatch({ type: \"loading\", payload: false });\n                navigate(\"/image/\" + response.data.analysis_id, {\n                    state: { image_name: state.id },\n                });\n            })\n            .catch(error => {\n                dispatch({ type: \"loading\", payload: false });\n                if (error?.response?.status === 400) {\n                    dispatch({\n                        type: \"error\",\n                        param: \"id\",\n                        payload:\n                            error?.response?.data?.error ??\n                            \"An unknown error occurred\",\n                    });\n                }\n            });\n    };\n\n    return (\n        <>\n            <Collapse in={state.lookupType === \"id\"}>\n                <>\n                    <Grid container justifyContent=\"center\">\n                        <Grid item xs={12}>\n                            <Typography\n                                color=\"error\"\n                                variant=\"body1\"\n                                sx={{ minHeight: 30 }}\n                            >\n                                {state.error?.id}\n                            </Typography>\n                        </Grid>\n                        <Grid container item xs={12} spacing={2}>\n                            <Grid item xs={12} md={10}>\n                                <SearchBar\n                                    error={state.error?.id != undefined}\n                                    onChange={e =>\n                                        dispatch({\n                                            type: \"input\",\n                                            param: \"id\",\n                                            payload: e.target.value,\n                                        })\n                                    }\n                                    helpertext={\"Analysis ID or image name\"}\n                                    type=\"search\"\n                                    boxprops={{ mr: 2 }}\n                                    lefticon={<SearchRoundedIcon />}\n                                    onEnter={handleAnalyze}\n                                />\n                            </Grid>\n                            <Grid item xs={12} md={2}>\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={handleAnalyze}\n                                    sx={{ minHeight: \"100%\", minWidth: \"100%\" }}\n                                >\n                                    <b>Analyze</b>\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                    <Button\n                        onClick={() =>\n                            dispatch({\n                                type: \"input\",\n                                param: \"lookupType\",\n                                payload: \"lookup\",\n                            })\n                        }\n                    >\n                        Lookup Thoth Images\n                    </Button>\n                </>\n            </Collapse>\n\n            <Collapse in={state.lookupType === \"lookup\"}>\n                <>\n                    <Typography variant={\"h6\"} mt={3} mb={1} ml={2}>\n                        Available Thoth Container Images\n                    </Typography>\n                    <GenericTable\n                        headers={headCells}\n                        rows={rows}\n                        action={tableRowAction}\n                    />\n                </>\n            </Collapse>\n        </>\n    );\n};\n","export default __webpack_public_path__ + \"static/media/footer-logo.7d0f9037.png\";","import React from \"react\";\n\nimport { Box, Link, Paper, Stack, Typography } from \"@mui/material\";\nimport logo from \"assets/footer-logo.png\";\n\nexport const Footer = () => {\n    return (\n        <Paper\n            variant=\"outlined\"\n            sx={{ padding: 4, marginTop: 10, marginBottom: 5 }}\n        >\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"flex-start\">\n                <img\n                    style={{ paddingLeft: 2, paddingRight: 2, height: \"40px\" }}\n                    alt=\"Red Hat Sponsor Logo\"\n                    src={logo}\n                />\n                <Stack sx={{ paddingX: 2 }}>\n                    <Typography\n                        sx={{\n                            textTransform: \" uppercase\",\n                            paddingBottom: \"20px\",\n                        }}\n                        variant=\"h6\"\n                    >\n                        Useful links\n                    </Typography>\n\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"https://github.com/orgs/thoth-station/projects/\"\n                    >\n                        GitHub project board\n                    </Link>\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"http://bit.ly/thoth-on-youtube\"\n                    >\n                        YouTube channel\n                    </Link>\n\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"https://twitter.com/ThothStation\"\n                    >\n                        Twitter\n                    </Link>\n\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"https://github.com/thoth-station\"\n                    >\n                        GitHub organization\n                    </Link>\n\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"https://www.kaggle.com/thothstation\"\n                    >\n                        Kaggle datasets\n                    </Link>\n                </Stack>\n\n                <Stack sx={{ paddingX: 2 }}>\n                    <Typography\n                        sx={{\n                            textTransform: \" uppercase\",\n                            paddingBottom: \"20px\",\n                        }}\n                        variant=\"h6\"\n                    >\n                        Info\n                    </Typography>\n\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"https://thoth-station.ninja/docs/developers/adviser/landing_page.html#landing-page\"\n                    >\n                        Thoth&apos;s landing page\n                    </Link>\n\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"https://thoth-station.ninja/docs/developers/adviser/\"\n                    >\n                        Main documentation page\n                    </Link>\n                </Stack>\n\n                <Stack sx={{ paddingX: 2 }}>\n                    <Typography\n                        sx={{\n                            textTransform: \" uppercase\",\n                            paddingBottom: \"20px\",\n                        }}\n                        variant=\"h6\"\n                    >\n                        Friends\n                    </Typography>\n\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"https://github.com/AICoE/aicoe-ci\"\n                    >\n                        AICoE-CI\n                    </Link>\n\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"https://www.operate-first.cloud/\"\n                    >\n                        Operate First\n                    </Link>\n\n                    <Link\n                        underline=\"hover\"\n                        sx={{ paddingBottom: 1 }}\n                        href=\"http://opendatahub.io/\"\n                    >\n                        Open Data Hub\n                    </Link>\n                </Stack>\n            </Box>\n        </Paper>\n    );\n};\n","// react\nimport React, { useState } from \"react\";\n\n// material-ui\nimport {\n    Typography,\n    Grid,\n    Divider,\n    ToggleButtonGroup,\n    ToggleButton,\n    Box,\n} from \"@mui/material\";\n\nimport { useTheme } from \"@mui/material/styles\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\n\n// local\nimport TabPanel from \"components/Elements/TabPanel\";\nimport logo from \"assets/thoth-logo.png\";\n\nimport { PackageSearch, AdviseCreation, ImageSearch } from \"../components\";\nimport { Footer } from \"../../../components/Footer\";\n\nexport const Home = () => {\n    // utility states\n    const [mode, setMode] = useState<string>(\"package\");\n\n    const theme = useTheme();\n    const matches = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n    // change mode view\n    const handleMode = (event: any, newMode: string) => {\n        if (newMode) {\n            setMode(newMode);\n        }\n    };\n\n    return (\n        <Grid\n            container\n            justifyContent=\"center\"\n            sx={{ paddingX: 2, maxWidth: \"1000px\", margin: \"auto\" }}\n        >\n            <Grid item>\n                <Box sx={{ marginTop: 10 }}>\n                    <img\n                        alt=\"Thoth Logo\"\n                        src={logo}\n                        height={!matches ? \"auto\" : 300}\n                        width={\"100%\"}\n                    />\n                </Box>\n            </Grid>\n            <Grid container item justifyContent=\"center\" mt={5} spacing={0}>\n                <Grid item xs={12} alignItems=\"left\" mb={3}>\n                    <Typography variant=\"h4\">\n                        <b>Thoth Search</b>\n                    </Typography>\n                </Grid>\n                <Grid item xs={12} alignItems=\"left\">\n                    <Typography variant=\"subtitle1\">\n                        Thoth Search is a tool that runs analysis on a Python\n                        application. It utilizes package metadata and Thoth\n                        Adviser to analyse and recommend a software stack. You\n                        can run analysis on an entire Python application using a\n                        properly formatted Pipfile and Pipfile.lock.\n                        Alternatively, you can analyse a single Python package\n                        to see what Thoth knows about the package.\n                    </Typography>\n                </Grid>\n                <Grid item textAlign=\"center\" xs={12} mt={3} mb={4}>\n                    <ToggleButtonGroup\n                        value={mode}\n                        exclusive\n                        onChange={handleMode}\n                        size={!matches ? \"small\" : \"large\"}\n                    >\n                        <ToggleButton value=\"package\">\n                            <b>package</b>\n                        </ToggleButton>\n                        <ToggleButton value=\"environment\">\n                            <b>environment</b>\n                        </ToggleButton>\n                        <ToggleButton value=\"image\">\n                            <b>image</b>\n                        </ToggleButton>\n                    </ToggleButtonGroup>\n                </Grid>\n\n                <Grid item xs={12} sx={{ marginBottom: 3 }}>\n                    <Divider />\n                    <TabPanel value={mode} index=\"package\">\n                        <PackageSearch />\n                    </TabPanel>\n                    <TabPanel value={mode} index=\"environment\">\n                        <AdviseCreation />\n                    </TabPanel>\n                    <TabPanel value={mode} index=\"image\">\n                        <ImageSearch />\n                    </TabPanel>\n                </Grid>\n            </Grid>\n            <Grid item xs={12}>\n                <Footer />\n            </Grid>\n        </Grid>\n    );\n};\n","import React from \"react\";\n\nexport const NotFound = () => {\n    return <div>404</div>;\n};\n","// react\nimport React from \"react\";\n\ninterface IProps {\n    /** card header info */\n    cardMeta: {\n        /** card title */\n        title: string;\n        /** optional subtitle */\n        subTitle?: string;\n    };\n    /** optional card action component (usually some button) */\n    cardAction?: React.ReactNode;\n    /** Card body content */\n    cardBody: React.ReactNode;\n}\nimport { Card, CardContent, CardHeader, Typography } from \"@mui/material\";\n\n/** Card template for metric cards. */\nconst InfoCard = ({ cardMeta, cardBody, cardAction }: IProps) => {\n    return (\n        <Card variant=\"outlined\" sx={{ margin: 0 }}>\n            <CardHeader\n                action={cardAction}\n                title={<Typography variant=\"h5\">{cardMeta.title}</Typography>}\n                subheader={cardMeta.subTitle}\n            />\n            <CardContent>{cardBody}</CardContent>\n        </Card>\n    );\n};\n\nexport default InfoCard;\n","// react\nimport React from \"react\";\n\n// material-ui\nimport { LinearProgress, Typography, Grid } from \"@mui/material\";\nimport { GridProps } from \"@mui/material/Grid/Grid\";\n\ninterface IProps extends GridProps {\n    /** the amount (numerator) for the bar */\n    value: number;\n    /** the total (denominator) for the bar */\n    total: number;\n    /** optional label */\n    label?: string;\n    /** action used on card */\n    action?: JSX.Element;\n}\n\n/**\n * A horizontal bar for showing a percent of a total.\n */\nconst ProgressBar = ({ value, total, label, action, ...props }: IProps) => {\n    return (\n        <Grid container spacing={1} alignItems=\"center\" {...props}>\n            <Grid item xs={5}>\n                <Typography variant=\"body2\">{label}</Typography>\n            </Grid>\n            <Grid item xs={2}>\n                <Typography variant=\"body2\">{value}</Typography>\n            </Grid>\n            <Grid item xs>\n                <LinearProgress\n                    variant=\"determinate\"\n                    value={total > 0 ? (value / total) * 100 : 0}\n                    sx={{\n                        root: {\n                            height: 10,\n                            borderRadius: 5,\n                        },\n                        colorPrimary: {\n                            backgroundColor: \"theme.palette.grey[200]\",\n                        },\n                        bar: {\n                            borderRadius: 5,\n                            backgroundColor: \"#1a90ff\",\n                        },\n                    }}\n                />\n            </Grid>\n            <Grid item xs={1}>\n                <div>{action ?? null}</div>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default ProgressBar;\n","// react\nimport React from \"react\";\n\n// material-ui\nimport { TransitionGroup } from \"react-transition-group\";\n\nimport {\n    Typography,\n    Divider,\n    List,\n    ListItem,\n    ListItemText,\n    Grid,\n    Collapse,\n    Box,\n    Skeleton,\n} from \"@mui/material\";\n\nimport { DependencyMetricType } from \"hooks/metrics\";\nimport ProgressBar from \"components/Elements/ProgressBar\";\n\ninterface IDependenciesMetric {\n    metric: DependencyMetricType | null;\n}\n\n/**\n * A metric card that displays direct, indirect, and root packages of a dependency graph.\n */\nexport const DependenciesMetric = ({ metric }: IDependenciesMetric) => {\n    const totalDependencies =\n        (metric?.all?.direct ?? 0) +\n        (metric?.all?.indirect ?? 0) +\n        (metric?.all?.roots ?? 0);\n\n    if (!metric?.all || !metric?.roots) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <>\n            <Typography variant=\"h6\" gutterBottom>\n                All Packages\n            </Typography>\n            <Divider sx={{ mb: 1 }} />\n            <ProgressBar\n                value={metric?.all?.roots ?? 0}\n                total={totalDependencies}\n                label={\"Root\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={metric?.all?.direct ?? 0}\n                total={totalDependencies}\n                label={\"Direct\"}\n                mb={1}\n            />\n            <ProgressBar\n                value={metric?.all?.indirect ?? 0}\n                total={totalDependencies}\n                label={\"Indirect\"}\n            />\n            <Typography variant=\"h6\" gutterBottom mt={2}>\n                Root Packages\n            </Typography>\n            <Divider sx={{ mb: 1 }} />\n            <List component=\"nav\">\n                <TransitionGroup>\n                    {Object.entries(metric?.roots ?? {})?.map(([key]) => {\n                        const t =\n                            (metric?.roots[key].direct ?? 0) +\n                            (metric?.roots[key].indirect ?? 0);\n                        return (\n                            <Collapse key={key}>\n                                <div>\n                                    <ListItem>\n                                        <Grid container alignItems=\"center\">\n                                            <Grid item xs>\n                                                <ListItemText primary={key} />\n                                            </Grid>\n                                            <Grid item xs>\n                                                <Grid\n                                                    container\n                                                    direction=\"column\"\n                                                >\n                                                    <Grid item xs>\n                                                        <ProgressBar\n                                                            value={\n                                                                metric?.roots?.[\n                                                                    key\n                                                                ]?.direct ?? 0\n                                                            }\n                                                            total={t}\n                                                            label={\"Direct\"}\n                                                        />\n                                                    </Grid>\n                                                    <Grid item xs>\n                                                        <ProgressBar\n                                                            value={\n                                                                metric?.roots?.[\n                                                                    key\n                                                                ]?.indirect ?? 0\n                                                            }\n                                                            total={t}\n                                                            label={\"Indirect\"}\n                                                        />\n                                                    </Grid>\n                                                </Grid>\n                                            </Grid>\n                                        </Grid>\n                                    </ListItem>\n                                    <Divider\n                                        variant={\"middle\"}\n                                        sx={{ mb: 1 }}\n                                    />\n                                </div>\n                            </Collapse>\n                        );\n                    })}\n                </TransitionGroup>\n            </List>\n        </>\n    );\n};\n","import React from \"react\";\n\n// material-ui\nimport { Divider, Collapse, Chip, Grid, Box } from \"@mui/material\";\nimport ExpandLess from \"@mui/icons-material/ExpandLess\";\nimport ExpandMore from \"@mui/icons-material/ExpandMore\";\nimport CheckRoundedIcon from \"@mui/icons-material/CheckRounded\";\nimport HelpOutlineRoundedIcon from \"@mui/icons-material/HelpOutlineRounded\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\nimport { LicenseMetricType } from \"hooks/metrics\";\n\ninterface ILicenseGroup {\n    /** The license name */\n    name: string;\n    metadata: LicenseMetricType[keyof LicenseMetricType][\"metadata\"];\n    packages: LicenseMetricType[keyof LicenseMetricType][\"packages\"];\n    /** The total number of packages that have licenses. (used to add a total to the metric bar) */\n    totalLicenses: number;\n}\n\n/**\n * A custom list item displaying the number of packages under a particular license.\n */\nconst LicenseGroup = ({\n    name,\n    metadata,\n    packages,\n    totalLicenses,\n}: ILicenseGroup) => {\n    const [open, setOpen] = React.useState(false);\n\n    return (\n        <Grid container>\n            <Grid item xs={1}>\n                {metadata?.isOsiApproved === null ? (\n                    <HelpOutlineRoundedIcon />\n                ) : metadata?.isOsiApproved ? (\n                    <CheckRoundedIcon />\n                ) : null}\n            </Grid>\n            <Grid item xs>\n                <Box onClick={() => setOpen(!open)}>\n                    <ProgressBar\n                        key={name}\n                        value={Object.keys(packages).length ?? 0}\n                        total={totalLicenses}\n                        label={name}\n                        action={open ? <ExpandLess /> : <ExpandMore />}\n                    />\n                </Box>\n                <Collapse in={open} timeout=\"auto\" unmountOnExit>\n                    <Box my={1}>\n                        {Object.entries(packages)\n                            .sort((a, b) => {\n                                return a[1].depth - b[1].depth;\n                            })\n                            .map(([k, v]) => {\n                                return (\n                                    <Chip\n                                        key={k}\n                                        sx={{ margin: 0.5 }}\n                                        color={\n                                            v.depth === 0\n                                                ? \"primary\"\n                                                : v.depth === 1\n                                                ? \"secondary\"\n                                                : \"default\"\n                                        }\n                                        label={k}\n                                    />\n                                );\n                            })}\n                    </Box>\n                    <Divider />\n                </Collapse>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default LicenseGroup;\n","// react\nimport React, { useMemo } from \"react\";\n\n// material-ui\nimport {\n    Typography,\n    Divider,\n    Collapse,\n    Button,\n    Box,\n    Grid,\n    Skeleton,\n} from \"@mui/material\";\nimport { TransitionGroup } from \"react-transition-group\";\n\n// local\nimport LicenseGroup from \"./LicenseGroup\";\nimport { LicenseMetricType } from \"hooks/metrics\";\n\ninterface ILicenseMetric {\n    /** Key value pairs of license names (keys) and license information (values).*/\n    metric: LicenseMetricType | null;\n}\n\n/**\n * A metric card that visualizes license data for all packages in the graph.\n */\nexport const LicenseMetric = ({ metric }: ILicenseMetric) => {\n    const [more, setMore] = React.useState(false);\n\n    const licenses = useMemo(\n        () =>\n            Object.entries(metric ?? {}).sort((a, b) => {\n                return Object.keys(b[1]).length - Object.keys(a[1]).length;\n            }),\n        [metric],\n    );\n\n    const totalLicenses = useMemo(\n        () =>\n            Object.entries(metric ?? {}).reduce((sum, [, val]) => {\n                return sum + Object.keys(val.packages).length;\n            }, 0),\n        [metric],\n    );\n\n    if (!metric) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <div>\n            <Grid container>\n                <Grid item xs={1}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        OSI\n                    </Typography>\n                </Grid>\n                <Grid item xs>\n                    <Typography variant=\"h6\" gutterBottom>\n                        Dependency Licenses\n                    </Typography>\n                </Grid>\n            </Grid>\n\n            <Divider />\n            <TransitionGroup>\n                {licenses?.slice(0, 10).map(([key, value]) => {\n                    return (\n                        <Collapse key={key}>\n                            <LicenseGroup\n                                name={key}\n                                metadata={value.metadata}\n                                packages={value.packages}\n                                totalLicenses={totalLicenses}\n                            />\n                        </Collapse>\n                    );\n                })}\n            </TransitionGroup>\n\n            <Collapse in={more} timeout=\"auto\" unmountOnExit>\n                <TransitionGroup>\n                    {licenses.slice(10).map(([key, value]) => {\n                        return (\n                            <Collapse key={key}>\n                                <LicenseGroup\n                                    name={key}\n                                    metadata={value.metadata}\n                                    packages={value.packages}\n                                    totalLicenses={totalLicenses}\n                                />\n                            </Collapse>\n                        );\n                    })}\n                </TransitionGroup>\n            </Collapse>\n            <Box textAlign=\"center\">\n                <Button onClick={() => setMore(!more)} color=\"primary\">\n                    {more ? \"Less\" : \"More\"}\n                </Button>\n            </Box>\n        </div>\n    );\n};\n","// react\nimport React from \"react\";\n\n// material-ui\nimport { Typography, Divider, Skeleton, Box } from \"@mui/material\";\n\n// local\nimport ProgressBar from \"components/Elements/ProgressBar\";\nimport { AdviseMetricType } from \"hooks/metrics\";\n\ninterface IAdviseMetric {\n    /** The metric object info of aggregated data */\n    metric: AdviseMetricType | null;\n}\n\n/**\n * A metric card that aggregates changes between the initial dependency\n * graph and the Thoth made dependency graph.\n */\nexport const AdviseMetric = ({ metric }: IAdviseMetric) => {\n    const justTotal = Object.values(metric?.justification ?? {}).reduce(\n        (a, b) => a + b,\n        0,\n    );\n\n    if (!metric) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                {metric?.build}\n            </Typography>\n            <Divider sx={{ mb: 1 }} />\n            <Typography variant=\"h6\" mt={3} gutterBottom>\n                Justification Counts\n            </Typography>\n            <Divider sx={{ mb: 1 }} />\n            {Object.entries(metric?.justification ?? {}).map(([key, value]) => {\n                return (\n                    <ProgressBar\n                        key={key}\n                        value={value}\n                        total={justTotal}\n                        label={key}\n                        mb={1}\n                    />\n                );\n            })}\n        </>\n    );\n};\n","import React from \"react\";\n\n// material-ui\nimport { Link, Stack, BoxProps, Typography } from \"@mui/material\";\n\ninterface IIconText extends BoxProps {\n    /** The text shown */\n    text: string;\n    /** The icon component to be displayed */\n    icon: React.ReactNode;\n    /** Optional link if text is selected */\n    link?: string;\n}\n\n/**\n * Text with an icon to the right of it.\n */\nconst IconText = ({ text, icon, link, ...props }: IIconText) => {\n    return (\n        <Stack {...props} direction=\"row\" spacing={1} alignItems=\"center\">\n            {icon}\n            {link ? (\n                <Link\n                    underline=\"none\"\n                    href={link ? link : undefined}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    variant=\"body2\"\n                    align=\"center\"\n                >\n                    {text}\n                </Link>\n            ) : (\n                <Typography variant=\"body2\" align=\"center\">\n                    {text}\n                </Typography>\n            )}\n        </Stack>\n    );\n};\n\nexport default IconText;\n\nIconText.propTypes = {};\n","import React from \"react\";\nimport { Button, Alert, AlertColor, AlertProps } from \"@mui/material\";\n\ninterface ICustomAlert extends AlertProps {\n    /** The alert content. */\n    info: {\n        /** Link to navigate to if alert is actioned on. */\n        link?: string;\n        /** Text displayed in the alert. */\n        message: string;\n        /** Severity (color) of alert: `[\"ERROR\", \"WARNING\", \"INFO\", \"SUCCESS\"]`. */\n        type: AlertColor;\n    };\n}\n\n/**\n * A custom alert card.\n */\nconst CustomAlert = ({ info, ...props }: ICustomAlert) => {\n    return (\n        <Alert\n            action={\n                info.link ? (\n                    <Button color=\"inherit\" size=\"small\" href={info?.link}>\n                        DETAILS\n                    </Button>\n                ) : undefined\n            }\n            severity={info.type}\n            {...props}\n        >\n            {info?.message}\n        </Alert>\n    );\n};\n\nexport default CustomAlert;\n","// React\nimport React, { useMemo } from \"react\";\n\n// material-ui\nimport {\n    Typography,\n    Chip,\n    ChipProps,\n    AlertColor,\n    Stack,\n    Paper,\n} from \"@mui/material\";\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\nimport CustomAlert from \"./CustomAlert\";\n\n// utils\nimport { calcTime } from \"utils/calcTime\";\nimport {\n    AdviseDocumentRequestParams,\n    AdviseDocumentRequestResponseSuccess,\n} from \"../../api\";\n\ninterface IAdviseHeader {\n    /** the Advise document id*/\n    adviseDocument?: AdviseDocumentRequestResponseSuccess;\n    /** the Advise document logs*/\n    lastLog?: { [key: string]: string };\n}\n\n/**\n * Displays basic Advise document information and\n * displays any errors, info, or warnings that came up\n * in the document generation.\n */\nexport const AdviseHeader = ({ adviseDocument, lastLog }: IAdviseHeader) => {\n    // get status of the report\n    const [statusText, statusColor] = useMemo<\n        [string, ChipProps[\"color\"]]\n    >(() => {\n        // if report is done\n        if (adviseDocument?.result?.report) {\n            if (adviseDocument.result.report.ERROR) {\n                return [\"ERROR\", \"error\"];\n            } else {\n                return [\"COMPLETE\", \"success\"];\n            }\n        } else if (adviseDocument?.result?.error) {\n            return [\"ERROR\", \"error\"];\n        }\n        // if report is not done\n        else if (adviseDocument?.status?.state) {\n            return [adviseDocument.status.state.toUpperCase(), \"info\"];\n        } else {\n            return [\"UNKNOWN\", undefined];\n        }\n    }, [adviseDocument]);\n\n    return (\n        <>\n            <Paper variant=\"outlined\" sx={{ padding: 2 }}>\n                <Typography variant=\"h5\" mb={1}>\n                    <b>\n                        {adviseDocument?.metadata?.document_id ??\n                            (\n                                adviseDocument?.parameters as AdviseDocumentRequestParams\n                            )?.analysis_id}\n                    </b>\n                </Typography>\n                <Stack direction=\"row\" spacing={2} alignItems=\"center\">\n                    <Chip label={statusText} color={statusColor} />\n                    <IconText\n                        text={calcTime(\n                            adviseDocument?.status?.finished_at,\n                            adviseDocument?.status?.started_at,\n                            adviseDocument?.metadata?.datetime,\n                        )}\n                        icon={<AccessTimeIcon />}\n                    />\n                </Stack>\n            </Paper>\n            <>\n                {statusText === \"ERROR\" ? (\n                    <CustomAlert\n                        variant=\"filled\"\n                        sx={{ margin: 1, marginTop: 2 }}\n                        info={{\n                            message:\n                                adviseDocument?.result?.report?.ERROR ??\n                                adviseDocument?.result?.error_msg ??\n                                \"\",\n                            type: \"error\",\n                        }}\n                    />\n                ) : statusText !== \"COMPLETE\" ? (\n                    <CustomAlert\n                        variant=\"outlined\"\n                        sx={{ margin: 1, marginTop: 2 }}\n                        info={{\n                            message: lastLog?.message ?? \"\",\n                            type: lastLog?.levelname?.toLowerCase() as AlertColor,\n                        }}\n                    />\n                ) : undefined}\n            </>\n        </>\n    );\n};\n","import React from \"react\";\n\nimport {\n    TableHead,\n    TableRow,\n    TableSortLabel,\n    Box,\n    TableCell,\n} from \"@mui/material\";\n\nimport { visuallyHidden } from \"@mui/utils\";\n\nconst headCells = [\n    {\n        id: \"name\",\n        numeric: false,\n        label: \"Package\",\n    },\n    {\n        id: \"depth\",\n        numeric: true,\n        label: \"Depth\",\n    },\n    {\n        id: \"license\",\n        numeric: false,\n        label: \"License\",\n    },\n    {\n        id: \"dependencies\",\n        numeric: true,\n        label: \"Direct Dependencies\",\n    },\n];\n\ninterface IEnhancedTableHead {\n    /** the function used to sort an individual column */\n    onRequestSort: (c: string) => void;\n    /** the order in which the column is sorted on*/\n    order: \"asc\" | \"desc\";\n    /** The column in which to order the table by */\n    orderBy: string;\n}\n\n/**\n * A specific custom table header for packages.\n * It handles sorting individual columns.\n */\nfunction EnhancedTableHead({\n    order,\n    orderBy,\n    onRequestSort,\n}: IEnhancedTableHead) {\n    const createSortHandler = (property: string) => {\n        onRequestSort(property);\n    };\n\n    return (\n        <TableHead>\n            <TableRow>\n                {headCells.map(headCell => (\n                    <TableCell\n                        key={headCell.id}\n                        align={headCell.numeric ? \"right\" : \"left\"}\n                        padding=\"normal\"\n                        sortDirection={orderBy === headCell.id ? order : false}\n                    >\n                        <TableSortLabel\n                            active={orderBy === headCell.id}\n                            direction={orderBy === headCell.id ? order : \"asc\"}\n                            onClick={() => createSortHandler(headCell.id)}\n                        >\n                            {headCell.label}\n                            {orderBy === headCell.id ? (\n                                <Box component=\"span\" sx={visuallyHidden}>\n                                    {order === \"desc\"\n                                        ? \"sorted descending\"\n                                        : \"sorted ascending\"}\n                                </Box>\n                            ) : null}\n                        </TableSortLabel>\n                    </TableCell>\n                ))}\n            </TableRow>\n        </TableHead>\n    );\n}\n\nexport default EnhancedTableHead;\n","import React, { useContext, useMemo, useState } from \"react\";\n\nimport {\n    Chip,\n    List,\n    ListItem,\n    ListItemSecondaryAction,\n    ListItemText,\n    Stack,\n    Typography,\n} from \"@mui/material\";\n\n// local\nimport { SelectedPackageContext } from \"../../routes/AdviseDetails\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport SearchBar from \"components/Elements/SearchBar\";\nimport ErrorOutlineOutlinedIcon from \"@mui/icons-material/ErrorOutlineOutlined\";\nimport WarningAmberOutlinedIcon from \"@mui/icons-material/WarningAmberOutlined\";\n\nimport { activeColor } from \"styles/Theme\";\nimport { hexFromArgb } from \"@material/material-color-utilities\";\n\ninterface IPackageList {\n    graph?: Graph<Node<PackageNodeValue>>;\n}\n\ntype PackageList = {\n    name: string;\n    key: string;\n    summary?: string;\n    version?: string;\n    warnings: number;\n    errors: number;\n}[];\n\n/**\n * The table cells and total structure specific to\n * python packages.\n */\nexport function PackageList({ graph }: IPackageList) {\n    const { selected, setSelected } = useContext(SelectedPackageContext) ?? {\n        setSelected: () => console.log(\"missing callback\"),\n    };\n\n    const [search, setSearch] = useState<string>(\"\");\n\n    const handleSearch = (\n        event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>,\n    ) => {\n        setSearch(event.target.value);\n    };\n\n    // format data\n    const packageList = useMemo(() => {\n        if (!graph) {\n            return [];\n        }\n\n        const packages: PackageList = [];\n        graph.nodes.forEach(node => {\n            if (node.value.depth === -1) {\n                return;\n            }\n            packages.push({\n                name: node.value.name ?? node.key,\n                key: node.key,\n                summary: node?.value?.metadata?.Summary ?? \"\",\n                version: node?.value.version,\n                warnings:\n                    node.value.justifications?.filter(j => j.type === \"WARNING\")\n                        ?.length ?? 0,\n                errors:\n                    node.value.justifications?.filter(j => j.type === \"ERROR\")\n                        ?.length ?? 0,\n            });\n        });\n\n        return packages;\n    }, [graph]);\n\n    if (!graph) {\n        return null;\n    }\n\n    return (\n        <Stack spacing={2} sx={{ maxHeight: \"100%\" }}>\n            <SearchBar\n                onChange={handleSearch}\n                lefticon={<SearchRoundedIcon />}\n            />\n            <List sx={{ overflow: \"scroll\" }}>\n                {packageList\n                    .filter(p => p.name.startsWith(search))\n                    .map(p => {\n                        return (\n                            <ListItem\n                                key={p.key}\n                                button\n                                onClick={() => setSelected(p.key)}\n                                sx={{\n                                    borderRadius: 100,\n                                    marginY: 0.5,\n                                    backgroundColor:\n                                        selected === p.key\n                                            ? hexFromArgb(\n                                                  activeColor.light\n                                                      .colorContainer,\n                                              )\n                                            : undefined,\n                                    color:\n                                        selected === p.key\n                                            ? hexFromArgb(\n                                                  activeColor.light\n                                                      .onColorContainer,\n                                              )\n                                            : undefined,\n                                }}\n                            >\n                                <ListItemText\n                                    primary={\n                                        <Typography variant=\"h5\">\n                                            {p.name}\n                                        </Typography>\n                                    }\n                                    secondary={`v${p.version}`}\n                                />\n                                <ListItemSecondaryAction>\n                                    <Stack direction=\"row\" spacing={1}>\n                                        {p.warnings ? (\n                                            <Chip\n                                                variant=\"outlined\"\n                                                size=\"medium\"\n                                                icon={\n                                                    <WarningAmberOutlinedIcon />\n                                                }\n                                                label={p.warnings}\n                                                color=\"warning\"\n                                            />\n                                        ) : undefined}\n                                        {p.errors ? (\n                                            <Chip\n                                                variant=\"outlined\"\n                                                size=\"medium\"\n                                                icon={\n                                                    <ErrorOutlineOutlinedIcon />\n                                                }\n                                                label={p.errors}\n                                                color=\"error\"\n                                            />\n                                        ) : undefined}\n                                    </Stack>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        );\n                    })}\n            </List>\n        </Stack>\n    );\n}\n","import {\n    Box,\n    CircularProgress,\n    LinearProgress,\n    Typography,\n} from \"@mui/material\";\nimport React, { useMemo } from \"react\";\n\ninterface ILoading {\n    type: \"circular\" | \"bar\";\n    label?: string;\n    progress?: number;\n}\n\nconst Loading = ({ type, label, progress }: ILoading) => {\n    return useMemo(() => {\n        if (type === \"bar\") {\n            return (\n                <Box\n                    height=\"100vh\"\n                    flexDirection=\"column\"\n                    display=\"flex\"\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                >\n                    <LinearProgress\n                        variant={progress ? \"determinate\" : undefined}\n                        value={progress}\n                    />\n                    <Typography variant=\"body2\">{label}</Typography>\n                </Box>\n            );\n        } else {\n            return (\n                <Box\n                    height=\"100vh\"\n                    flexDirection=\"column\"\n                    display=\"flex\"\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                >\n                    <CircularProgress\n                        variant={progress ? \"determinate\" : undefined}\n                        value={progress}\n                    />\n                    <Typography variant=\"body2\">{label}</Typography>\n                </Box>\n            );\n        }\n    }, [type, label, progress]);\n};\n\nexport default Loading;\n","import React, { useContext, useState } from \"react\";\nimport { Box, Typography } from \"@mui/material\";\nimport { SelectedPackage } from \"../components\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\nimport { PackageList } from \"../components/PackageList\";\nimport Loading from \"components/Elements/Loading/Loading\";\nimport { StateContext } from \"stores/Global\";\n\ntype SelectedPackageType = {\n    selected: string;\n    setSelected: (c: string) => void;\n};\n\nexport const SelectedPackageContext = React.createContext<SelectedPackageType>(\n    {} as SelectedPackageType,\n);\n\ninterface IAdviseDetails {\n    graph?: Graph<Node<PackageNodeValue>>;\n}\n\nexport const AdviseDetails = ({ graph }: IAdviseDetails) => {\n    const [selected, setSelected] = useState<string>(\"\");\n    const state = useContext(StateContext);\n\n    if (!graph) {\n        return (\n            <Loading\n                type=\"circular\"\n                label={state?.loading?.[\"graph\"].text}\n                progress={\n                    ((state?.loading?.[\"graph\"].value ?? 0) /\n                        (state?.loading?.[\"graph\"].total ?? 1)) *\n                    100\n                }\n            />\n        );\n    }\n\n    if (graph.nodes.size === 1) {\n        return (\n            <Box\n                height=\"100%\"\n                flexDirection=\"column\"\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n            >\n                <Typography variant=\"h5\" align=\"center\">\n                    No packages found\n                </Typography>\n                <Typography variant=\"body2\" align=\"center\">\n                    The advise document encountered an error resulting in no\n                    Pipfile.lock\n                </Typography>\n            </Box>\n        );\n    }\n\n    return (\n        <SelectedPackageContext.Provider value={{ selected, setSelected }}>\n            <Box\n                flexDirection=\"column\"\n                display=\"flex\"\n                height=\"100%\"\n                justifyContent=\"center\"\n                alignItems=\"flex-start\"\n            >\n                <Box\n                    flexGrow={1}\n                    display=\"flex\"\n                    sx={{ overflowY: \"hidden\", width: \"100%\" }}\n                >\n                    <Box\n                        overflow=\"auto\"\n                        sx={{ marginRight: 2, minWidth: \"500px\" }}\n                    >\n                        <PackageList graph={graph} />\n                    </Box>\n                    <Box\n                        overflow=\"auto\"\n                        sx={{ minWidth: \"50%\", width: \"100%\" }}\n                    >\n                        {!selected || !graph ? (\n                            <Box\n                                height=\"100%\"\n                                flexDirection=\"column\"\n                                display=\"flex\"\n                                justifyContent=\"center\"\n                                alignItems=\"center\"\n                            >\n                                <Typography variant=\"h5\" align=\"center\">\n                                    Choose a package\n                                </Typography>\n                                <Typography variant=\"body2\" align=\"center\">\n                                    Click on a package from the packages found\n                                    in the Pipfile.lock\n                                </Typography>\n                            </Box>\n                        ) : (\n                            <SelectedPackage graph={graph} />\n                        )}\n                    </Box>\n                </Box>\n            </Box>\n        </SelectedPackageContext.Provider>\n    );\n};\n","// react\nimport React from \"react\";\n\n// material-ui\nimport { Typography } from \"@mui/material\";\n\ninterface ILockfileView {\n    /** The Pipfile.lock json object */\n    file: { default: { [key: string]: unknown } };\n}\n\n/**\n * Renders out a Pipfile.lock file and attaches\n * `<a>` tags to package names, which is used to\n *  scroll to certain spot in the lock file\n */\nexport const LockfileView = ({ file }: ILockfileView) => {\n    return (\n        <Typography variant=\"caption\">\n            <pre>\n                <div\n                    dangerouslySetInnerHTML={{\n                        __html: JSON.stringify(file, undefined, 4)?.replaceAll(\n                            new RegExp(\n                                '(\"' +\n                                    Object.keys(file?.default)?.join('\"|\"') +\n                                    '\")',\n                                \"g\",\n                            ),\n                            (match: string) => {\n                                return `<a id=\"${match.slice(\n                                    1,\n                                    -1,\n                                )}\">${match}</a>`;\n                            },\n                        ),\n                    }}\n                />\n            </pre>\n        </Typography>\n    );\n};\n","// react\nimport React from \"react\";\n\nimport { Typography, Grid } from \"@mui/material\";\nimport GavelIcon from \"@mui/icons-material/Gavel\";\nimport BookmarkIcon from \"@mui/icons-material/Bookmark\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\n\ninterface IPopup {\n    node: Node<PackageNodeValue>;\n}\n\n/**\n * Graph hover model appears when you hover over a node on the graph.\n */\nconst Popup = ({ node }: IPopup) => {\n    return (\n        <div>\n            <Grid container alignItems=\"center\">\n                <Grid item xs={6}>\n                    <Typography variant=\"h6\">\n                        <b>{node.value.id}</b>\n                    </Typography>\n                </Grid>\n                <Grid item xs={6}>\n                    <Typography ml={2} variant=\"body1\">\n                        v{node.value.version ?? \"NaN\"}\n                    </Typography>\n                </Grid>\n            </Grid>\n            <Typography gutterBottom variant=\"body2\">\n                {node.value?.metadata?.Summary ?? \"NaN\"}\n            </Typography>\n            <Grid container spacing={2}>\n                <Grid item>\n                    <IconText\n                        text={node.value?.metadata?.License ?? \"NaN\"}\n                        icon={<GavelIcon />}\n                    />\n                </Grid>\n                <Grid item>\n                    <IconText\n                        ml={2}\n                        text={\n                            node.value?.latestVersion // TODO is not correct\n                                ? \"Latest version is installed\"\n                                : \"Installed version is NOT the latest.\"\n                        }\n                        icon={<BookmarkIcon />}\n                    />\n                </Grid>\n            </Grid>\n        </div>\n    );\n};\n\nexport default Popup;\n","// react\nimport React, { useEffect, useRef, useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// utils and configs\nimport { options } from \"config\";\n\n// vis-network\nimport { Network, DataSet, Data } from \"vis-network/standalone\";\n\n// local\nimport Popup from \"../Popup\";\nimport { SelectedPackageContext } from \"../../routes/AdviseDetails\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\n\ninterface INetworkGraph {\n    graph: Graph<Node<PackageNodeValue>>;\n}\n\n/**\n * Renders a network graph visualization using `vis-network`.\n */\nconst NetworkGraph = ({ graph, ...props }: INetworkGraph) => {\n    const visJsRef = useRef<HTMLDivElement>(null);\n    const { selected } = useContext(SelectedPackageContext);\n\n    // create the graph\n    useEffect(() => {\n        if (!selected || !graph) {\n            return;\n        }\n\n        const selectedNode = graph.nodes.get(selected);\n\n        if (selectedNode) {\n            const nodes = graph.findAllNodesOnAllPaths(selectedNode, \"*App\");\n\n            const app_node = graph.nodes.get(\"*App\");\n            if (app_node) {\n                nodes.set(\"*App\", app_node);\n            }\n\n            // convert to vis graph format\n            const convertedNodes = new DataSet<PackageNodeValue>();\n            nodes.forEach(value => {\n                // popup element\n                const popup = document.createElement(\"div\");\n                ReactDOM.render(<Popup node={value} />, popup);\n\n                // default colors\n                let color = value.value.color ?? options.nodes.color.background;\n                let font = undefined;\n\n                // if node is root\n                if (value.key === \"*App\") {\n                    color = \"#4fc1ea\";\n                    font = { color: \"#4fc1ea\", strokeWidth: 3, size: 20 };\n                }\n                // if selected node\n                else if (value.key === selectedNode.key) {\n                    color = \"#f39200\";\n                }\n\n                convertedNodes.add({\n                    ...value.value,\n                    color: color,\n                    title:\n                        value.key === selectedNode.key || value.key === \"*App\"\n                            ? undefined\n                            : popup,\n                    font: font,\n                });\n            });\n\n            const visData: Data = {\n                nodes: convertedNodes,\n                edges: new DataSet(graph.visEdges),\n            };\n\n            const network =\n                visJsRef.current &&\n                new Network(visJsRef.current, visData, options);\n\n            // change cursor when hovering and grabbing\n            // Get the canvas HTML element\n            const networkCanvas = document\n                ?.getElementById(\"mynetwork\")\n                ?.getElementsByTagName(\"canvas\")[0];\n\n            // changes the cursor graphic depending on where and what the mouse is doing\n            const changeCursor = (newCursorStyle: string) => {\n                if (networkCanvas) {\n                    networkCanvas.style.cursor = newCursorStyle;\n                }\n            };\n\n            if (network) {\n                network.on(\"hoverNode\", function () {\n                    changeCursor(\"grab\");\n                });\n                network.on(\"blurNode\", function () {\n                    changeCursor(\"default\");\n                });\n                network.on(\"dragStart\", function () {\n                    changeCursor(\"grabbing\");\n                });\n                network.on(\"dragging\", function () {\n                    changeCursor(\"grabbing\");\n                });\n                network.on(\"dragEnd\", function () {\n                    changeCursor(\"grab\");\n                });\n            }\n        }\n    }, [selected, graph, visJsRef]);\n\n    return (\n        <div {...props} style={{ display: \"flex\", flexFlow: \"column nowrap\" }}>\n            <div\n                ref={visJsRef}\n                id=\"mynetwork\"\n                style={{ flex: \"1 1 auto\", height: \"50vh\" }}\n            />\n        </div>\n    );\n};\n\nexport default NetworkGraph;\n","import React, { useState } from \"react\";\nimport {\n    Box,\n    Card,\n    CardContent,\n    CardHeader,\n    Chip,\n    Collapse,\n    Grid,\n    IconButton,\n    Stack,\n    Typography,\n} from \"@mui/material\";\nimport OpenInNewRoundedIcon from \"@mui/icons-material/OpenInNewRounded\";\n\nimport DoneRoundedIcon from \"@mui/icons-material/DoneRounded\";\nimport CloseRoundedIcon from \"@mui/icons-material/CloseRounded\";\nimport { KeyboardArrowDown } from \"@mui/icons-material\";\n\ntype ScoreCardItemProp = {\n    tags: string;\n    name: string;\n    short: string;\n    risk: string;\n    passing?: boolean;\n    justification?: string;\n};\n\nconst ScorecardItem = ({\n    tags,\n    name,\n    short,\n    risk,\n    passing,\n    justification,\n}: ScoreCardItemProp) => {\n    const [selected, setSelected] = useState(false);\n\n    return (\n        <Box>\n            <Grid\n                container\n                alignItems=\"center\"\n                sx={{\n                    backgroundColor: selected ? \"action.selected\" : undefined,\n                    borderRadius: \"16px\",\n                }}\n            >\n                <Grid item xs={11}>\n                    <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n                        <IconButton onClick={() => setSelected(!selected)}>\n                            <KeyboardArrowDown\n                                sx={{\n                                    mr: -1,\n                                    transform: selected\n                                        ? \"rotate(0deg)\"\n                                        : \"rotate(-90deg)\",\n                                    transition: \"0.2s\",\n                                }}\n                            />\n                        </IconButton>\n                        <Typography variant=\"body1\" fontWeight=\"bolder\">\n                            {name}\n                        </Typography>\n                    </Stack>\n                </Grid>\n                <Grid item xs={1}>\n                    <Box\n                        display=\"flex\"\n                        justifyContent=\"flex-end\"\n                        sx={{ marginRight: 2 }}\n                    >\n                        {!passing ? (\n                            <CloseRoundedIcon color=\"error\" />\n                        ) : (\n                            <DoneRoundedIcon color=\"success\" />\n                        )}\n                    </Box>\n                </Grid>\n            </Grid>\n            <Collapse in={selected}>\n                <Grid\n                    container\n                    sx={{ marginLeft: 5, marginBottom: 1, paddingRight: 1 }}\n                >\n                    <Grid item xs={12} sx={{ marginBottom: 2 }}>\n                        <Typography variant=\"body2\">{short}</Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Typography fontWeight=\"bolder\" variant=\"body2\">\n                            Reason\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} sx={{ marginBottom: 1 }}>\n                        <Typography variant=\"body2\">{justification}</Typography>\n                    </Grid>\n                    <Grid item xs={12} sx={{ marginBottom: 1 }}>\n                        <Stack alignItems=\"center\" direction=\"row\" spacing={1}>\n                            <Typography variant=\"body2\">risk: </Typography>\n                            <Chip\n                                size=\"small\"\n                                label={risk}\n                                color={\n                                    risk === \"High\"\n                                        ? \"error\"\n                                        : risk == \"Medium\"\n                                        ? \"warning\"\n                                        : \"info\"\n                                }\n                            />\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Stack alignItems=\"center\" direction=\"row\" spacing={1}>\n                            <Typography variant=\"body2\">tags: </Typography>\n                            {tags.split(\", \").map(tag => {\n                                return (\n                                    <Chip size=\"small\" key={tag} label={tag} />\n                                );\n                            })}\n                        </Stack>\n                    </Grid>\n                </Grid>\n            </Collapse>\n        </Box>\n    );\n};\n\nexport const ScorecardMetric = ({\n    metric,\n}: {\n    metric: {\n        tags: string;\n        name: string;\n        short: string;\n        risk: string;\n        passing?: boolean;\n        justification?: string;\n    }[];\n}) => {\n    return (\n        <Card variant=\"outlined\" sx={{ marginTop: 2 }}>\n            <CardHeader\n                title=\"Security Scorecards\"\n                subheader={`Scorecards give consumers of open-source projects an easy way to judge whether their dependencies are safe.`}\n                action={\n                    <IconButton\n                        href={\n                            \"https://github.com/ossf/scorecard/blob/main/docs/checks.md\"\n                        }\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        <OpenInNewRoundedIcon />\n                    </IconButton>\n                }\n            />\n            <CardContent>\n                <Stack>\n                    {Object.values(metric).map(value => {\n                        return <ScorecardItem key={value.name} {...value} />;\n                    })}\n                </Stack>\n            </CardContent>\n        </Card>\n    );\n};\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { THOTH_URL } from \"config\";\nimport { useQueries, useQuery } from \"react-query\";\nimport { paths } from \"lib/schema\";\nimport { UseQueryResult } from \"react-query/types/react/types\";\n\ntype path = paths[\"/python/package/version/metadata\"][\"get\"];\ntype requestParams = path[\"parameters\"][\"query\"];\nexport type PackageMetadataRequestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"];\ntype requestResponseFailure =\n    path[\"responses\"][\"404\"][\"content\"][\"application/json\"];\n\nexport const getPackageMetadata = (\n    name?: requestParams[\"name\"],\n    version?: requestParams[\"version\"],\n    index?: requestParams[\"index\"],\n    os_name?: requestParams[\"os_name\"],\n    os_version?: requestParams[\"os_version\"],\n    python_version?: requestParams[\"python_version\"],\n) => {\n    return axios.get<PackageMetadataRequestResponseSuccess>(\n        THOTH_URL + \"/python/package/version/metadata\",\n        {\n            params: {\n                name: name,\n                version: version,\n                index: index,\n                os_name: os_name,\n                os_version: os_version,\n                python_version: python_version,\n            },\n            headers: {\n                accept: \"application/json\",\n            },\n        },\n    );\n};\n\nexport const usePackageMetadata = (\n    name?: requestParams[\"name\"],\n    version?: requestParams[\"version\"],\n    index?: requestParams[\"index\"],\n    os_name?: requestParams[\"os_name\"],\n    os_version?: requestParams[\"os_version\"],\n    python_version?: requestParams[\"python_version\"],\n    config?: { [key: string]: any },\n): UseQueryResult<\n    AxiosResponse<PackageMetadataRequestResponseSuccess>,\n    AxiosError<requestResponseFailure>\n> => {\n    return useQuery<\n        AxiosResponse<PackageMetadataRequestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >({\n        ...config,\n        enabled:\n            !!name &&\n            !!version &&\n            !!index &&\n            !!os_name &&\n            !!os_version &&\n            !!python_version,\n        queryKey: [\n            \"packageMetadata\",\n            name,\n            version,\n            index,\n            os_name,\n            os_version,\n            python_version,\n        ],\n        queryFn: () =>\n            getPackageMetadata(\n                name,\n                version,\n                index,\n                os_name,\n                os_version,\n                python_version,\n            ),\n    });\n};\n\nexport const usePackagesMetadata = (\n    packages: requestParams[],\n    config?: { [key: string]: any },\n): UseQueryResult<\n    AxiosResponse<PackageMetadataRequestResponseSuccess>,\n    AxiosError<requestResponseFailure>\n>[] => {\n    return useQueries(\n        packages.map(p => {\n            return {\n                ...config,\n                enabled:\n                    !!p.name &&\n                    !!p.version &&\n                    !!p.index &&\n                    !!p.os_name &&\n                    !!p.os_version &&\n                    !!p.python_version,\n                queryKey: [\n                    \"packageMetadata\",\n                    p.name,\n                    p.version,\n                    p.index,\n                    p.os_name,\n                    p.os_version,\n                    p.python_version,\n                ],\n                queryFn: () =>\n                    getPackageMetadata(\n                        p.name,\n                        p.version,\n                        p.index,\n                        p.os_name,\n                        p.os_version,\n                        p.python_version,\n                    ),\n            };\n        }),\n    ) as UseQueryResult<\n        AxiosResponse<PackageMetadataRequestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >[];\n};\n","import YAML from \"yaml\";\n\nexport function getFile(url: RequestInfo) {\n    return fetch(url)\n        .then(response => response.text())\n        .then(response => {\n            return response;\n        });\n}\n\nexport function getYamlFile(url: string) {\n    return getFile(url).then(text => YAML.parse(text));\n}\n","import { useEffect, useMemo, useState } from \"react\";\nimport { getYamlFile } from \"api\";\nimport { components } from \"lib/schema\";\n\nfunction getMatch(\n    name: string,\n    scorecards: components[\"schemas\"][\"Justification\"],\n) {\n    const matchLookup = {\n        Maintained: \"actively maintained\",\n        \"Dependency-Update-Tool\": \"automatic dependency updates\",\n        \"Binary-Artifacts\": \"binary artifacts\",\n        \"Branch-Protection\": \"branch protection\",\n        \"CI-Tests\": \"CI tests\",\n        \"CII-Best-Practices\": \"CII Best Practices\",\n        \"Code-Review\": \"code review\",\n        Contributors: \"contributors\",\n        Fuzzing: \"fuzzing\",\n        Packaging: \"published as a package\",\n        \"Pinned-Dependencies\": \"pinned dependencies\",\n        SAST: \"static source code analysis\",\n        \"Security-Policy\": \"security policy\",\n        \"Signed-Releases\": \"sign tags\",\n        \"Token-Permissions\": \"least privilege\",\n        Vulnerabilities: \"vulnerabilities\",\n        \"Dangerous-Workflow\": \"dangerous\",\n        License: \"license\",\n    };\n\n    const pattern = matchLookup[name as keyof typeof matchLookup];\n    return scorecards.find(scorecard => scorecard.message.includes(pattern));\n}\n\nexport const useScorecards = (\n    justifications: Map<string, components[\"schemas\"][\"Justification\"][number]>,\n) => {\n    const [scorecard, setScorecard] = useState<\n        {\n            tags: string;\n            name: string;\n            short: string;\n            risk: string;\n            passing?: boolean;\n            justification?: string;\n        }[]\n    >([]);\n\n    const scorecardJustifications = useMemo(() => {\n        if (justifications) {\n            return Array.from(justifications.values()).filter(s => {\n                if (\n                    s.link ===\n                    \"https://github.com/ossf/scorecard/blob/main/docs/checks.md\"\n                ) {\n                    justifications.delete(s.message);\n                    return true;\n                }\n                return false;\n            });\n        }\n    }, [justifications]);\n\n    useEffect(() => {\n        if (!justifications) {\n            return;\n        }\n\n        let active = true;\n        load();\n        return () => {\n            active = false;\n        };\n\n        async function load() {\n            const res = await getYamlFile(\n                \"https://raw.githubusercontent.com/ossf/scorecard/main/docs/checks/internal/checks.yaml\",\n            ).then(yaml => {\n                return Object.entries(yaml?.checks ?? {})\n                    .filter(([key]) =>\n                        getMatch(key, scorecardJustifications ?? []),\n                    )\n                    .map(([name, value]) => {\n                        const info = value as { [k: string]: unknown };\n                        const match = getMatch(\n                            name,\n                            scorecardJustifications ?? [],\n                        );\n                        return {\n                            tags: info?.tags as string,\n                            name: name as string,\n                            short: info?.short as string,\n                            risk: info?.risk as string,\n                            justification: match?.message as string,\n                            passing: match?.type !== \"WARNING\",\n                        };\n                    });\n            });\n            if (!active) {\n                return;\n            }\n            setScorecard(res);\n        }\n    }, [justifications]);\n\n    return scorecard;\n};\n","// React\nimport React, { useContext, useMemo } from \"react\";\n\n// material-ui\nimport {\n    Typography,\n    Grid,\n    Box,\n    Link,\n    Stack,\n    CardHeader,\n    CardContent,\n    Card,\n    Divider,\n    IconButton,\n} from \"@mui/material\";\nimport GavelIcon from \"@mui/icons-material/Gavel\";\nimport ErrorRoundedIcon from \"@mui/icons-material/ErrorRounded\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\nimport NetworkGraphView from \"../NetworkGraphView\";\nimport { SelectedPackageContext } from \"../../routes/AdviseDetails\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { components } from \"lib/schema\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\nimport { ScorecardMetric } from \"../JustificationMetrics\";\nimport { useScorecards } from \"./hooks/useScorecards\";\nimport { useLinkData } from \"./hooks/useLinkData\";\n\nimport OpenInNewRoundedIcon from \"@mui/icons-material/OpenInNewRounded\";\nimport InfoRoundedIcon from \"@mui/icons-material/InfoOutlined\";\nimport WarningAmberRoundedIcon from \"@mui/icons-material/WarningAmberOutlined\";\nimport StarRoundedIcon from \"@mui/icons-material/StarRounded\";\n\ninterface ISelectedPackage {\n    graph: Graph<Node<PackageNodeValue>>;\n}\n\n/**\n * Renders the selected package context variable's data. It will preform\n * a search of the list of packages using the selected package variable.\n */\nexport const SelectedPackage = ({ graph }: ISelectedPackage) => {\n    const { selected, setSelected } = useContext(SelectedPackageContext);\n\n    const selectedPackage = useMemo<Node<PackageNodeValue> | undefined>(() => {\n        return graph.nodes.get(selected);\n    }, [selected]);\n\n    const dependents = useMemo<string[]>(() => {\n        const deps: string[] = [];\n\n        if (selectedPackage) {\n            [...selectedPackage.parents]\n                .filter(p => p !== \"*App\")\n                .forEach(node => {\n                    const nodeObj = graph.nodes.get(node);\n                    if (nodeObj) {\n                        deps.push(node);\n                    }\n                });\n        }\n\n        return deps;\n    }, [selectedPackage]);\n\n    const justifications = useMemo(() => {\n        const justs: Map<\n            string,\n            components[\"schemas\"][\"Justification\"][number]\n        > = new Map();\n\n        if (selectedPackage) {\n            selectedPackage?.value?.justifications?.forEach(just => {\n                justs.set(just.message, just);\n            });\n        }\n\n        return justs;\n    }, [selectedPackage]);\n\n    const scorecards = useScorecards(justifications);\n\n    const linkData = useLinkData(justifications);\n\n    const popular = useMemo(() => {\n        if (justifications) {\n            return Array.from(justifications.values()).find(s => {\n                if (s.message.includes(\"popularity on GitHub\")) {\n                    justifications.delete(s.message);\n                    return true;\n                }\n                return false;\n            });\n        }\n    }, [justifications]);\n\n    const browseLink = useMemo(() => {\n        if (justifications) {\n            const just = Array.from(justifications.values()).find(s => {\n                if (s.message.includes(\"Thoth Search UI\")) {\n                    justifications.delete(s.message);\n                    return true;\n                }\n                return false;\n            });\n\n            return just?.link;\n        }\n    }, [justifications]);\n\n    console.log(linkData);\n\n    const showError = useMemo(() => {\n        return (\n            <Stack direction=\"row\" alignItems=\"center\" sx={{ marginTop: 2 }}>\n                <ErrorRoundedIcon color=\"error\" sx={{ marginRight: \".5rem\" }} />\n                <Typography mb={0} color=\"error\" gutterBottom variant=\"body2\">\n                    The package metadata could not be fetched.\n                </Typography>\n            </Stack>\n        );\n    }, []);\n\n    return (\n        <Box sx={{ overflow: \"scroll\" }}>\n            <Card variant=\"outlined\" sx={{ padding: 2 }}>\n                <Grid container alignItems=\"center\" mb={1}>\n                    <Grid item>\n                        <Typography variant=\"h3\">\n                            <Link underline=\"none\" href={browseLink}>\n                                <b>{selectedPackage?.value?.name}</b>\n                            </Link>\n                        </Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography ml={2} variant=\"h6\">\n                            {selectedPackage?.value?.version}\n                        </Typography>\n                    </Grid>\n                </Grid>\n\n                <Grid container spacing={1}>\n                    <Grid item>\n                        <IconText\n                            text={\n                                selectedPackage?.value?.metadata?.License ??\n                                \"NaN\"\n                            }\n                            icon={<GavelIcon />}\n                        />\n                    </Grid>\n                    {Object.values(linkData).map(value => {\n                        return (\n                            <>\n                                <Grid item>\n                                    <Divider orientation=\"vertical\" />\n                                </Grid>\n                                <Grid key={value.label} item>\n                                    <IconText\n                                        text={value.label ?? \"\"}\n                                        icon={value.icon}\n                                        link={value.link}\n                                    />\n                                </Grid>\n                            </>\n                        );\n                    })}\n                </Grid>\n\n                <Typography sx={{ marginTop: 2 }} variant=\"body1\">\n                    {selectedPackage?.value?.metadata?.Summary}\n                </Typography>\n\n                {!selectedPackage?.value?.metadata && showError}\n            </Card>\n\n            {scorecards.length > 0 ? (\n                <ScorecardMetric metric={scorecards} />\n            ) : undefined}\n\n            {popular ? (\n                <Card variant=\"outlined\" sx={{ marginTop: 2 }}>\n                    <CardHeader\n                        title={popular.message}\n                        action={\n                            <IconButton\n                                href={popular.link}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <OpenInNewRoundedIcon />\n                            </IconButton>\n                        }\n                        avatar={<StarRoundedIcon />}\n                    />\n                </Card>\n            ) : undefined}\n\n            {browseLink\n                ? Array.from(justifications.values()).map(just => {\n                      return (\n                          <Card\n                              key={just.message}\n                              variant=\"outlined\"\n                              sx={{ marginTop: 2 }}\n                          >\n                              <CardHeader\n                                  title={just.message}\n                                  action={\n                                      <IconButton\n                                          href={just.link}\n                                          target=\"_blank\"\n                                          rel=\"noopener noreferrer\"\n                                      >\n                                          <OpenInNewRoundedIcon />\n                                      </IconButton>\n                                  }\n                                  avatar={\n                                      just.type === \"ERROR\" ? (\n                                          <ErrorRoundedIcon color=\"error\" />\n                                      ) : just.type === \"WARNING\" ? (\n                                          <WarningAmberRoundedIcon color=\"warning\" />\n                                      ) : (\n                                          <InfoRoundedIcon color=\"info\" />\n                                      )\n                                  }\n                              />\n                          </Card>\n                      );\n                  })\n                : undefined}\n\n            <Card variant=\"outlined\" sx={{ marginTop: 2 }}>\n                <CardHeader\n                    title=\"Dependency Graph\"\n                    subheader={\n                        <Typography variant=\"body1\" mb={2}>\n                            {[...(selectedPackage?.parents ?? [])].filter(\n                                p => p !== \"*App\",\n                            )?.length === 0\n                                ? selectedPackage?.value?.label +\n                                  \" is not a dependent of any package in this Python environment\"\n                                : \"There are \" +\n                                  [...(selectedPackage?.parents ?? [])].filter(\n                                      p => p !== \"*App\",\n                                  )?.length +\n                                  \" package(s) that have \" +\n                                  selectedPackage?.value?.label +\n                                  \" as a direct dependency: \"}\n                            {dependents.map((dep, i) => {\n                                return (\n                                    <>\n                                        <Link\n                                            key={dep + i}\n                                            underline=\"hover\"\n                                            onClick={() => setSelected(dep)}\n                                        >\n                                            {dep}\n                                        </Link>{\" \"}\n                                    </>\n                                );\n                            })}\n                        </Typography>\n                    }\n                />\n                <CardContent>\n                    <NetworkGraphView graph={graph} />\n                </CardContent>\n            </Card>\n        </Box>\n    );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { components } from \"lib/schema\";\n\nimport OpenInNewRoundedIcon from \"@mui/icons-material/OpenInNewRounded\";\nimport GitHubIcon from \"@mui/icons-material/GitHub\";\nimport ArticleRoundedIcon from \"@mui/icons-material/ArticleRounded\";\nimport NewReleasesRoundedIcon from \"@mui/icons-material/NewReleasesRounded\";\n\nexport const useLinkData = (\n    justifications: Map<string, components[\"schemas\"][\"Justification\"][number]>,\n) => {\n    const [linkData, setLinkData] = useState<{\n        [key: string]: {\n            label?: string;\n            icon?: React.ReactNode;\n            link?: string;\n        };\n    }>({\n        \"libraries.io\": {\n            label: \"libraries.io\",\n            icon: <OpenInNewRoundedIcon />,\n        },\n        \"released on PyPI\": {\n            label: \"PyPI\",\n            icon: <OpenInNewRoundedIcon />,\n        },\n        \"hosted on GitHub\": {\n            label: \"GitHub\",\n            icon: <GitHubIcon />,\n        },\n        \"Release notes\": {\n            label: \"Release\",\n            icon: <NewReleasesRoundedIcon />,\n        },\n        \"StackOverflow tags\": {\n            label: \"StackOverflow\",\n            icon: <OpenInNewRoundedIcon />,\n        },\n        \"project documentation\": {\n            label: \"Documentation\",\n            icon: <ArticleRoundedIcon />,\n        },\n    });\n\n    useEffect(() => {\n        const patterns = Object.keys(linkData);\n        let temp = linkData;\n\n        if (justifications) {\n            Array.from(justifications.values()).forEach(s => {\n                patterns.forEach(pattern => {\n                    if (s.message.includes(pattern)) {\n                        justifications.delete(s.message);\n                        temp = {\n                            ...temp,\n                            [pattern]: {\n                                ...temp[pattern],\n                                link: s?.link ?? \"\",\n                            },\n                        };\n                    }\n                });\n            });\n        }\n\n        Object.entries(temp).forEach(([key, value]) => {\n            if (!value.link) {\n                delete temp[key];\n            }\n        });\n\n        setLinkData(temp);\n    }, [justifications]);\n\n    return linkData;\n};\n","import React from \"react\";\nimport InfoCard from \"components/Elements/InfoCard\";\nimport {\n    AdviseMetric,\n    DependenciesMetric,\n    LicenseMetric,\n} from \"components/Metrics\";\nimport { AllMetrics } from \"../hooks\";\nimport { AdviseHeader } from \"../components\";\nimport { Box, Grid } from \"@mui/material\";\nimport { AdviseDocumentRequestResponseSuccess } from \"../api\";\n\ninterface IAdviseSummary {\n    metrics: AllMetrics;\n    adviseDocument?: AdviseDocumentRequestResponseSuccess;\n    lastLog?: { [key: string]: string };\n}\n\nexport const AdviseSummary = ({\n    metrics,\n    adviseDocument,\n    lastLog,\n}: IAdviseSummary) => {\n    return (\n        <Box>\n            <Grid container spacing={2}>\n                <Grid item xs={12}>\n                    <AdviseHeader\n                        adviseDocument={adviseDocument}\n                        lastLog={lastLog}\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={6}>\n                    <InfoCard\n                        cardMeta={{\n                            title: \"Thoth Advise Summary\",\n                        }}\n                        cardBody={<AdviseMetric metric={metrics?.advise} />}\n                    />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                    <InfoCard\n                        cardMeta={{\n                            title: \"Dependencies Summary\",\n                        }}\n                        cardBody={\n                            <DependenciesMetric\n                                metric={metrics?.dependencies}\n                            />\n                        }\n                    />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                    <InfoCard\n                        cardMeta={{\n                            title: \"Licenses Summary\",\n                        }}\n                        cardBody={<LicenseMetric metric={metrics?.licenses} />}\n                    />\n                </Grid>\n            </Grid>\n        </Box>\n    );\n};\n","import * as React from \"react\";\nimport useScrollTrigger from \"@mui/material/useScrollTrigger\";\nimport Box from \"@mui/material/Box\";\nimport Fab from \"@mui/material/Fab\";\nimport KeyboardArrowUpIcon from \"@mui/icons-material/KeyboardArrowUp\";\nimport Zoom from \"@mui/material/Zoom\";\n\ninterface Props {\n    children: React.ReactElement;\n    window?: () => Window;\n}\n\nfunction ScrollTop(props: Props) {\n    const { children, window } = props;\n    const trigger = useScrollTrigger({\n        target: window ? window() : undefined,\n        disableHysteresis: true,\n        threshold: 100,\n    });\n\n    const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n        const anchor = (\n            (event.target as HTMLDivElement).ownerDocument || document\n        ).querySelector(\"#back-to-top-anchor\");\n\n        if (anchor) {\n            anchor.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"center\",\n            });\n        }\n    };\n\n    return (\n        <Zoom in={trigger}>\n            <Box\n                onClick={handleClick}\n                role=\"presentation\"\n                sx={{ position: \"fixed\", bottom: 16, right: 16 }}\n            >\n                {children}\n            </Box>\n        </Zoom>\n    );\n}\n\nexport function ScrollToTop(props: Props) {\n    return (\n        <React.Fragment>\n            <div id=\"back-to-top-anchor\" />\n            {props.children}\n            <ScrollTop {...props}>\n                <Fab\n                    color=\"secondary\"\n                    size=\"small\"\n                    aria-label=\"scroll back to top\"\n                >\n                    <KeyboardArrowUpIcon />\n                </Fab>\n            </ScrollTop>\n        </React.Fragment>\n    );\n}\n","import React, { useMemo } from \"react\";\n\nimport {\n    Box,\n    Grid,\n    FormControl,\n    Stack,\n    MenuItem,\n    Select,\n    SelectChangeEvent,\n    Typography,\n    TextField,\n    IconButton,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Button,\n    Paper,\n} from \"@mui/material\";\n\nimport AddRoundedIcon from \"@mui/icons-material/AddRounded\";\n\nimport {\n    AdviseDocumentRequestResponseSuccess,\n    useAdviseDocument,\n} from \"../api\";\nimport { LOCAL_STORAGE_KEY } from \"config\";\nimport { components } from \"lib/schema\";\n\nimport { Requirements } from \"../../../hooks\";\nimport { Variant } from \"@mui/material/styles/createTypography\";\nimport { Lockfile } from \"../../../utils/formatLockfile\";\nimport { ScrollToTop } from \"../../../components/Elements/ScrollToTop\";\n\ninterface IAdviseCompare {\n    adviseDocument?: AdviseDocumentRequestResponseSuccess;\n}\n\nexport const AdviseCompare = ({ adviseDocument }: IAdviseCompare) => {\n    const [comparison, setComparison] = React.useState(\n        adviseDocument?.metadata?.document_id ?? \"\",\n    );\n\n    const compareDoc = useAdviseDocument(comparison);\n\n    const [open, setOpen] = React.useState(false);\n    const [importText, setImportText] = React.useState(\"\");\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = (event?: any, reason?: string) => {\n        if (reason !== \"backdropClick\") {\n            setOpen(false);\n        }\n    };\n\n    const handleImport = () => {\n        const ids = localStorage.getItem(LOCAL_STORAGE_KEY) ?? \"\";\n\n        const split = ids.split(\",\");\n        if (!split.includes(importText)) {\n            split.push(importText);\n            localStorage.setItem(LOCAL_STORAGE_KEY, split.join(\",\"));\n        }\n\n        setImportText(\"\");\n        setOpen(false);\n    };\n\n    const handleChange = (event: SelectChangeEvent) => {\n        setComparison(event.target.value);\n    };\n\n    const localHistory: string[] = useMemo(() => {\n        const history: string[] = [];\n\n        if (\n            (\n                adviseDocument?.result?.parameters\n                    ?.project as components[\"schemas\"][\"ProjectDef\"]\n            )?.requirements_locked\n        ) {\n            history.push(\"Original Lockfile\");\n        }\n\n        const ids = localStorage.getItem(LOCAL_STORAGE_KEY);\n        if (ids) {\n            history.push(...ids.split(\",\").filter(s => s !== \"\"));\n        }\n\n        return history;\n    }, [importText === \"\"]);\n\n    const COMPARE_COLORS = {\n        old: {\n            text: \"errorContainer.contrastText\",\n            background: \"errorContainer.main\",\n        },\n        new: {\n            text: \"successContainer.contrastText\",\n            background: \"successContainer.main\",\n        },\n        change: {\n            text: \"warningContainer.contrastText\",\n            background: \"warningContainer.main\",\n        },\n        equal: {\n            text: undefined,\n            background: undefined,\n        },\n    };\n\n    const comparePaths = (\n        obj1: any,\n        obj2: any,\n        label?: string,\n        mapping = (obj: typeof obj1) => obj,\n    ) => {\n        // if not null\n        const obj1_mapped = obj1 ? mapping(obj1) : null;\n        const obj2_mapped = obj2 ? mapping(obj2) : null;\n\n        // compare if equal\n        if (obj1_mapped && obj2_mapped) {\n            if (obj1_mapped === obj2_mapped) {\n                return (\n                    <>\n                        {renderCompareLine(\n                            obj1_mapped as string,\n                            \"equal\",\n                            label,\n                        )}\n                        {renderCompareLine(\n                            obj2_mapped as string,\n                            \"equal\",\n                            label,\n                        )}\n                    </>\n                );\n            } else {\n                return (\n                    <>\n                        {renderCompareLine(\n                            obj1_mapped as string,\n                            \"change\",\n                            label,\n                        )}\n                        {renderCompareLine(\n                            obj2_mapped as string,\n                            \"change\",\n                            label,\n                        )}\n                    </>\n                );\n            }\n        } else if (obj1_mapped) {\n            return (\n                <>\n                    {renderCompareLine(obj1_mapped as string, \"old\", label)}\n                    {renderCompareLine(obj2_mapped as string, \"\", label)}\n                </>\n            );\n        } else if (obj2_mapped) {\n            return (\n                <>\n                    {renderCompareLine(obj1_mapped as string, \"\", label)}\n                    {renderCompareLine(obj2_mapped as string, \"new\", label)}\n                </>\n            );\n        } else {\n            return undefined;\n        }\n    };\n\n    const renderCompareLine = (\n        value: string,\n        compareType: \"old\" | \"new\" | \"equal\" | \"change\" | \"\",\n        label?: string,\n    ) => {\n        const borderStyles = {\n            height: \"100%\",\n            paddingBottom: 0.25,\n            paddingTop: 0.25,\n            borderRadius: 0,\n            borderStyle: \"hidden solid hidden solid\",\n            overflow: \"hidden\",\n        };\n        if (compareType) {\n            return (\n                <Grid item xs={6}>\n                    <Paper\n                        variant=\"outlined\"\n                        sx={{\n                            backgroundColor:\n                                COMPARE_COLORS[compareType].background,\n                            ...borderStyles,\n                        }}\n                    >\n                        <Stack direction=\"row\">\n                            {compareType !== \"equal\" ? (\n                                <Typography\n                                    sx={{\n                                        textAlign: \"center\",\n                                        minWidth: \"2rem\",\n                                        color: COMPARE_COLORS[compareType].text,\n                                    }}\n                                    variant=\"body2\"\n                                >\n                                    <b>\n                                        {compareType === \"old\"\n                                            ? \"-\"\n                                            : compareType === \"new\"\n                                            ? \"+\"\n                                            : \"~\"}\n                                    </b>\n                                </Typography>\n                            ) : (\n                                <Box sx={{ minWidth: \"2rem\" }} />\n                            )}\n                            {label ? (\n                                <Typography\n                                    sx={{\n                                        marginRight: 1,\n                                        color: COMPARE_COLORS[compareType].text,\n                                    }}\n                                    variant=\"body2\"\n                                >\n                                    <b>{label + \":\"}</b>\n                                </Typography>\n                            ) : undefined}\n                            <Typography\n                                sx={{ color: COMPARE_COLORS[compareType].text }}\n                                display=\"inline\"\n                                variant=\"body2\"\n                            >\n                                {value}\n                            </Typography>\n                        </Stack>\n                    </Paper>\n                </Grid>\n            );\n        } else {\n            return (\n                <Grid item xs={6}>\n                    <Paper\n                        variant=\"outlined\"\n                        sx={{\n                            backgroundColor: COMPARE_COLORS[\"equal\"].background,\n                            ...borderStyles,\n                        }}\n                    >\n                        <Box />\n                    </Paper>\n                </Grid>\n            );\n        }\n    };\n\n    const doubleRenderTypography = (\n        variant: Variant,\n        text: string,\n        styleOverrides: { [key: string]: string | number | undefined } = {},\n    ) => {\n        const headerStyles = {\n            paddingLeft: 4,\n            paddingBottom: 1,\n            paddingTop: 4,\n            borderRadius: 0,\n            borderStyle: \"hidden solid hidden solid\",\n            ...styleOverrides,\n        };\n        return (\n            <>\n                <Grid item xs={6}>\n                    <Paper\n                        variant=\"outlined\"\n                        sx={{\n                            ...headerStyles,\n                        }}\n                    >\n                        <Typography variant={variant}>{text}</Typography>\n                    </Paper>\n                </Grid>\n                <Grid item xs={6}>\n                    <Paper\n                        variant=\"outlined\"\n                        sx={{\n                            ...headerStyles,\n                        }}\n                    >\n                        <Typography variant={variant}>{text}</Typography>\n                    </Paper>\n                </Grid>\n            </>\n        );\n    };\n\n    const compareArrays = (\n        array1: any[] = [],\n        array2: any[] = [],\n        mapping = (obj: any) => obj,\n    ) => {\n        const s1 = array1.map(e => JSON.stringify(e));\n        const s2 = array2.map(e => JSON.stringify(e));\n        const set1 = new Set(s1);\n        const set2 = new Set(s2);\n\n        const merged = [...new Set([...s1, ...s2])];\n\n        return merged.sort().map(key => {\n            const value = JSON.parse(key);\n            return comparePaths(\n                set1.has(key) ? value : undefined,\n                set2.has(key) ? value : undefined,\n                undefined,\n                mapping,\n            );\n        });\n    };\n\n    const createProjectCompare = (\n        proj1?: components[\"schemas\"][\"ProjectDef\"],\n        proj2?: components[\"schemas\"][\"ProjectDef\"],\n    ) => {\n        const runtimeEnvironment: (keyof components[\"schemas\"][\"RuntimeEnvironment\"])[] =\n            [\n                \"name\",\n                \"python_version\",\n                \"cuda_version\",\n                \"openblas_version\",\n                \"openmpi_version\",\n                \"cudnn_version\",\n                \"mkl_version\",\n                \"platform\",\n                \"base_image\",\n            ];\n        const dev_packages = [\n            ...new Set([\n                ...Object.keys(\n                    (proj1?.requirements as Requirements)?.[\"dev-packages\"] ??\n                        {},\n                ),\n                ...Object.keys(\n                    (proj2?.requirements as Requirements)?.[\"dev-packages\"] ??\n                        {},\n                ),\n            ]),\n        ];\n        const packages = [\n            ...new Set([\n                ...Object.keys(\n                    (proj1?.requirements as Requirements)?.packages ?? {},\n                ),\n                ...Object.keys(\n                    (proj2?.requirements as Requirements)?.packages ?? {},\n                ),\n            ]),\n        ];\n        const requirements_locked = [\n            ...new Set([\n                ...Object.keys(\n                    (proj1?.requirements_locked as Lockfile)?.default ?? {},\n                ),\n                ...Object.keys(\n                    (proj2?.requirements_locked as Lockfile)?.default ?? {},\n                ),\n            ]),\n        ];\n\n        return (\n            <>\n                {dev_packages.length > 0\n                    ? doubleRenderTypography(\"h6\", \"Pipfile Dev Packages\", {\n                          paddingTop: 0.5,\n                          paddingBottom: 0.5,\n                      })\n                    : undefined}\n                {dev_packages.map(key => {\n                    return comparePaths(\n                        (proj1?.requirements as Requirements)?.[\"dev-packages\"][\n                            key\n                        ],\n                        (proj2?.requirements as Requirements)?.[\"dev-packages\"][\n                            key\n                        ],\n                        key,\n                    );\n                })}\n\n                {packages.length > 0\n                    ? doubleRenderTypography(\"h6\", \"Pipfile Packages\", {\n                          paddingTop: 0.5,\n                          paddingBottom: 0.5,\n                      })\n                    : undefined}\n                {packages.map(key => {\n                    return comparePaths(\n                        (proj1?.requirements as Requirements)?.packages[key],\n                        (proj2?.requirements as Requirements)?.packages[key],\n                        key,\n                    );\n                })}\n\n                {doubleRenderTypography(\"h6\", \"Pipfile.lock Sources\")}\n                {compareArrays(\n                    (proj1?.requirements_locked as Lockfile)?._meta?.sources,\n                    (proj2?.requirements_locked as Lockfile)?._meta?.sources,\n                    obj => {\n                        return `${obj.name} (${obj.url})`;\n                    },\n                )}\n\n                {doubleRenderTypography(\"h6\", \"Pipfile.lock Packages\")}\n                {requirements_locked.map(key => {\n                    return comparePaths(\n                        (proj1?.requirements_locked as Lockfile)?.default[key],\n                        (proj2?.requirements_locked as Lockfile)?.default[key],\n                        key,\n                        obj => {\n                            return obj?.version;\n                        },\n                    );\n                })}\n\n                {doubleRenderTypography(\"h6\", \"Runtime Environment\")}\n                {runtimeEnvironment.map(field => {\n                    return comparePaths(\n                        proj1?.runtime_environment?.[field],\n                        proj2?.runtime_environment?.[field],\n                        field,\n                    );\n                })}\n\n                {comparePaths(\n                    proj1?.runtime_environment?.operating_system,\n                    proj1?.runtime_environment?.operating_system,\n                    \"operating_system\",\n                    obj => {\n                        return obj.name + \" \" + obj.version;\n                    },\n                )}\n                {comparePaths(\n                    proj1?.runtime_environment?.hardware,\n                    proj1?.runtime_environment?.hardware,\n                    \"hardware\",\n                    obj => {\n                        let text = \"\";\n                        text += obj.cpu_model ?? \" \";\n                        text += obj.cpu_family ?? \" \";\n                        text += obj.gpu_model ?? \" \";\n                        if (text.trim()) {\n                            return text;\n                        }\n                    },\n                )}\n            </>\n        );\n    };\n\n    const createCompare = (\n        doc1: AdviseDocumentRequestResponseSuccess,\n        doc2: AdviseDocumentRequestResponseSuccess,\n    ) => {\n        const metadataFields: (keyof AdviseDocumentRequestResponseSuccess[\"metadata\"])[] =\n            [\n                \"document_id\",\n                \"analyzer\",\n                \"analyzer_version\",\n                \"datetime\",\n                \"thoth_deployment_name\",\n            ];\n        const argumentFields: string[] = [\n            \"beam_width\",\n            \"constraints\",\n            \"count\",\n            \"dev\",\n            \"labels\",\n            \"library_usage\",\n            \"limit\",\n            \"limit_latest_versions\",\n            \"no_pretty\",\n            \"output\",\n            \"pipeline\",\n            \"plot\",\n            \"predictor\",\n            \"recommendation_type\",\n            \"requirements\",\n            \"requirements_format\",\n            \"requirements_locked\",\n            \"runtime_environment\",\n            \"seed\",\n            \"user_stack_scoring\",\n        ];\n        const distributionFields: (keyof AdviseDocumentRequestResponseSuccess[\"metadata\"][\"distribution\"])[] =\n            [\"codename\", \"id\", \"like\", \"version\"];\n        const osReleaseFields: (keyof AdviseDocumentRequestResponseSuccess[\"metadata\"][\"os_release\"])[] =\n            [\"id\", \"name\", \"platform_id\", \"version\"];\n\n        return (\n            <>\n                {doubleRenderTypography(\"h5\", \"Metadata\", { paddingTop: 0 })}\n                {metadataFields.map(field => {\n                    return comparePaths(\n                        doc1?.metadata?.[field],\n                        doc2.metadata?.[field],\n                        field,\n                    );\n                })}\n                {comparePaths(\n                    doc1?.result?.error_msg,\n                    doc2?.result?.error_msg,\n                    \"error_msg\",\n                )}\n\n                {doubleRenderTypography(\"h6\", \"Arguments\")}\n                {argumentFields.map(field => {\n                    return comparePaths(\n                        (\n                            doc1?.metadata?.arguments?.advise as {\n                                [key: string]: any;\n                            }\n                        )?.[field],\n                        (\n                            doc2?.metadata?.arguments?.advise as {\n                                [key: string]: any;\n                            }\n                        )?.[field],\n                        field,\n                    );\n                })}\n\n                {doubleRenderTypography(\"h6\", \"Distribution\")}\n                {distributionFields.map(field => {\n                    return comparePaths(\n                        doc1?.metadata?.distribution?.[field],\n                        doc2?.metadata?.distribution?.[field],\n                        field,\n                    );\n                })}\n\n                {doubleRenderTypography(\"h6\", \"OS Release\")}\n                {osReleaseFields.map(field => {\n                    return comparePaths(\n                        doc1?.metadata?.os_release?.[field],\n                        doc2?.metadata?.os_release?.[field],\n                        field as string,\n                    );\n                })}\n\n                {doubleRenderTypography(\"h6\", \"Python\")}\n                {comparePaths(\n                    doc1?.metadata?.python,\n                    doc2?.metadata?.python,\n                    \"version\",\n                    obj => {\n                        return `${obj.major}.${obj.minor}.${obj.micro}`;\n                    },\n                )}\n                {comparePaths(\n                    doc1?.metadata?.python?.api_version,\n                    doc2?.metadata?.python?.api_version,\n                    \"api_version\",\n                )}\n                {comparePaths(\n                    doc1?.metadata?.python?.implementation_name,\n                    doc2?.metadata?.python?.implementation_name,\n                    \"implementation_name\",\n                )}\n                {comparePaths(\n                    doc1?.metadata?.python?.releaselevel,\n                    doc2?.metadata?.python?.releaselevel,\n                    \"release level\",\n                )}\n\n                {doubleRenderTypography(\"h5\", \"Result\")}\n                {comparePaths(\n                    doc1?.result?.report?.accepted_final_states_count,\n                    doc2?.result?.report?.accepted_final_states_count,\n                    \"accepted_final_states_count\",\n                )}\n                {comparePaths(\n                    doc1?.result?.report?.discarded_final_states_count,\n                    doc2?.result?.report?.discarded_final_states_count,\n                    \"discarded_final_states_count\",\n                )}\n                {comparePaths(\n                    doc1?.result?.report?.resolver_iterations,\n                    doc2?.result?.report?.resolver_iterations,\n                    \"resolver_iterations\",\n                )}\n                {comparePaths(\n                    doc1?.result?.report?.pipeline,\n                    doc2?.result?.report?.pipeline,\n                    \"pipeline\",\n                )}\n\n                {createProjectCompare(\n                    doc1?.result?.report?.products?.[0]?.project,\n                    doc2?.result?.report?.products?.[0]?.project,\n                )}\n\n                {doubleRenderTypography(\"h6\", \"Advised Manifest Changes\")}\n                {compareArrays(\n                    doc1?.result?.report?.products?.[0]\n                        ?.advised_manifest_changes ?? [],\n                    doc2?.result?.report?.products?.[0]\n                        ?.advised_manifest_changes ?? [],\n                    obj => {\n                        let text = \"\";\n                        obj.forEach(\n                            (change: {\n                                patch: {\n                                    path: any;\n                                    op: any;\n                                    value: { name: any; value: any };\n                                };\n                            }) => {\n                                text += `[ ${change?.patch?.path}; ${change?.patch?.op}; ${change?.patch?.value?.name}: ${change?.patch?.value?.value} ]`;\n                            },\n                        );\n                        return text;\n                    },\n                )}\n\n                {doubleRenderTypography(\"h6\", \"Stack Info\")}\n                {compareArrays(\n                    doc1?.result?.report?.stack_info,\n                    doc2?.result?.report?.stack_info,\n                    obj => {\n                        return obj.message;\n                    },\n                )}\n            </>\n        );\n    };\n\n    const compareJSX = useMemo(() => {\n        if (!adviseDocument || !compareDoc.data?.data) {\n            if (comparison === \"Original Lockfile\") {\n                return (\n                    <>\n                        {createProjectCompare(\n                            adviseDocument?.result?.report?.products?.[0]\n                                ?.project,\n                            (\n                                adviseDocument?.result?.parameters as {\n                                    project: components[\"schemas\"][\"ProjectDef\"];\n                                }\n                            )?.project,\n                        )}\n                        {doubleRenderTypography(\"body1\", \" \", {\n                            borderBottomStyle: \"solid\",\n                            borderRadius: undefined,\n                            borderTopLeftRadius: 0,\n                            borderTopRightRadius: 0,\n                        })}\n                    </>\n                );\n            }\n            return undefined;\n        }\n        return (\n            <>\n                {createCompare(adviseDocument, compareDoc.data?.data)}\n                {doubleRenderTypography(\"body1\", \" \", {\n                    borderBottomStyle: \"solid\",\n                    borderRadius: undefined,\n                    borderTopLeftRadius: 0,\n                    borderTopRightRadius: 0,\n                })}\n            </>\n        );\n    }, [adviseDocument, compareDoc.data?.data]);\n\n    if (!adviseDocument) {\n        return (\n            <Box\n                height=\"100vh\"\n                flexDirection=\"column\"\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n            >\n                <Typography variant=\"h5\" align=\"center\">\n                    Compare not available\n                </Typography>\n                <Typography variant=\"body2\" align=\"center\">\n                    The adviser has not finished resolving packages\n                </Typography>\n            </Box>\n        );\n    }\n\n    return (\n        <ScrollToTop>\n            <Box>\n                <Dialog disableEscapeKeyDown open={open} onClose={handleClose}>\n                    <DialogTitle>Import another Advise document</DialogTitle>\n                    <DialogContent>\n                        <Box\n                            component=\"form\"\n                            sx={{ display: \"flex\", flexWrap: \"wrap\" }}\n                        >\n                            <TextField\n                                onChange={event =>\n                                    setImportText(event.target.value)\n                                }\n                                label=\"Document ID\"\n                                variant=\"outlined\"\n                                size=\"small\"\n                            />\n                        </Box>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={() => handleClose()}>Cancel</Button>\n                        <Button onClick={() => handleImport()}>Import</Button>\n                    </DialogActions>\n                </Dialog>\n                <Grid container mb={1} columnSpacing={10}>\n                    <Grid item xs={6}>\n                        <Paper\n                            variant=\"outlined\"\n                            sx={{\n                                height: \"100%\",\n                                borderTopStyle: \"solid\",\n                                borderBottomLeftRadius: 0,\n                                borderBottomRightRadius: 0,\n                                paddingBottom: 4,\n                                paddingTop: 4,\n                                borderStyle: \"solid solid hidden solid\",\n                            }}\n                        >\n                            <Typography\n                                sx={{\n                                    textAlign: \"center\",\n                                    textOverflow: \"ellipsis\",\n                                    whiteSpace: \"nowrap\",\n                                    overflow: \"hidden\",\n                                }}\n                                fontWeight=\"bold\"\n                                variant=\"h6\"\n                            >\n                                Current Advise Document\n                            </Typography>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Paper\n                            variant=\"outlined\"\n                            sx={{\n                                height: \"100%\",\n                                borderTopStyle: \"solid\",\n                                borderBottomLeftRadius: 0,\n                                borderBottomRightRadius: 0,\n                                paddingBottom: 4,\n                                paddingTop: 4,\n                                borderStyle: \"solid solid hidden solid\",\n                            }}\n                        >\n                            <Stack\n                                direction=\"row\"\n                                spacing={1}\n                                sx={{ marginX: \"10%\" }}\n                            >\n                                <FormControl fullWidth>\n                                    <Select\n                                        value={comparison}\n                                        displayEmpty\n                                        onChange={handleChange}\n                                        size=\"small\"\n                                    >\n                                        <MenuItem disabled value=\"\">\n                                            <em>Select a comparison</em>\n                                        </MenuItem>\n                                        {localHistory.map(item => {\n                                            return (\n                                                <MenuItem\n                                                    key={item}\n                                                    value={item}\n                                                >\n                                                    {item}\n                                                </MenuItem>\n                                            );\n                                        })}\n                                    </Select>\n                                </FormControl>\n                                <IconButton onClick={handleClickOpen}>\n                                    <AddRoundedIcon />\n                                </IconButton>\n                            </Stack>\n                        </Paper>\n                    </Grid>\n                    {compareJSX}\n                </Grid>\n            </Box>\n        </ScrollToTop>\n    );\n};\n","import { useEffect, useState } from \"react\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { components } from \"lib/schema\";\nimport { PackageNodeValue } from \"../../lib/interfaces/PackageNodeValue\";\n\nexport type AdviseMetricType = {\n    justification: Record<string, number>;\n    /** which build is being displayed (new or old) */\n    build: string;\n};\n\nexport const useAdviseMetric = (\n    graph?: Graph<Node<PackageNodeValue>>,\n    adviseDocument?: components[\"schemas\"][\"AdviserResultResponse\"],\n) => {\n    const [metric, setMetric] = useState<AdviseMetricType>();\n\n    useEffect(() => {\n        if (!graph || !adviseDocument?.metadata) {\n            return;\n        }\n\n        const base: AdviseMetricType = {\n            justification: {},\n            build: \"\",\n        };\n\n        //build environment\n        base.build = `We have analysed an application stack running on ${adviseDocument.metadata.os_release.name} ${adviseDocument.metadata.os_release.version}, running Python (${adviseDocument.metadata.python.implementation_name}) ${adviseDocument.metadata.python.major}.${adviseDocument.metadata.python.minor}.${adviseDocument.metadata.python.micro}. It was Adviser Job ID ${adviseDocument.metadata.document_id}, by ${adviseDocument.metadata.analyzer} v${adviseDocument.metadata.analyzer_version}.`;\n\n        //justification counts\n        adviseDocument?.result?.report?.products?.[0]?.justification.forEach(\n            justification => {\n                if (base.justification[justification.type]) {\n                    base.justification[justification.type] =\n                        base.justification[justification.type] + 1;\n                } else {\n                    base.justification[justification.type] = 1;\n                }\n            },\n        );\n        setMetric(base);\n    }, [graph, adviseDocument]);\n\n    return metric;\n};\n","import { useEffect, useState } from \"react\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\n\nexport type DependencyMetricType = {\n    /** summary object of all roots aggregated */\n    all: {\n        /** number of dependencies directly related to root packages */\n        direct?: number;\n        /** number of dependencies directly or indirectly related to the direct packages*/\n        indirect?: number;\n        /** number of dependencies that have no dependents*/\n        roots?: number;\n    };\n    /** an object of key (package name) value pairs of specific roots with direct and indirect parameters for each value */\n    roots: {\n        [key: string]: {\n            /** roots own direct packages */\n            direct?: number;\n            /** roots own indirect packages */\n            indirect?: number;\n        };\n    };\n};\n\nexport const useDependencyMetric = (graph?: Graph<Node<PackageNodeValue>>) => {\n    const [metric, setMetric] = useState<DependencyMetricType>();\n\n    useEffect(() => {\n        if (!graph) {\n            return;\n        }\n\n        const base: DependencyMetricType = {\n            all: {},\n            roots: {},\n        };\n\n        const roots: string[] = [];\n        graph.nodes.forEach(value => {\n            if (value.value.depth === 0) {\n                roots.push(value.key);\n            }\n        });\n\n        const visited = new Set();\n\n        // for each starting node\n        roots.forEach(root => {\n            const rootObj = graph.nodes.get(root);\n            if (!rootObj) {\n                return;\n            }\n\n            const bfs = graph.graphSearch(rootObj);\n            const visitedOrder = Array.from(bfs);\n\n            visitedOrder.forEach(node => {\n                if (node.key === \"*App\") {\n                    return;\n                }\n\n                if (visited.has(node.value.id)) {\n                    return;\n                } else {\n                    visited.add(node.value.id);\n                }\n\n                const depth =\n                    node.value.depth === 0\n                        ? \"roots\"\n                        : node.value.depth === 1\n                        ? \"direct\"\n                        : \"indirect\";\n\n                base.all[depth] = (base.all[depth] ?? 0) + 1;\n\n                if (depth !== \"roots\") {\n                    if (!base.roots[root]) {\n                        base.roots[root] = {};\n                    }\n                    base.roots[root][depth] =\n                        (base.roots?.[root]?.[depth] ?? 0) + 1;\n                }\n            });\n        });\n\n        setMetric(base);\n    }, [graph]);\n\n    return metric;\n};\n","import { useEffect, useState } from \"react\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\n\nexport type LicenseMetricType = {\n    /** The license name */\n    [key: string]: {\n        /** The packages that use this license as an object */\n        packages: {\n            [key: string]: {\n                depth: number;\n                specific?: string;\n            };\n        };\n        /** License specific information */\n        metadata: {\n            /** If license is approved by OSI standards */\n            isOsiApproved: boolean | null;\n        };\n    };\n};\n\nexport const useLicenseMetric = (graph?: Graph<Node<PackageNodeValue>>) => {\n    const [metric, setMetric] = useState<LicenseMetricType>();\n\n    useEffect(() => {\n        if (!graph) {\n            return;\n        }\n\n        let base: LicenseMetricType = {};\n\n        const roots: string[] = [];\n        graph.nodes.forEach(value => {\n            if (value.value.depth === 0) {\n                roots.push(value.key);\n            }\n        });\n\n        const visited = new Set();\n\n        // for each starting node\n        roots.forEach(root => {\n            const rootObj = graph.nodes.get(root);\n            if (!rootObj) {\n                return;\n            }\n\n            const bfs = graph.graphSearch(rootObj);\n            const visitedOrder = Array.from(bfs);\n\n            visitedOrder.forEach(node => {\n                if (node.key === \"*App\") {\n                    return;\n                }\n\n                if (visited.has(node.value.id)) {\n                    return;\n                } else {\n                    visited.add(node.value.id);\n                }\n\n                // licence metric\n                type PackageLicenses = {\n                    generalLicense: string;\n                    specificLicense?: string;\n                    isOsiApproved: boolean | null;\n                }[];\n                const packageLicenses: PackageLicenses = [];\n\n                // get general classification\n                node?.value?.metadata?.Classifier?.forEach(classifier => {\n                    const parsed = classifier.split(\" :: \");\n\n                    if (parsed[0] === \"License\") {\n                        if (parsed[1] === \"OSI Approved\") {\n                            packageLicenses.push({\n                                generalLicense:\n                                    parsed?.[2] ?? node.value.metadata?.License,\n                                specificLicense: node.value.metadata?.License,\n                                isOsiApproved: true,\n                            });\n                        } else {\n                            packageLicenses.push({\n                                generalLicense:\n                                    parsed?.[1] ?? node.value.metadata?.License,\n                                specificLicense: node.value.metadata?.License,\n                                isOsiApproved: false,\n                            });\n                        }\n                    }\n                });\n\n                if (packageLicenses.length === 0) {\n                    packageLicenses.push({\n                        generalLicense: node?.value?.metadata?.License ?? \"N/A\",\n                        specificLicense:\n                            node?.value?.metadata?.License ?? \"N/A\",\n                        isOsiApproved: null,\n                    });\n                }\n\n                // get specific classification\n                packageLicenses.forEach(license => {\n                    if (!base[license.generalLicense]) {\n                        base[license.generalLicense] = {\n                            packages: {},\n                            metadata: {\n                                isOsiApproved: license.isOsiApproved,\n                            },\n                        };\n                    }\n\n                    base = {\n                        ...base,\n                        [license.generalLicense]: {\n                            ...base[license.generalLicense],\n                            packages: {\n                                ...(base[license.generalLicense].packages ??\n                                    null),\n                                [node.value.id]: {\n                                    depth: node.value?.depth ?? 0,\n                                    specific: license.specificLicense,\n                                },\n                            },\n                        },\n                    };\n                });\n            });\n        });\n\n        setMetric(base);\n    }, [graph]);\n\n    return metric;\n};\n","import { useMemo } from \"react\";\nimport {\n    useLicenseMetric,\n    useDependencyMetric,\n    useAdviseMetric,\n    DependencyMetricType,\n    LicenseMetricType,\n    AdviseMetricType,\n} from \"hooks/metrics\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\nimport { AdviseDocumentRequestResponseSuccess } from \"../api\";\n\nexport type AllMetrics = {\n    advise: AdviseMetricType | null;\n    dependencies: DependencyMetricType | null;\n    licenses: LicenseMetricType | null;\n};\n\nexport function useMetrics(\n    graph?: Graph<Node<PackageNodeValue>>,\n    adviseDocument?: AdviseDocumentRequestResponseSuccess,\n) {\n    const adviseMetric = useAdviseMetric(graph, adviseDocument);\n    const dependencyMetric = useDependencyMetric(graph);\n    const licenseMetric = useLicenseMetric(graph);\n\n    return useMemo(() => {\n        const base: AllMetrics = {\n            advise: null,\n            dependencies: null,\n            licenses: null,\n        };\n\n        if (adviseMetric) {\n            base.advise = adviseMetric;\n        }\n        if (dependencyMetric) {\n            base.dependencies = dependencyMetric;\n        }\n        if (licenseMetric) {\n            base.licenses = licenseMetric;\n        }\n\n        return base;\n    }, [adviseMetric, dependencyMetric, licenseMetric]);\n}\n","import { useEffect, useRef } from \"react\";\n\nexport const useInterval = (\n    callback: undefined | (() => void),\n    delay: number | null,\n) => {\n    const savedCallback = useRef<undefined | (() => void)>();\n\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n        function tick() {\n            if (savedCallback.current) {\n                savedCallback.current();\n            }\n        }\n        if (delay !== null) {\n            const id = setInterval(tick, delay);\n            return () => clearInterval(id);\n        }\n    }, [delay]);\n};\n","import { Node, NodeValue } from \"lib/interfaces/Node\";\n\n/**\n * Graph data structure implemented with an adjacent list\n */\nexport class Graph<NodeType extends Node<NodeValue>> {\n    nodes: Map<NodeType[\"key\"], NodeType>;\n    visEdges: {\n        id: number | string;\n        to: string;\n        from: string;\n    }[];\n\n    constructor() {\n        this.nodes = new Map();\n        this.visEdges = [];\n    }\n\n    /**\n     * Add a node to the graph.\n     */\n    addVertex(\n        key: NodeType[\"key\"],\n        value: NodeType[\"value\"],\n        Node: new (key: string, value: NodeType[\"value\"]) => NodeType,\n    ): NodeType {\n        let node = this.nodes.get(key);\n        if (node) {\n            return node;\n        }\n\n        node = new Node(key, value);\n        this.nodes.set(key, node);\n        return node;\n    }\n\n    /**\n     * Create a connection between the source node and the destination node.\n     * If the nodes don't exist, then it will make them on the fly.\n     */\n    addEdge(\n        source: NodeType[\"key\"],\n        destination: NodeType[\"key\"],\n    ): [NodeType | undefined, NodeType | undefined] {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n\n        if (sourceNode && destinationNode) {\n            sourceNode.addAdjacent(destinationNode);\n        }\n\n        return [sourceNode, destinationNode];\n    }\n\n    /**\n     * Generic graph search where we can pass a bfs or dfs\n     */\n    *graphSearch(first: NodeType, type = \"bfs\"): Generator<NodeType> {\n        const visited = new Set();\n        const visitList = [];\n\n        visitList.push(first);\n\n        while (visitList.length !== 0) {\n            const node = type === \"dfs\" ? visitList.pop() : visitList.shift();\n            if (node && !visited.has(node)) {\n                yield node;\n                visited.add(node);\n                node.getAdjacents().forEach(adj => visitList.push(adj));\n            }\n        }\n    }\n\n    /**\n     * Find a path between source and destination\n     * It might not be the optimal path\n     */\n    findPath(\n        source: NodeType[\"key\"],\n        destination: NodeType[\"key\"],\n        path: Set<NodeType> = new Set(),\n    ): NodeType[] {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n        const newPath = new Set(path);\n\n        if (!destinationNode || !sourceNode) return [];\n\n        newPath.add(sourceNode);\n\n        if (source === destination) {\n            return Array.from(newPath);\n        }\n\n        // eslint-disable-next-line no-restricted-syntax\n        for (const node of sourceNode.getAdjacents()) {\n            if (!newPath.has(node)) {\n                const nextPath = this.findPath(\n                    node.key, // TODO might still be node.value\n                    destination,\n                    newPath,\n                );\n                if (nextPath.length) {\n                    return nextPath;\n                }\n            }\n        }\n\n        return [];\n    }\n\n    findAllNodesOnAllPaths(\n        source: NodeType,\n        destinationKey: NodeType[\"key\"],\n        visited: Map<NodeType[\"key\"], NodeType> = new Map(),\n    ): Map<NodeType[\"key\"], NodeType> {\n        const visitList: (NodeType | undefined)[] = [];\n\n        visitList.push(source);\n\n        while (visitList.length !== 0) {\n            const node = visitList.pop();\n            if (node && node.key === destinationKey) {\n                continue;\n            }\n            if (node && !visited.has(node.key)) {\n                visited.set(node.key, node);\n                node.parents.forEach(parent =>\n                    visitList.push(this.nodes.get(parent)),\n                );\n            }\n        }\n\n        return visited;\n    }\n\n    /**\n     * Find all paths from source to destination\n     */\n    findAllPaths(\n        source: NodeType[\"key\"],\n        destination: NodeType[\"key\"],\n        path: Set<NodeType> = new Set(),\n    ): NodeType[][] {\n        const sourceNode = this.nodes.get(source);\n        const destinationNode = this.nodes.get(destination);\n        const newPath = new Set(path);\n\n        if (!destinationNode || !sourceNode) return [];\n\n        newPath.add(sourceNode);\n\n        if (source === destination) {\n            return [Array.from(newPath)];\n        }\n\n        const paths: NodeType[][] = [];\n        sourceNode.getAdjacents().forEach(node => {\n            if (!newPath.has(node)) {\n                const nextPaths = this.findAllPaths(\n                    node.key, // TODO might need to use node.value.id\n                    destination,\n                    newPath,\n                );\n                nextPaths.forEach(nextPath => {\n                    paths.push(nextPath);\n                });\n            }\n        });\n        return paths;\n    }\n}\n","export interface NodeValue {\n    [key: string]: unknown;\n}\n\n/**\n * Graph node/vertex that hold adjacency nodes\n * For performance, uses a HashSet instead of array for adjacent.\n */\nexport class Node<GenericNodeValue extends NodeValue> {\n    /** Nodes connected (children) to this node **/\n    adjacents: Set<this>;\n    /** the unique identifier **/\n    key: string;\n    value: GenericNodeValue;\n    /** Nodes connected (parents) to this node **/\n    parents: Set<string>;\n\n    constructor(key: string, value: GenericNodeValue) {\n        this.adjacents = new Set(); // adjacency list\n        this.key = key; // key\n        this.value = value;\n        this.parents = new Set<string>();\n    }\n\n    /**\n     * Add node to adjacency list\n     * Runtime: O(1)\n     * @param {this} node\n     */\n    addAdjacent(node: this) {\n        this.adjacents.add(node);\n    }\n\n    /**\n     * Check if a Node is adjacent to other\n     * Runtime: O(1)\n     * @param {this} node\n     */\n    isAdjacent(node: this) {\n        return this.adjacents.has(node);\n    }\n\n    /**\n     * Get all adjacent nodes\n     */\n    getAdjacents() {\n        return Array.from(this.adjacents);\n    }\n}\n","import { useContext, useMemo } from \"react\";\n\nimport { usePackagesMetadata } from \"api\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { components, operations } from \"../lib/schema\";\nimport { PackageMetadata } from \"../lib/types/PackageMetadata\";\nimport { DispatchContext } from \"../stores/Global\";\n\nexport type Requirements = {\n    \"dev-packages\": { [key: string]: string };\n    packages: { [key: string]: string };\n    requires: {\n        python_version: string;\n    };\n    source: {\n        name: string;\n        url: string;\n        verify_ssl: boolean;\n    }[];\n};\n\n/**\n * Given a list of packages, create a graph using metadata information.\n */\nexport function useGraph(\n    data: operations[\"get_python_package_version_metadata\"][\"parameters\"][\"query\"][] = [],\n    knownRoots?: Requirements[\"packages\"],\n    justifications?: components[\"schemas\"][\"Justification\"],\n) {\n    const { updateLoading } = useContext(DispatchContext);\n    const allMetadata = usePackagesMetadata(data);\n\n    const isLoading = useMemo(() => {\n        updateLoading(\n            \"graph\",\n            \"Loading package metadata\",\n            allMetadata.filter(query => !query.isLoading).length,\n            allMetadata.length,\n        );\n        return allMetadata.some(query => query.isLoading);\n    }, [allMetadata]);\n\n    return useMemo(() => {\n        if (isLoading) {\n            return;\n        }\n        updateLoading(\"graph\");\n\n        // create graph\n        const tempGraph = new Graph<Node<PackageNodeValue>>();\n        const notRoot: unknown[] = [];\n\n        // add data to graph\n        allMetadata.forEach(query => {\n            // if could not find metadata\n            if (query.error) {\n                const error = query.error;\n                const params =\n                    error.response?.data?.parameters ??\n                    error.response?.config?.params;\n\n                const value: PackageNodeValue = {\n                    id: params.name.toLowerCase(),\n                    label: params.name + \" \" + params.version,\n                    name: params.name,\n                    version: params.version,\n                    metadata: null,\n                    depth: 0,\n                };\n\n                // add package to graph\n                tempGraph.addVertex(value.id, value, Node);\n            }\n            // metadata was found\n            else if (query.isSuccess) {\n                const metadata = query.data.data.metadata;\n                const value = {\n                    id: metadata.package_name.toLowerCase(),\n                    label:\n                        metadata.package_name + \" \" + metadata.package_version,\n                    name: metadata.package_name,\n                    version: metadata.package_version,\n                    metadata: metadata.importlib_metadata\n                        .metadata as PackageMetadata,\n                };\n\n                // add package to graph\n                tempGraph.addVertex(value.id, value, Node);\n            }\n        });\n\n        // set edges\n        allMetadata.forEach(query => {\n            if (query.status === \"error\" || !query.data?.data) {\n                return;\n            }\n\n            const currentNode = tempGraph.nodes.get(\n                query.data.data.metadata.package_name.toLowerCase(),\n            );\n\n            if (currentNode) {\n                Object.keys(query.data.data.metadata.dependencies).forEach(\n                    dep => {\n                        const adjacentNode = tempGraph.nodes.get(dep);\n\n                        // if package exists in lockfile\n                        if (adjacentNode) {\n                            // add edge connecting parent and dependency\n                            tempGraph.addEdge(\n                                currentNode.value.id,\n                                adjacentNode.value.id,\n                            );\n                            // set parent\n                            adjacentNode.parents.add(currentNode.value.id);\n                            notRoot.push(adjacentNode.value.id);\n                        }\n                    },\n                );\n            }\n        });\n\n        // add app node to graph\n        const app = tempGraph.addVertex(\n            \"*App\",\n            {\n                id: \"*App\",\n                label: \"App\",\n                depth: -1,\n            },\n            Node,\n        );\n\n        notRoot.push(\"*App\");\n\n        const visited = new Set();\n        const visitList: Node<PackageNodeValue>[] = [];\n\n        // get roots and connect to app\n        tempGraph.nodes.forEach((value, key) => {\n            if (\n                !notRoot.includes(key) ||\n                Object.keys(knownRoots ?? {}).includes(key)\n            ) {\n                value.value.depth = 0;\n                value.parents.add(\"*App\");\n                visitList.push(value);\n                tempGraph.addEdge(app.key, value.key);\n            }\n        });\n\n        const justifiedPackages = new Map();\n\n        if (justifications) {\n            justifications.forEach(\n                (\n                    justification: components[\"schemas\"][\"Justification\"][number] & {\n                        package_name?: string;\n                    },\n                ) => {\n                    const key = justification.package_name ?? \"*App\";\n                    if (justifiedPackages.has(key)) {\n                        justifiedPackages.set(key, [\n                            ...justifiedPackages.get(key),\n                            justification,\n                        ]);\n                    } else {\n                        justifiedPackages.set(key, [justification]);\n                    }\n                },\n            );\n        }\n\n        // set depth and parent packages using dfs\n        while (visitList.length !== 0) {\n            const node = visitList.pop();\n            if (node && !visited.has(node)) {\n                visited.add(node);\n\n                // check if there is a justification for change\n                if (justifiedPackages.has(node.key)) {\n                    node.value.justifications = justifiedPackages.get(node.key);\n                }\n\n                const adjs = node.getAdjacents();\n\n                for (let i = 0; i < adjs.length; i++) {\n                    // update depth\n                    adjs[i].value.depth = Math.min(\n                        (node.value?.depth ?? 0) + 1,\n                        adjs[i].value.depth ?? (node.value?.depth ?? 0) + 2,\n                    );\n                    visitList.push(adjs[i]);\n                }\n            }\n        }\n\n        const visGraphEdges = new Map();\n\n        // add edges from old graph\n        tempGraph.nodes.forEach(value => {\n            // set package edges\n            value.adjacents.forEach(adj => {\n                visGraphEdges.set(value.value.id + adj.value.id, {\n                    id: value.value.id + adj.value.id,\n                    to: value.value.id,\n                    from: adj.value.id,\n                });\n            });\n        });\n\n        // add edges to merged graph Object\n        tempGraph[\"visEdges\"] = Array.from(visGraphEdges.values());\n\n        return tempGraph;\n    }, [isLoading, knownRoots]);\n}\n","import React from \"react\";\n\ninterface IAdviseNotFound {\n    analysis_id: string;\n}\n\nexport const AdviseNotFound = ({ analysis_id }: IAdviseNotFound) => {\n    return <div>`&quot;{analysis_id}&quot;` not found</div>;\n};\n","import * as React from \"react\";\nimport { Box } from \"@mui/material\";\n\ninterface IProps {\n    children: NonNullable<React.ReactNode>;\n}\n\n/**\n * Main layout adds margins and spacing to the whole app.\n */\nexport const MainLayout = ({ children }: IProps) => {\n    return (\n        <Box sx={{ marginY: 2, marginRight: 2, height: \"calc(100vh - 32px)\" }}>\n            {children}\n        </Box>\n    );\n};\n","import * as React from \"react\";\nimport {\n    Box,\n    Button,\n    Chip,\n    CSSObject,\n    IconButton,\n    Stack,\n    styled,\n    Theme,\n    Typography,\n} from \"@mui/material\";\nimport MuiDrawer from \"@mui/material/Drawer\";\nimport List from \"@mui/material/List\";\nimport Divider from \"@mui/material/Divider\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport AutoAwesomeMosaicRoundedIcon from \"@mui/icons-material/AutoAwesomeMosaicRounded\";\nimport ArticleRoundedIcon from \"@mui/icons-material/ArticleRounded\";\nimport CompareArrowsRoundedIcon from \"@mui/icons-material/CompareArrowsRounded\";\nimport TerminalRoundedIcon from \"@mui/icons-material/TerminalRounded\";\nimport { Link as RouterLink, useLocation, useNavigate } from \"react-router-dom\";\nimport CircleRoundedIcon from \"@mui/icons-material/CircleRounded\";\nimport { useMemo } from \"react\";\nimport InfoOutlinedIcon from \"@mui/icons-material/InfoOutlined\";\nimport WarningAmberOutlinedIcon from \"@mui/icons-material/WarningAmberOutlined\";\nimport ErrorOutlineOutlinedIcon from \"@mui/icons-material/ErrorOutlineOutlined\";\nimport MenuRoundedIcon from \"@mui/icons-material/MenuRounded\";\nimport MenuOpenRoundedIcon from \"@mui/icons-material/MenuOpenRounded\";\nimport { hexFromArgb } from \"@material/material-color-utilities\";\n\nimport { activeColor } from \"styles/Theme\";\n\nconst drawerWidth = 360;\n\ninterface IProps {\n    children: React.ReactNode;\n    chipData: {\n        [key: string]: {\n            info: number;\n            warning: number;\n            error: number;\n        };\n    };\n}\n\ninterface ICustomListItem {\n    label: string;\n    to: string;\n    icon?: React.ReactNode;\n    selected: boolean;\n    chipData?: {\n        info: number;\n        warning: number;\n        error: number;\n    };\n    disabled?: boolean;\n    open: boolean;\n    hideOnClosed?: boolean;\n}\n\nconst openedMixin = (theme: Theme): CSSObject => ({\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n    }),\n    overflowX: \"hidden\",\n});\n\nconst closedMixin = (theme: Theme): CSSObject => ({\n    transition: theme.transitions.create(\"width\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: \"hidden\",\n    width: \"80px\",\n});\n\nconst Drawer = styled(MuiDrawer, {\n    shouldForwardProp: prop => prop !== \"open\",\n})(({ theme, open }) => ({\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n    boxSizing: \"border-box\",\n    ...(open && {\n        ...openedMixin(theme),\n        \"& .MuiDrawer-paper\": openedMixin(theme),\n    }),\n    ...(!open && {\n        ...closedMixin(theme),\n        \"& .MuiDrawer-paper\": closedMixin(theme),\n    }),\n}));\n\nconst CustomListItem = ({\n    label,\n    to,\n    selected = false,\n    icon,\n    chipData,\n    disabled,\n    open,\n    hideOnClosed,\n}: ICustomListItem) => {\n    if (!open && hideOnClosed) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            sx={{\n                borderRadius: 100,\n                height: 48,\n                paddingLeft: 3,\n                paddingRight: 3,\n                marginRight: 1.5,\n                marginY: 0.5,\n                justifyContent: !open ? \"center\" : undefined,\n                backgroundColor: selected\n                    ? hexFromArgb(activeColor.light.colorContainer)\n                    : undefined,\n                color: selected\n                    ? hexFromArgb(activeColor.light.onColorContainer)\n                    : undefined,\n            }}\n            button\n            disabled={disabled}\n            component={RouterLink}\n            to={to}\n            secondaryAction={\n                chipData && open ? (\n                    <Stack direction=\"row\" spacing={1}>\n                        {chipData.info ? (\n                            <Chip\n                                variant=\"outlined\"\n                                size=\"small\"\n                                icon={<InfoOutlinedIcon />}\n                                label={chipData.info}\n                                color=\"info\"\n                            />\n                        ) : undefined}\n                        {chipData.warning ? (\n                            <Chip\n                                variant=\"outlined\"\n                                size=\"small\"\n                                icon={<WarningAmberOutlinedIcon />}\n                                label={chipData.warning}\n                                color=\"warning\"\n                            />\n                        ) : undefined}\n                        {chipData.error ? (\n                            <Chip\n                                variant=\"outlined\"\n                                size=\"small\"\n                                icon={<ErrorOutlineOutlinedIcon />}\n                                label={chipData.error}\n                                color=\"error\"\n                            />\n                        ) : undefined}\n                    </Stack>\n                ) : undefined\n            }\n        >\n            {icon ? (\n                <ListItemIcon\n                    sx={{\n                        minWidth: 3,\n                        marginRight: open ? 1.5 : 0,\n                        color: selected\n                            ? hexFromArgb(activeColor.light.onColorContainer)\n                            : undefined,\n                    }}\n                >\n                    {icon}\n                </ListItemIcon>\n            ) : undefined}\n            {open ? (\n                <ListItemText\n                    disableTypography\n                    sx={{ marginLeft: icon ? undefined : 4.5 }}\n                >\n                    <Typography fontWeight=\"600\" variant=\"body2\">\n                        {label}\n                    </Typography>\n                </ListItemText>\n            ) : undefined}\n        </ListItem>\n    );\n};\n\nexport const AdviserLayout = ({ children, chipData }: IProps) => {\n    const location = useLocation();\n    const navigate = useNavigate();\n\n    const [open, setOpen] = React.useState(false);\n\n    const currentTab = useMemo(() => {\n        return location.pathname.split(\"/\").at(-1);\n    }, [location.pathname]);\n\n    return (\n        <Box sx={{ display: \"flex\" }}>\n            <Drawer open={open} variant=\"permanent\">\n                {open ? (\n                    <Stack\n                        direction=\"row\"\n                        alignItems=\"center\"\n                        justifyContent=\"space-between\"\n                        sx={{\n                            marginBottom: 1,\n                            marginTop: 3,\n                            paddingRight: 1.5,\n                        }}\n                    >\n                        <Typography\n                            component={Button}\n                            onClick={() => navigate(\"/\")}\n                            variant=\"h5\"\n                            sx={{\n                                textAlign: \"center\",\n                                color: \"primary.main\",\n                                marginLeft: 3,\n                                width: \"fit-content\",\n                            }}\n                        >\n                            SEARCH UI\n                        </Typography>\n                        <IconButton onClick={() => setOpen(false)}>\n                            <MenuOpenRoundedIcon />\n                        </IconButton>\n                    </Stack>\n                ) : (\n                    <Box\n                        sx={{\n                            marginBottom: 1,\n                            marginTop: 3,\n                            textAlign: \"center\",\n                        }}\n                    >\n                        <IconButton onClick={() => setOpen(true)}>\n                            <MenuRoundedIcon />\n                        </IconButton>\n                    </Box>\n                )}\n                <List sx={{ paddingLeft: 1.5, paddingRight: 1.5 }}>\n                    <CustomListItem\n                        selected={currentTab === \"summary\"}\n                        label=\"Summary\"\n                        to=\"summary\"\n                        icon={<AutoAwesomeMosaicRoundedIcon />}\n                        open={open}\n                    />\n                    <CustomListItem\n                        label=\"Packages\"\n                        to=\"packages\"\n                        selected={currentTab === \"packages\"}\n                        icon={<ArticleRoundedIcon />}\n                        open={open}\n                    />\n                    <CustomListItem\n                        label=\"Compare\"\n                        to=\"compare\"\n                        selected={currentTab === \"compare\"}\n                        icon={<CompareArrowsRoundedIcon />}\n                        open={open}\n                    />\n                    <CustomListItem\n                        label=\"Logs\"\n                        to=\"logs\"\n                        selected={currentTab === \"logs\"}\n                        icon={<TerminalRoundedIcon />}\n                        open={open}\n                    />\n                </List>\n                {open ? <Divider /> : undefined}\n                <List sx={{ paddingLeft: 1, paddingRight: 1.5 }}>\n                    <CustomListItem\n                        disabled\n                        label=\"Environment\"\n                        to=\"environment\"\n                        icon={<CircleRoundedIcon />}\n                        selected={currentTab === \"environment\"}\n                        open={open}\n                        hideOnClosed\n                    />\n                    <CustomListItem\n                        disabled\n                        label=\"Licenses\"\n                        to=\"licenses\"\n                        icon={<CircleRoundedIcon />}\n                        selected={currentTab === \"licenses\"}\n                        open={open}\n                        hideOnClosed\n                    />\n                    <CustomListItem\n                        disabled\n                        label=\"Dependency Tree\"\n                        to=\"dependency-tree\"\n                        icon={<CircleRoundedIcon />}\n                        selected={currentTab === \"dependency-tree\"}\n                        open={open}\n                        hideOnClosed\n                    />\n                    <CustomListItem\n                        label=\"Stack Info\"\n                        to=\"stack-info\"\n                        icon={<CircleRoundedIcon />}\n                        selected={currentTab === \"stack-info\"}\n                        chipData={chipData[\"stack-info\"]}\n                        open={open}\n                        hideOnClosed\n                    />\n                </List>\n            </Drawer>\n            <Box sx={{ width: \"100%\", overflowX: \"hidden\" }}>{children}</Box>\n        </Box>\n    );\n};\n","import * as React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"@mui/material\";\n\ninterface IProps {\n    children: React.ReactNode;\n    goHome?: boolean;\n}\n\n/**\n * Layout is used in most of the app and allows for backwards navigation.\n */\nexport const NavigationLayout = ({ children, goHome = false }: IProps) => {\n    const navigate = useNavigate();\n\n    return (\n        <>\n            <Button\n                onClick={() => {\n                    if (goHome) {\n                        navigate(\"/\");\n                    } else {\n                        navigate(-1);\n                    }\n                }}\n            >\n                {goHome ? \"go home\" : \"go back\"}\n            </Button>\n            <div>{children}</div>\n        </>\n    );\n};\n","import React, { useMemo } from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport { Chip } from \"@mui/material\";\nimport { ScrollToTop } from \"components/Elements/ScrollToTop\";\n\ninterface IAdviseLogs {\n    logs?: string | null;\n}\n\nexport function AdviseLogs({ logs }: IAdviseLogs) {\n    const rows = useMemo(() => {\n        return logs\n            ?.split(\"\\n\")\n            .slice(0, 20)\n            .map(line => {\n                let log;\n                try {\n                    log = JSON.parse(line);\n                } catch (e) {\n                    return {};\n                }\n\n                if (log) {\n                    return {\n                        name: log.name,\n                        levelname: log.levelname,\n                        module: log.module,\n                        lineno: log.lineno,\n                        funcname: log.funcname,\n                        created: log.created,\n                        asctime: log.asctime,\n                        msecs: log.msecs,\n                        relative_created: log.relative_created,\n                        process: log.process,\n                        message: log.message,\n                    };\n                } else {\n                    return {};\n                }\n            });\n    }, [logs]);\n    return (\n        <ScrollToTop>\n            <TableContainer component={Paper} variant=\"outlined\">\n                <Table size=\"small\" aria-label=\"a dense table\" stickyHeader>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>Level</TableCell>\n                            <TableCell align=\"left\">Name</TableCell>\n                            <TableCell align=\"left\">Function</TableCell>\n                            <TableCell align=\"right\">Line Number</TableCell>\n                            <TableCell align=\"right\">Process</TableCell>\n                            <TableCell align=\"left\">Message</TableCell>\n                            <TableCell align=\"right\">Time</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {rows?.map(row => (\n                            <TableRow\n                                key={row.created}\n                                sx={{\n                                    \"&:last-child td, &:last-child th\": {\n                                        border: 0,\n                                    },\n                                }}\n                            >\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {row.levelname ? (\n                                        <Chip\n                                            color={\n                                                row?.levelname?.toLowerCase() ??\n                                                \"default\"\n                                            }\n                                            label={row.levelname}\n                                        />\n                                    ) : undefined}\n                                </TableCell>\n                                <TableCell align=\"left\">{row.name}</TableCell>\n                                <TableCell align=\"left\">\n                                    {row.funcname}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                    {row.lineno}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                    {row.process}\n                                </TableCell>\n                                <TableCell align=\"left\">\n                                    {row.message}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                    {row.asctime}\n                                </TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </ScrollToTop>\n    );\n}\n","import React, { useState } from \"react\";\nimport {\n    Card,\n    CardContent,\n    CardHeader,\n    Chip,\n    Collapse,\n    IconButton,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n} from \"@mui/material\";\nimport OpenInNewRoundedIcon from \"@mui/icons-material/OpenInNewRounded\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport { useTheme } from \"@mui/material/styles\";\nimport ErrorOutlineOutlinedIcon from \"@mui/icons-material/ErrorOutlineOutlined\";\nimport { KeyboardArrowDown } from \"@mui/icons-material\";\n\nexport const StackInfoInstallErrorMetric = ({\n    url,\n    metric,\n}: {\n    url: string;\n    metric: (\n        | { package: string; index: string; versions: string[] }\n        | undefined\n    )[];\n}) => {\n    const [selected, setSelected] = useState<number | undefined>();\n    const theme = useTheme();\n    const compact = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n    return (\n        <>\n            {compact ? (\n                <Card variant=\"outlined\">\n                    <CardHeader\n                        title=\"Installation Errors\"\n                        titleTypographyProps={{\n                            variant: \"h6\",\n                        }}\n                        action={\n                            <IconButton\n                                href={url}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <OpenInNewRoundedIcon />\n                            </IconButton>\n                        }\n                        avatar={\n                            <Chip\n                                icon={<ErrorOutlineOutlinedIcon />}\n                                label={metric.reduce(\n                                    (prev, cur) =>\n                                        prev + (cur?.versions?.length ?? 0),\n                                    0,\n                                )}\n                                color=\"error\"\n                            />\n                        }\n                    />\n                </Card>\n            ) : (\n                <Card variant=\"outlined\">\n                    <CardHeader\n                        title=\"Installation Errors\"\n                        subheader=\"The given package & version combinations were removed from the resolution process as they produced errors during installation in the given environment\"\n                        action={\n                            <IconButton\n                                href={url}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <OpenInNewRoundedIcon />\n                            </IconButton>\n                        }\n                    />\n                    <CardContent>\n                        <List dense>\n                            {metric.map((pkg, i) => {\n                                return (\n                                    <>\n                                        <ListItem\n                                            selected={selected === i}\n                                            secondaryAction={\n                                                <KeyboardArrowDown\n                                                    sx={{\n                                                        mr: -1,\n                                                        transform:\n                                                            selected === i\n                                                                ? \"rotate(0deg)\"\n                                                                : \"rotate(-90deg)\",\n                                                        transition: \"0.2s\",\n                                                    }}\n                                                />\n                                            }\n                                            key={\n                                                (pkg?.package ?? \"\") +\n                                                (pkg?.index ?? \"\")\n                                            }\n                                            button\n                                            sx={{ borderRadius: \"16px\" }}\n                                            onClick={() =>\n                                                setSelected(\n                                                    selected === i\n                                                        ? undefined\n                                                        : i,\n                                                )\n                                            }\n                                        >\n                                            <ListItemIcon>\n                                                <Chip\n                                                    label={pkg?.versions.length}\n                                                    color=\"error\"\n                                                />\n                                            </ListItemIcon>\n                                            <ListItemText\n                                                primary={pkg?.package}\n                                                secondary={pkg?.index}\n                                            />\n                                        </ListItem>\n                                        <Collapse in={selected === i}>\n                                            <ListItem>\n                                                <ListItemText\n                                                    inset\n                                                    secondary={metric[\n                                                        i\n                                                    ]?.versions.join(\", \")}\n                                                />\n                                            </ListItem>\n                                        </Collapse>\n                                    </>\n                                );\n                            })}\n                        </List>\n                    </CardContent>\n                </Card>\n            )}\n        </>\n    );\n};\n","import React, { useState } from \"react\";\nimport {\n    Box,\n    Button,\n    Card,\n    CardContent,\n    CardHeader,\n    Chip,\n    Collapse,\n    Divider,\n    Grid,\n    IconButton,\n    Stack,\n    Typography,\n} from \"@mui/material\";\nimport OpenInNewRoundedIcon from \"@mui/icons-material/OpenInNewRounded\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { KeyboardArrowDown } from \"@mui/icons-material\";\nimport ErrorOutlineOutlinedIcon from \"@mui/icons-material/ErrorOutlineOutlined\";\n\ninterface IStackInfoRulesMetric {\n    url: string;\n    metric: {\n        [key: string]: { package: string; constraint: string; index: string }[];\n    };\n}\n\nexport const StackInfoRulesMetric = ({\n    url,\n    metric,\n}: IStackInfoRulesMetric) => {\n    const [selected, setSelected] = useState<number | undefined>(0);\n    const theme = useTheme();\n    const compact = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n    return (\n        <>\n            {compact ? (\n                <Card variant=\"outlined\">\n                    <CardHeader\n                        title=\"Solver Rules\"\n                        titleTypographyProps={{\n                            variant: \"h6\",\n                        }}\n                        action={\n                            <IconButton\n                                href={url}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <OpenInNewRoundedIcon />\n                            </IconButton>\n                        }\n                        avatar={\n                            <Chip\n                                icon={<ErrorOutlineOutlinedIcon />}\n                                label={Object.keys(metric).length}\n                                color=\"error\"\n                            />\n                        }\n                    />\n                </Card>\n            ) : (\n                <Card variant=\"outlined\">\n                    <CardHeader\n                        title=\"Solver Rules\"\n                        subheader=\"One or multiple packages were removed based on Python solver rules configured\"\n                        action={\n                            <IconButton\n                                href={url}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <OpenInNewRoundedIcon />\n                            </IconButton>\n                        }\n                    />\n                    <CardContent>\n                        <Stack spacing={2}>\n                            {Object.entries(metric).map(([rule, value], i) => {\n                                return (\n                                    <Box key={rule}>\n                                        <Button\n                                            sx={{ marginBottom: 1 }}\n                                            onClick={() =>\n                                                setSelected(\n                                                    selected === i\n                                                        ? undefined\n                                                        : i,\n                                                )\n                                            }\n                                        >\n                                            <Stack direction=\"row\" spacing={2}>\n                                                <Typography\n                                                    variant=\"body1\"\n                                                    fontWeight=\"bolder\"\n                                                >\n                                                    {rule}\n                                                </Typography>\n                                                <KeyboardArrowDown\n                                                    sx={{\n                                                        mr: -1,\n                                                        transform:\n                                                            selected === i\n                                                                ? \"rotate(0deg)\"\n                                                                : \"rotate(-90deg)\",\n                                                        transition: \"0.2s\",\n                                                    }}\n                                                />\n                                            </Stack>\n                                        </Button>\n                                        <Collapse in={selected === i}>\n                                            <Grid\n                                                container\n                                                sx={{\n                                                    marginLeft: 1,\n                                                    paddingRight: 1,\n                                                }}\n                                            >\n                                                <Grid item xs={5}>\n                                                    <Typography variant=\"body2\">\n                                                        Package\n                                                    </Typography>\n                                                </Grid>\n                                                <Grid\n                                                    item\n                                                    xs={2}\n                                                    textAlign=\"center\"\n                                                >\n                                                    <Typography variant=\"body2\">\n                                                        Constraint\n                                                    </Typography>\n                                                </Grid>\n                                                <Grid\n                                                    item\n                                                    xs={5}\n                                                    textAlign=\"right\"\n                                                >\n                                                    <Typography variant=\"body2\">\n                                                        Index\n                                                    </Typography>\n                                                </Grid>\n                                                <Grid\n                                                    item\n                                                    xs={12}\n                                                    sx={{ marginBottom: 1 }}\n                                                >\n                                                    <Divider flexItem />\n                                                </Grid>\n                                                {value.map(pkg => {\n                                                    return (\n                                                        <React.Fragment\n                                                            key={\n                                                                pkg.package +\n                                                                pkg.index\n                                                            }\n                                                        >\n                                                            <Grid item xs={5}>\n                                                                {pkg.package}\n                                                            </Grid>\n                                                            <Grid\n                                                                item\n                                                                xs={2}\n                                                                textAlign=\"center\"\n                                                            >\n                                                                {pkg.constraint}\n                                                            </Grid>\n                                                            <Grid\n                                                                item\n                                                                xs={5}\n                                                                textAlign=\"right\"\n                                                            >\n                                                                {pkg.index}\n                                                            </Grid>\n                                                        </React.Fragment>\n                                                    );\n                                                })}\n                                            </Grid>\n                                        </Collapse>\n                                    </Box>\n                                );\n                            })}\n                        </Stack>\n                    </CardContent>\n                </Card>\n            )}\n        </>\n    );\n};\n","import React from \"react\";\nimport {\n    Card,\n    CardContent,\n    CardHeader,\n    Chip,\n    Grid,\n    IconButton,\n    Typography,\n} from \"@mui/material\";\nimport OpenInNewRoundedIcon from \"@mui/icons-material/OpenInNewRounded\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport { useTheme } from \"@mui/material/styles\";\nimport DoneRoundedIcon from \"@mui/icons-material/DoneRounded\";\nimport CloseRoundedIcon from \"@mui/icons-material/CloseRounded\";\nimport InfoOutlinedIcon from \"@mui/icons-material/InfoOutlined\";\n\nexport const StackInfoEnvMetric = ({\n    url,\n    metric,\n}: {\n    url: string;\n    metric: { provided: boolean; message: string }[];\n}) => {\n    const theme = useTheme();\n    const compact = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n    return (\n        <>\n            {compact ? (\n                <Card variant=\"outlined\">\n                    <CardHeader\n                        title=\"Environment Parameters\"\n                        titleTypographyProps={{\n                            variant: \"h6\",\n                        }}\n                        action={\n                            <IconButton\n                                href={url}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <OpenInNewRoundedIcon />\n                            </IconButton>\n                        }\n                        avatar={\n                            <Chip\n                                icon={<InfoOutlinedIcon />}\n                                label={\n                                    metric.filter(env => env.provided).length\n                                }\n                                color=\"info\"\n                            />\n                        }\n                    />\n                </Card>\n            ) : (\n                <Card variant=\"outlined\">\n                    <CardHeader\n                        title=\"Environment Parameters\"\n                        subheader={`The advisor input was provided with ${\n                            metric.filter(env => env.provided).length\n                        } environment parameters`}\n                        action={\n                            <IconButton\n                                href={url}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <OpenInNewRoundedIcon />\n                            </IconButton>\n                        }\n                    />\n                    <CardContent>\n                        <Grid container>\n                            {metric.map(env => (\n                                <React.Fragment key={env.message}>\n                                    <Grid item xs={1}>\n                                        {env.provided ? (\n                                            <CloseRoundedIcon color=\"error\" />\n                                        ) : (\n                                            <DoneRoundedIcon color=\"success\" />\n                                        )}\n                                    </Grid>\n                                    <Grid item xs={11}>\n                                        <Typography variant=\"body2\">\n                                            {env.message}\n                                        </Typography>\n                                    </Grid>\n                                </React.Fragment>\n                            ))}\n                        </Grid>\n                    </CardContent>\n                </Card>\n            )}\n        </>\n    );\n};\n","import React, { useMemo } from \"react\";\nimport {\n    Box,\n    Card,\n    CardContent,\n    CardHeader,\n    Chip,\n    Divider,\n    Grid,\n    IconButton,\n    Stack,\n    Typography,\n} from \"@mui/material\";\nimport WarningAmberOutlinedIcon from \"@mui/icons-material/WarningAmberOutlined\";\nimport InfoOutlinedIcon from \"@mui/icons-material/InfoOutlined\";\nimport OpenInNewRoundedIcon from \"@mui/icons-material/OpenInNewRounded\";\nimport ErrorOutlineOutlinedIcon from \"@mui/icons-material/ErrorOutlineOutlined\";\n\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { components } from \"lib/schema\";\n\nexport const StackInfoMetric = ({\n    metrics,\n}: {\n    metrics: Map<string, components[\"schemas\"][\"StackInfo\"]>;\n}) => {\n    const theme = useTheme();\n    const compact = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n    const typeTotals = useMemo(() => {\n        return {\n            info: Array.from(metrics.values()).reduce(\n                (p, c) => p + (c[0].type === \"INFO\" ? 1 : 0),\n                0,\n            ),\n            warning: Array.from(metrics.values()).reduce(\n                (p, c) => p + (c[0].type === \"WARNING\" ? 1 : 0),\n                0,\n            ),\n            error: Array.from(metrics.values()).reduce(\n                (p, c) => p + (c[0].type === \"ERROR\" ? 1 : 0),\n                0,\n            ),\n        };\n    }, [metrics]);\n\n    const renderRow = (\n        key: string,\n        value: components[\"schemas\"][\"StackInfo\"],\n    ) => {\n        return (\n            <React.Fragment key={key}>\n                <Grid item xs={12} sx={{ marginY: 1 }}>\n                    <Divider flexItem />\n                </Grid>\n                <Grid item xs={1}>\n                    <Box display=\"flex\" alignContent=\"center\">\n                        {value[0].type === \"ERROR\" ? (\n                            <ErrorOutlineOutlinedIcon color=\"error\" />\n                        ) : value[0].type === \"WARNING\" ? (\n                            <WarningAmberOutlinedIcon color=\"warning\" />\n                        ) : (\n                            <InfoOutlinedIcon color=\"info\" />\n                        )}\n                    </Box>\n                </Grid>\n                <Grid item xs={10}>\n                    <Stack spacing={1}>\n                        {value.map((v: { message: string }) => (\n                            <Typography key={v.message} variant=\"body2\">\n                                {v.message}\n                            </Typography>\n                        ))}\n                    </Stack>\n                </Grid>\n                <Grid item xs={1}>\n                    <IconButton\n                        href={value[0].link}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        <OpenInNewRoundedIcon />\n                    </IconButton>\n                </Grid>\n            </React.Fragment>\n        );\n    };\n\n    return (\n        <>\n            {compact ? (\n                <Card variant=\"outlined\">\n                    <CardHeader\n                        title=\"Other Stack Info\"\n                        titleTypographyProps={{\n                            variant: \"h6\",\n                        }}\n                        avatar={\n                            <Stack direction=\"row\" spacing={1}>\n                                {typeTotals.info ? (\n                                    <Chip\n                                        icon={<InfoOutlinedIcon />}\n                                        label={typeTotals.info}\n                                        color=\"info\"\n                                    />\n                                ) : undefined}\n                                {typeTotals.warning ? (\n                                    <Chip\n                                        icon={<WarningAmberOutlinedIcon />}\n                                        label={typeTotals.warning}\n                                        color=\"warning\"\n                                    />\n                                ) : undefined}\n                                {typeTotals.error ? (\n                                    <Chip\n                                        icon={<ErrorOutlineOutlinedIcon />}\n                                        label={typeTotals.error}\n                                        color=\"error\"\n                                    />\n                                ) : undefined}\n                            </Stack>\n                        }\n                    />\n                </Card>\n            ) : (\n                <Card variant=\"outlined\">\n                    <CardHeader title=\"Other Stack Info\" />\n                    <CardContent>\n                        <Grid container alignItems=\"center\">\n                            <Grid item xs={12}>\n                                <Typography variant=\"body1\" fontWeight=\"bolder\">\n                                    Recommended Actions\n                                </Typography>\n                            </Grid>\n                            {Array.from(metrics.entries())\n                                .filter(([, value]) =>\n                                    value.some(\n                                        (v: { message: string }) =>\n                                            v.message.includes(\"use\") ||\n                                            v.message.includes(\"Use\"),\n                                    ),\n                                )\n                                .map(([key, value]) => renderRow(key, value))}\n                            <Grid item xs={12} sx={{ marginTop: 2 }}>\n                                <Typography variant=\"body1\" fontWeight=\"bolder\">\n                                    Other Information\n                                </Typography>\n                            </Grid>\n                            {Array.from(metrics.entries())\n                                .filter(([, value]) =>\n                                    value.some(\n                                        (v: { message: string }) =>\n                                            !v.message.includes(\"use\") ||\n                                            v.message.includes(\"Use\"),\n                                    ),\n                                )\n                                .map(([key, value]) => renderRow(key, value))}\n                        </Grid>\n                    </CardContent>\n                </Card>\n            )}\n        </>\n    );\n};\n","import React, { useMemo } from \"react\";\nimport { components } from \"lib/schema\";\nimport {\n    StackInfoEnvMetric,\n    StackInfoInstallErrorMetric,\n    StackInfoMetric,\n    StackInfoRulesMetric,\n} from \"../components/StackInfoMetrics\";\nimport { Box, Typography } from \"@mui/material\";\nimport { Masonry } from \"@mui/lab\";\n\ninterface IAdviseStackInfo {\n    stack_info?: components[\"schemas\"][\"StackInfo\"];\n}\nconst stackInfoHandler = (\n    stack_info: components[\"schemas\"][\"StackInfo\"],\n    link: string,\n) => {\n    switch (link) {\n        case \"https://thoth-station.ninja/j/install_error\": {\n            const metric = stack_info\n                .filter(info => info.link === link)\n                .map(pkg => {\n                    const name_index_pattern = /(?<=').*?(?=')/g;\n                    const versions_pattern = /(?<=environment: ).*/;\n                    const name_index = pkg.message.match(name_index_pattern);\n                    const versions = pkg.message.match(versions_pattern);\n                    if (name_index && versions) {\n                        return {\n                            package: name_index?.[0],\n                            index: name_index?.[2],\n                            versions: versions?.[0].split(\", \"),\n                        };\n                    }\n                });\n            return <StackInfoInstallErrorMetric url={link} metric={metric} />;\n        }\n        case \"https://thoth-station.ninja/j/env\": {\n            const metric = stack_info\n                .filter(info => info.link === link)\n                .map(info => {\n                    return {\n                        provided: info.message.startsWith(\"No\"),\n                        message: info.message,\n                    };\n                });\n            return <StackInfoEnvMetric metric={metric} url={link} />;\n        }\n\n        case \"https://thoth-station.ninja/j/rules\": {\n            const rules = new Map<\n                string,\n                { package: string; constraint: string; index: string }[]\n            >();\n            stack_info\n                .filter(info => info.link === link)\n                .forEach(pkg => {\n                    const name_constraint_index_pattern = /(?<=').*?(?=')/g;\n                    const rule_pattern = /(?<=rule: ).*/;\n                    const name_constraint_index = pkg.message.match(\n                        name_constraint_index_pattern,\n                    );\n                    const rule = pkg.message.match(rule_pattern);\n                    if (name_constraint_index && rule) {\n                        rules.set(\n                            rule[0],\n                            (rules.get(rule[0]) ?? []).concat({\n                                package: name_constraint_index?.[0],\n                                constraint: name_constraint_index?.[2],\n                                index: name_constraint_index?.[4],\n                            }),\n                        );\n                    }\n                });\n            return (\n                <StackInfoRulesMetric\n                    metric={Object.fromEntries(rules)}\n                    url={link}\n                />\n            );\n        }\n    }\n};\n\nexport const AdviseStackInfo = ({ stack_info = [] }: IAdviseStackInfo) => {\n    const metrics = useMemo(() => {\n        if (!stack_info) {\n            return <></>;\n        }\n\n        const types = new Set<string>();\n        stack_info.forEach(i => types.add(i.link));\n\n        const cards = [];\n        Array.from(types.values()).forEach(type => {\n            const element = stackInfoHandler(stack_info, type);\n            if (element) {\n                cards.push(element);\n                types.delete(type);\n            }\n        });\n\n        // all others\n        const others = new Map<string, components[\"schemas\"][\"StackInfo\"]>();\n        stack_info\n            .filter(info => types.has(info.link))\n            .forEach(info => {\n                others.set(\n                    info.link,\n                    (others.get(info.link) ?? []).concat(info),\n                );\n            });\n        cards.push(<StackInfoMetric metrics={others} />);\n\n        return cards;\n    }, [stack_info]);\n\n    if (!metrics) {\n        return (\n            <Box\n                height=\"100vh\"\n                flexDirection=\"column\"\n                display=\"flex\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n            >\n                <Typography variant=\"h5\" align=\"center\">\n                    Stack info not available\n                </Typography>\n                <Typography variant=\"body2\" align=\"center\">\n                    The adviser has not finished resolving packages\n                </Typography>\n            </Box>\n        );\n    }\n\n    return <Masonry columns={{ sm: 1, lg: 2, xl: 4 }}>{metrics}</Masonry>;\n};\n","import React, { useEffect, useMemo } from \"react\";\nimport { Route, Routes, useParams, Navigate } from \"react-router-dom\";\n\n// sub-routes\nimport { AdviseSummary } from \"./AdviseSummary\";\nimport { AdviseDetails } from \"./AdviseDetails\";\nimport { AdviseCompare } from \"./AdviseCompare\";\n\n// feature specific imports\nimport { useAdviseDocument, useAdviseLogs } from \"../api\";\nimport { formatLockfile } from \"utils/formatLockfile\";\nimport { useMetrics } from \"../hooks\";\nimport { Requirements, useGraph } from \"hooks\";\n\n// misc\nimport { AdviseNotFound } from \"./AdviseNotFound\";\nimport { AxiosResponse } from \"axios\";\nimport { components } from \"lib/schema\";\nimport { LOCAL_STORAGE_KEY } from \"config\";\nimport { AdviserLayout, MainLayout, NavigationLayout } from \"components/Layout\";\nimport Loading from \"../../../components/Elements/Loading/Loading\";\nimport { AdviseLogs } from \"./AdviseLogs\";\nimport { AdviseStackInfo } from \"./AdviseStackInfo\";\n\ntype statusResponse = components[\"schemas\"][\"AnalysisStatusResponse\"];\n\nexport const AdviseRoutes = () => {\n    // get document id\n    const { analysis_id } = useParams();\n\n    // api get thoth advise document\n    const adviseDocument = useAdviseDocument(analysis_id, {\n        useErrorBoundary: false,\n        refetchInterval: (data: AxiosResponse<statusResponse>) => {\n            if (data?.data?.status) {\n                return 10000;\n            }\n            return false;\n        },\n    });\n\n    useEffect(() => {\n        if (adviseDocument.isSuccess && analysis_id) {\n            const ids = localStorage.getItem(LOCAL_STORAGE_KEY) ?? \"\";\n\n            const split = ids.split(\",\");\n            if (!split.includes(analysis_id)) {\n                split.push(analysis_id);\n                localStorage.setItem(LOCAL_STORAGE_KEY, split.join(\",\"));\n            }\n        }\n    }, [adviseDocument.status]);\n\n    const logs = useAdviseLogs(analysis_id, {\n        useErrorBoundary: false,\n        refetchInterval: () => {\n            if (adviseDocument.data?.data?.status) {\n                return 10000;\n            }\n            return false;\n        },\n    });\n\n    // format advise graph data\n    const graphData = useMemo(() => {\n        if (\n            adviseDocument.isSuccess &&\n            adviseDocument.data.data?.result?.report?.products?.[0]?.project\n        ) {\n            const lockfile = adviseDocument.data.data?.result?.report\n                ?.products?.[0]?.project as components[\"schemas\"][\"ProjectDef\"];\n            return formatLockfile(lockfile);\n        }\n    }, [adviseDocument]);\n\n    const graph = useGraph(\n        graphData,\n        (\n            (\n                adviseDocument?.data?.data?.result?.report?.products?.[0]\n                    ?.project as components[\"schemas\"][\"ProjectDef\"]\n            )?.requirements as Requirements\n        )?.packages,\n        adviseDocument?.data?.data?.result?.report?.products?.[0]\n            ?.justification,\n    );\n\n    // compute metric data\n    const metrics = useMetrics(graph, adviseDocument.data?.data);\n\n    const loading = useMemo(() => {\n        if (adviseDocument.isLoading) {\n            return <Loading type=\"circular\" label=\"Fetching Advise Document\" />;\n        }\n\n        if (!adviseDocument.data) {\n            return (\n                <NavigationLayout>\n                    <AdviseNotFound analysis_id={analysis_id ?? \"no id\"} />\n                </NavigationLayout>\n            );\n        }\n    }, [adviseDocument.data, adviseDocument.status]);\n\n    const lastLog = useMemo(() => {\n        try {\n            return JSON.parse(\n                logs.data?.data?.log?.split(\"\\n\")?.at(-2) ?? \"{}\",\n            );\n        } catch (e) {\n            return {};\n        }\n    }, [logs.data]);\n\n    const stackInfoTotals = useMemo(() => {\n        if (!adviseDocument.data?.data?.result?.report?.stack_info) {\n            return {\n                info: 0,\n                warning: 0,\n                error: 0,\n            };\n        }\n        return {\n            info:\n                adviseDocument.data?.data.result.report?.stack_info.filter(\n                    t => t.type === \"INFO\",\n                ).length ?? 0,\n            warning:\n                adviseDocument.data?.data.result.report?.stack_info.filter(\n                    t => t.type === \"WARNING\",\n                ).length ?? 0,\n            error:\n                adviseDocument.data?.data.result.report?.stack_info.filter(\n                    t => t.type === \"ERROR\",\n                ).length ?? 0,\n        };\n    }, [adviseDocument.data?.data]);\n\n    return (\n        <AdviserLayout chipData={{ \"stack-info\": stackInfoTotals }}>\n            <MainLayout>\n                {loading ?? (\n                    <Routes>\n                        <Route\n                            path=\"summary\"\n                            element={\n                                <AdviseSummary\n                                    adviseDocument={adviseDocument?.data?.data}\n                                    metrics={metrics}\n                                    lastLog={lastLog}\n                                />\n                            }\n                        />\n                        <Route\n                            path=\"packages\"\n                            element={<AdviseDetails graph={graph} />}\n                        />\n                        <Route\n                            path=\"logs\"\n                            element={<AdviseLogs logs={logs.data?.data?.log} />}\n                        />\n                        <Route\n                            path=\"compare\"\n                            element={\n                                <AdviseCompare\n                                    adviseDocument={adviseDocument?.data?.data}\n                                />\n                            }\n                        />\n                        <Route\n                            path=\"stack-info\"\n                            element={\n                                <AdviseStackInfo\n                                    stack_info={\n                                        adviseDocument.data?.data?.result\n                                            ?.report?.stack_info\n                                    }\n                                />\n                            }\n                        />\n                        <Route path=\"*\" element={<Navigate to=\"summary\" />} />\n                    </Routes>\n                )}\n            </MainLayout>\n        </AdviserLayout>\n    );\n};\n","import { components, operations } from \"lib/schema\";\n\nexport type Lockfile = {\n    default: {\n        [key: string]: {\n            version: string;\n            markers: string;\n            hashes: string[];\n        };\n    };\n    _meta: {\n        sources: {\n            name: string;\n            url: string;\n            verify_ssl: boolean;\n        }[];\n    };\n};\n\nexport function formatLockfile(\n    lockfile: components[\"schemas\"][\"ProjectDef\"],\n): operations[\"get_python_package_version_metadata\"][\"parameters\"][\"query\"][] {\n    return Object.entries(\n        (lockfile.requirements_locked as Lockfile).default,\n    ).map(([key, value]) => {\n        return {\n            name: key,\n            version: value.version.replace(\"==\", \"\"),\n            index: \"https://pypi.org/simple\", //TODO no hard code\n            os_name:\n                lockfile?.runtime_environment?.operating_system?.name ?? \"\",\n            os_version:\n                lockfile?.runtime_environment?.operating_system?.version ?? \"\",\n            python_version: lockfile?.runtime_environment?.python_version ?? \"\",\n        };\n    });\n}\n","import React, { useContext } from \"react\";\nimport Select from \"@mui/material/Select\";\nimport { Box, MenuItem, Typography } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { SpecContext } from \"features/package/routes/PackageOverview\";\nimport { BoxTypeMap } from \"@mui/material/Box/Box\";\n\ninterface IParamDropdown {\n    options: { value: string }[];\n    type: string;\n    label?: string;\n    disabled?: boolean;\n    props?: BoxTypeMap;\n}\n\nexport const ParamDropdown = ({\n    options,\n    type,\n    label,\n    disabled,\n    ...props\n}: IParamDropdown) => {\n    const navigate = useNavigate();\n    const { specs, defaultSpecs } = useContext(SpecContext);\n\n    const handleChange = (event: { target: { value: string } }) => {\n        switch (type) {\n            case \"package_version\":\n                navigate(\n                    `/package/${specs.package_name}/${event.target.value}`,\n                );\n                break;\n            case \"index_url\":\n                navigate(\n                    `/package/${specs.package_name}/${\n                        specs.package_version ?? defaultSpecs.package_version\n                    }/${encodeURIComponent(event.target.value)}`,\n                );\n                break;\n            case \"os_name\":\n                navigate(\n                    `/package/${specs.package_name}/${\n                        specs.package_version ?? defaultSpecs.package_version\n                    }/${encodeURIComponent(\n                        specs.index_url ?? defaultSpecs.index_url ?? \"\",\n                    )}/${event.target.value}`,\n                );\n\n                break;\n            case \"os_version\":\n                navigate(\n                    `/package/${specs.package_name}/${\n                        specs.package_version ?? defaultSpecs.package_version\n                    }/${encodeURIComponent(\n                        specs.index_url ?? defaultSpecs.index_url ?? \"\",\n                    )}/${specs.os_name ?? defaultSpecs.os_name}/${\n                        event.target.value\n                    }`,\n                );\n                break;\n            case \"python_version\":\n                navigate(\n                    `/package/${specs.package_name}/${\n                        specs.package_version ?? defaultSpecs.package_version\n                    }/${encodeURIComponent(\n                        specs.index_url ?? defaultSpecs.index_url ?? \"\",\n                    )}/${specs.os_name ?? defaultSpecs.os_name}/${\n                        specs.os_version ?? defaultSpecs.os_version\n                    }/${event.target.value}`,\n                );\n                break;\n        }\n    };\n\n    return (\n        <Box {...props}>\n            <Typography variant=\"body2\">{label}</Typography>\n            <Select\n                displayEmpty\n                fullWidth\n                value={specs[type as keyof typeof specs] ?? \"\"}\n                onChange={handleChange}\n                size=\"small\"\n                variant=\"outlined\"\n                disabled={disabled}\n                renderValue={value => {\n                    if (!value) {\n                        return (\n                            <em style={{ color: \"grey\" }}>\n                                {defaultSpecs?.[type as keyof typeof specs] ??\n                                    label}\n                            </em>\n                        );\n                    } else {\n                        return value;\n                    }\n                }}\n            >\n                <MenuItem disabled value=\"\">\n                    <em>{label}</em>\n                </MenuItem>\n                {options.map(option => {\n                    return (\n                        <MenuItem key={option.value} value={option.value}>\n                            {option.value}\n                        </MenuItem>\n                    );\n                })}\n            </Select>\n        </Box>\n    );\n};\n","import React, { useContext, useMemo, useState } from \"react\";\n\n// material-ui\nimport { Box, Grid, IconButton, Skeleton, Typography } from \"@mui/material\";\nimport ArrowLeftIcon from \"@mui/icons-material/ArrowLeft\";\nimport ArrowRightIcon from \"@mui/icons-material/ArrowRight\";\nimport GavelIcon from \"@mui/icons-material/Gavel\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\n\n// utils\nimport { ParamDropdown } from \"../ParamDropdown\";\nimport { SpecContext } from \"../../routes/PackageOverview\";\nimport { components } from \"lib/schema\";\n\nexport interface IPackageHeader {\n    /** Package metadata object.*/\n    metadata?: {\n        /** Name of package. */\n        Name: string;\n        /** Description of package. */\n        Summary?: string;\n        /** License of package */\n        License?: string;\n    };\n    /** list of all versions of a package **/\n    allVersions?: components[\"schemas\"][\"PythonPackageVersionsResponse\"][\"versions\"];\n    /** list of all environments of a package, version, index **/\n    allEnvironments?: components[\"schemas\"][\"PythonPackageVersionEnvironmentsResponse\"][\"environments\"];\n}\n\n/**\n * A header for package metadata.\n */\nexport const PackageHeader = ({\n    metadata,\n    allVersions = [],\n    allEnvironments = [],\n}: IPackageHeader) => {\n    const { defaultSpecs, specs } = useContext(SpecContext);\n    const [showEnvParams, setShowEnvParams] = useState(false);\n\n    const versionOptions = useMemo(() => {\n        const dups = new Set();\n        return allVersions\n            .filter(version => {\n                if (!dups.has(version.package_version)) {\n                    dups.add(version.package_version);\n                    return true;\n                }\n                return false;\n            })\n            .map(version => {\n                return {\n                    value: version.package_version,\n                };\n            })\n            .sort((a, b) => (a.value.split(\".\") > b.value.split(\".\") ? 1 : -1));\n    }, [allVersions]);\n\n    const indexUrlOptions = useMemo(() => {\n        const dups = new Set();\n        return allVersions\n            .filter(version => {\n                if (specs.package_version) {\n                    return specs.package_version === version.package_version;\n                } else {\n                    return (\n                        defaultSpecs.package_version === version.package_version\n                    );\n                }\n            })\n            .filter(version => {\n                if (!dups.has(version.index_url)) {\n                    dups.add(version.index_url);\n                    return true;\n                }\n                return false;\n            })\n            .map(version => {\n                return {\n                    value: version.index_url,\n                };\n            });\n    }, [allVersions]);\n\n    const [osNameOptions, osVersionOptions, pythonVersionOptions] =\n        useMemo(() => {\n            const name = allEnvironments.map(env => {\n                return {\n                    value: env.os_name,\n                };\n            });\n            const version = allEnvironments\n                .filter(env => !specs.os_name || specs.os_name === env.os_name)\n                .map(env => {\n                    return {\n                        value: env.os_version,\n                    };\n                });\n            const pyVersion = allEnvironments\n                .filter(\n                    env =>\n                        (!specs.os_name || specs.os_name === env.os_name) &&\n                        (!specs.os_version ||\n                            specs.os_version === env.os_version),\n                )\n                .map(env => {\n                    return {\n                        value: env.python_version,\n                    };\n                });\n            return [name, version, pyVersion];\n        }, [allEnvironments, specs]);\n\n    if (!metadata) {\n        return (\n            <Box data-testid=\"package-header-not-loaded\">\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <div>\n            <Grid container alignItems=\"flex-end\" spacing={1}>\n                <Grid item>\n                    <Typography variant=\"h4\" mr={2}>\n                        <b>{metadata?.Name}</b>\n                    </Typography>\n                </Grid>\n                <Grid item>\n                    <ParamDropdown\n                        options={versionOptions ?? []}\n                        type=\"package_version\"\n                        label={\"Version\"}\n                    />\n                </Grid>\n                <Grid item>\n                    <ParamDropdown\n                        options={indexUrlOptions ?? []}\n                        type=\"index_url\"\n                        label={\"Index URL\"}\n                        disabled={specs.package_version === undefined}\n                    />\n                </Grid>\n                {showEnvParams ? (\n                    <React.Fragment>\n                        <Grid item>\n                            <ParamDropdown\n                                options={osNameOptions ?? []}\n                                type=\"os_name\"\n                                label={\"OS Name\"}\n                                disabled={specs.index_url === undefined}\n                            />\n                        </Grid>\n                        <Grid item>\n                            <ParamDropdown\n                                options={osVersionOptions ?? []}\n                                type=\"os_version\"\n                                label={\"OS Version\"}\n                                disabled={specs.os_name === undefined}\n                            />\n                        </Grid>\n                        <Grid item>\n                            <ParamDropdown\n                                options={pythonVersionOptions ?? []}\n                                type=\"python_version\"\n                                label={\"Python Version\"}\n                                disabled={specs.os_version === undefined}\n                            />\n                        </Grid>\n                    </React.Fragment>\n                ) : null}\n                <Grid item xs={1}>\n                    <IconButton\n                        onClick={() => setShowEnvParams(!showEnvParams)}\n                        data-testid=\"package-header-expand-button\"\n                    >\n                        {showEnvParams ? (\n                            <ArrowLeftIcon fontSize=\"large\" />\n                        ) : (\n                            <ArrowRightIcon fontSize=\"large\" />\n                        )}\n                    </IconButton>\n                </Grid>\n            </Grid>\n\n            <Typography gutterBottom variant=\"body1\" mt={2}>\n                {metadata?.Summary ?? \"NaN\"}\n            </Typography>\n            <div>\n                <IconText\n                    text={metadata?.License ?? \"NaN\"}\n                    icon={<GavelIcon />}\n                />\n            </div>\n        </div>\n    );\n};\n","import { Button, Grid, Menu, MenuItem, Typography } from \"@mui/material\";\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport React, { useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\ninterface IVersionDropdown {\n    node: {\n        name: string;\n        versions: string[];\n        specifier: string;\n    };\n}\n\nexport const VersionDropdown = ({ node }: IVersionDropdown) => {\n    const [open, setOpen] = React.useState<string | null | undefined>(null);\n    const [anchorEl, setAnchorEl] = React.useState<Element | null>(null);\n    const navigate = useNavigate();\n\n    const versionOptions = useMemo(() => {\n        const options: { [key: string]: string[] } = {};\n        const distribution = [0, 0];\n        const noDup = new Set();\n        node.versions.forEach(version => {\n            const split = version.split(\".\");\n            const key = split[0] + \".\" + (split[1] ?? \"\");\n\n            if (options[key] === undefined) {\n                options[key] = [];\n                distribution[0] += 1;\n            }\n            if (!noDup.has(version)) {\n                options[key].push(version);\n                distribution[1] += 1;\n                noDup.add(version);\n            }\n        });\n\n        // check if there are too many buckets\n        if (distribution[0] / distribution[1] > 0.25) {\n            // merge buckets\n            const buckets = Math.ceil(distribution[0] * 0.25);\n            const fixedOptions: { [key: string]: string[] } = {};\n            let currentKey: string;\n            Object.keys(options).forEach((key, index, array) => {\n                if (index % buckets === 0) {\n                    currentKey = `${key} - ${\n                        array[index + buckets - 1] ?? array.at(-1)\n                    }`;\n                    fixedOptions[currentKey] = [];\n                }\n                fixedOptions[currentKey].push(...options[array[index]]);\n            });\n            return fixedOptions;\n        }\n\n        return options;\n    }, [node]);\n\n    return (\n        <div>\n            <Button\n                onClick={event => {\n                    setOpen(node.name);\n                    setAnchorEl(event.currentTarget);\n                }}\n                variant=\"outlined\"\n                endIcon={<KeyboardArrowDownIcon />}\n            >\n                {node.specifier ?? \"ANY\"}\n            </Button>\n            <Menu\n                open={open === node.name}\n                anchorEl={anchorEl}\n                onClose={() => {\n                    setOpen(undefined);\n                    setAnchorEl(null);\n                }}\n                PaperProps={{\n                    style: {\n                        maxHeight: \"40%\",\n                        maxWidth: \"50%\",\n                    },\n                }}\n            >\n                <MenuItem disabled={true}>\n                    Select a version to navigate to:\n                </MenuItem>\n                <Grid container alignContent=\"flex-start\">\n                    {Object.entries(versionOptions).map(([key, value]) => {\n                        return (\n                            <Grid item xs key={key}>\n                                <MenuItem sx={{ mt: 2 }} disabled divider>\n                                    {key}\n                                </MenuItem>\n                                {value.map(version => {\n                                    return (\n                                        <MenuItem\n                                            key={version}\n                                            onClick={() =>\n                                                navigate(\n                                                    `/package/${node.name}/${version}`,\n                                                )\n                                            }\n                                        >\n                                            <Typography variant={\"body2\"}>\n                                                {version}\n                                            </Typography>\n                                        </MenuItem>\n                                    );\n                                })}\n                            </Grid>\n                        );\n                    })}\n                </Grid>\n            </Menu>\n        </div>\n    );\n};\n","// react\nimport React, { useMemo } from \"react\";\n\n// material-ui\nimport InfoCard from \"components/Elements/InfoCard\";\nimport { Box, Divider, Grid, Skeleton, Typography } from \"@mui/material\";\nimport { VersionDropdown } from \"./VersionDropdown\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { SimplePackageNodeValue } from \"lib/interfaces/SimplePackageNodeValue\";\n\ninterface IPackageDependencies {\n    graph?: Graph<Node<SimplePackageNodeValue>>;\n}\n\ntype PackageDependenciesMetric = {\n    name: string;\n    versions: string[];\n    specifier: string;\n    extra: string[];\n};\n\n/**\n * A metric card displaying dependency information of a single package.\n */\nexport const PackageDependencies = ({ graph }: IPackageDependencies) => {\n    const metric = useMemo(() => {\n        if (!graph?.nodes) {\n            return;\n        }\n\n        const root = graph.nodes.get(\"*App\");\n\n        if (root) {\n            const bfs = graph.graphSearch(root);\n            const visitedOrder = Array.from(bfs);\n\n            const metric: PackageDependenciesMetric[] = [];\n\n            visitedOrder.forEach(node => {\n                if (node.key !== \"*App\" && !node.value.metadata) {\n                    metric.push({\n                        name: node.value.label ?? node.key,\n                        versions: node.value.versions ?? [],\n                        specifier: node.value.specifier ?? \"*\",\n                        extra: node.value.extra ?? [],\n                    });\n                }\n            });\n\n            return metric;\n        }\n    }, [graph]);\n\n    if (!metric) {\n        return (\n            <Box data-testid=\"package-dependencies-not-loaded\">\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <InfoCard\n            cardMeta={{\n                title: \"Dependencies\",\n            }}\n            cardBody={\n                <div data-testid=\"package-dependencies-loaded\">\n                    <Grid container>\n                        <Grid item xs>\n                            <Typography variant=\"h6\" gutterBottom>\n                                Package\n                            </Typography>\n                        </Grid>\n                        <Grid item xs>\n                            <Typography variant=\"h6\" gutterBottom>\n                                Versions\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                            <Typography variant=\"h6\" gutterBottom>\n                                Extra\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider />\n                    <Grid container rowSpacing={2} mt={1}>\n                        {metric.map(node => {\n                            return (\n                                <Grid container item xs={12} key={node.name}>\n                                    <Grid item xs>\n                                        <Typography\n                                            variant=\"body1\"\n                                            gutterBottom\n                                        >\n                                            {node.name}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs>\n                                        <VersionDropdown node={node} />\n                                    </Grid>\n                                    <Grid item xs={2}>\n                                        <Typography\n                                            variant=\"body1\"\n                                            gutterBottom\n                                        >\n                                            {node.extra?.join(\", \")}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            );\n                        })}\n                    </Grid>\n                </div>\n            }\n        />\n    );\n};\n","import React from \"react\";\n\ninterface IPackageNotFound {\n    package_name: string;\n    package_version: string;\n}\n\nexport const PackageNotFound = ({\n    package_name,\n    package_version,\n}: IPackageNotFound) => {\n    return (\n        <div>\n            `&quot;{package_name}\n            {package_version ? \" \" + package_version : \"\"}&quot;` not found\n        </div>\n    );\n};\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { useQuery, useInfiniteQuery } from \"react-query\";\n\nimport { THOTH_URL } from \"config\";\nimport { paths } from \"lib/schema\";\n\ntype path = paths[\"/python/package/versions\"][\"get\"];\ntype requestParams = path[\"parameters\"][\"query\"];\nexport type PackageVersionsRequestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"];\ntype requestResponseFailure =\n    path[\"responses\"][\"404\"][\"content\"][\"application/json\"];\n\nexport const getPackageVersions = async (\n    name: requestParams[\"name\"],\n    page: requestParams[\"page\"] = 0,\n    per_page: requestParams[\"per_page\"] = 100,\n) => {\n    return axios.get<PackageVersionsRequestResponseSuccess>(\n        THOTH_URL + \"/python/package/versions\",\n        {\n            params: {\n                name: name,\n                page: page,\n                per_page: per_page,\n            },\n            headers: {\n                accept: \"application/json\",\n            },\n        },\n    );\n};\n\nexport const usePackageVersions = (\n    name: requestParams[\"name\"],\n    config?: { [key: string]: unknown },\n) => {\n    return useQuery<\n        AxiosResponse<PackageVersionsRequestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >({\n        ...config,\n        enabled: !!name,\n        queryKey: [\"packageVersions\", name],\n        queryFn: () => getPackageVersions(name),\n    });\n};\n\nexport const useInfinitePackageVersions = (\n    name: requestParams[\"name\"],\n    config?: { [key: string]: unknown },\n) => {\n    return useInfiniteQuery<\n        AxiosResponse<PackageVersionsRequestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >({\n        ...config,\n        enabled: !!name,\n        queryKey: [\"packageVersions\", name],\n        queryFn: input => {\n            return getPackageVersions(name, input.pageParam);\n        },\n        getNextPageParam: lastPage => {\n            const parameters: requestParams = (\n                lastPage.data as typeof lastPage.data & {\n                    parameters: requestParams;\n                }\n            ).parameters;\n            return lastPage.data.versions.length === 0\n                ? undefined\n                : (parameters.page ?? 0) + 1;\n        },\n    });\n};\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { useQuery } from \"react-query\";\n\nimport { THOTH_URL } from \"config\";\nimport { paths } from \"lib/schema\";\n\ntype path = paths[\"/python/package/version/environments\"][\"get\"];\ntype requestParams = path[\"parameters\"][\"query\"];\ntype requestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"];\n\nexport const getPackageEnvironments = async (\n    name?: requestParams[\"name\"],\n    version?: requestParams[\"version\"],\n    index?: requestParams[\"index\"],\n) => {\n    return axios.get(THOTH_URL + \"/python/package/version/environments\", {\n        params: {\n            name: name,\n            version: version,\n            index: index,\n        },\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const usePackageEnvironments = (\n    name?: requestParams[\"name\"],\n    version?: requestParams[\"version\"],\n    index?: requestParams[\"index\"],\n    config?: { [key: string]: unknown },\n) => {\n    return useQuery<AxiosResponse<requestResponseSuccess>, AxiosError>({\n        ...config,\n        enabled: !!name && !!version && !!index,\n        queryKey: [\"packageEnvironments\", name, version, index],\n        queryFn: () => getPackageEnvironments(name, version, index),\n    });\n};\n","import { useEffect, useState } from \"react\";\nimport {\n    PackageVersionsRequestResponseSuccess,\n    useInfinitePackageVersions,\n} from \"../api\";\n\nexport const useAllVersions = (package_name: string) => {\n    const versions = useInfinitePackageVersions(package_name);\n    const [allVersions, setAllVersions] = useState<\n        PackageVersionsRequestResponseSuccess[\"versions\"] | undefined\n    >([]);\n\n    useEffect(() => {\n        if (versions.isSuccess) {\n            // if has a next page, and is not currently fetching a page\n            if (versions.hasNextPage && !versions.isFetchingNextPage) {\n                versions.fetchNextPage().then();\n            } else if (!versions.hasNextPage && !versions.isFetchingNextPage) {\n                let merged: PackageVersionsRequestResponseSuccess[\"versions\"] =\n                    [];\n                versions.data.pages.forEach(page => {\n                    merged = [...merged, ...page.data.versions];\n                });\n                if (merged.length > 0) {\n                    merged = merged.reverse();\n                    setAllVersions(merged);\n                } else {\n                    setAllVersions(undefined);\n                }\n            }\n        }\n    }, [versions.data]);\n\n    return allVersions;\n};\n","import React from \"react\";\n\ninterface IErrorPage {\n    message: string;\n    type: string | number;\n    reason: string;\n}\n\nexport const ErrorPage = ({ message, type, reason }: IErrorPage) => {\n    return (\n        <div>\n            <p>\n                {type}\n                {\": \"}\n                {message}\n            </p>\n            <p>{reason}</p>\n        </div>\n    );\n};\n","// React\nimport React, { useEffect, useMemo, useState } from \"react\";\n\n// local\nimport { PackageDependencies, PackageHeader } from \"../components\";\n\n// material-ui\nimport { CircularProgress, Grid } from \"@mui/material\";\nimport { useParams } from \"react-router-dom\";\nimport { usePackageMetadata } from \"api\";\nimport { PackageNotFound } from \"./PackageNotFound\";\nimport { useAllVersions, useSimpleGraph } from \"../hooks\";\nimport { usePackageEnvironments } from \"../api\";\nimport { ErrorPage } from \"routes/ErrorPage\";\nimport { PackageMetadata } from \"lib/types/PackageMetadata\";\n\ntype SpecDetails = {\n    package_name: string;\n    package_version?: string;\n    index_url?: string;\n    os_name?: string;\n    os_version?: string;\n    python_version?: string;\n};\n\nexport const SpecContext = React.createContext<{\n    specs: SpecDetails;\n    defaultSpecs: SpecDetails;\n}>({ specs: { package_name: \"\" }, defaultSpecs: { package_name: \"\" } });\n\n// The page that displays all analysis data\nexport const PackageOverview = () => {\n    const params = useParams<SpecDetails>();\n    const [defaultSpecs, setDefaultSpecs] = useState<SpecDetails>({\n        package_name: params.package_name ?? \"\",\n        package_version: undefined,\n        index_url: undefined,\n        os_name: undefined,\n        os_version: undefined,\n        python_version: undefined,\n    });\n\n    // what is on the url params\n    const specs = useMemo<SpecDetails>(() => {\n        return {\n            package_name: params.package_name ?? \"\",\n            package_version: params?.package_version,\n            index_url: params?.index_url\n                ? decodeURIComponent(params.index_url)\n                : undefined,\n            os_name: params?.os_name,\n            os_version: params?.os_version,\n            python_version: params?.python_version,\n        };\n    }, [params]);\n\n    // get all pages of versions/indexes and merge them together\n    const allVersions = useAllVersions(specs.package_name);\n\n    // get environments for specific package, version, index\n    const allEnvironments = usePackageEnvironments(\n        specs.package_name,\n        specs.package_version ?? defaultSpecs.package_version,\n        specs.index_url ?? defaultSpecs.index_url,\n        { useErrorBoundary: false },\n    );\n\n    // some params are optional but still need a default value\n    useEffect(() => {\n        const d: SpecDetails = {\n            package_name: params.package_name ?? \"\",\n            package_version: undefined,\n            index_url: undefined,\n            os_name: undefined,\n            os_version: undefined,\n            python_version: undefined,\n        };\n\n        // get default package version and index\n        // needs package name and versions list\n        if (specs.package_name) {\n            if (allVersions && allVersions.length > 0) {\n                d.package_version = allVersions.at(0)?.package_version;\n                d.index_url = allVersions.at(0)?.index_url;\n            }\n        }\n\n        // get default environment\n        // needs list of environments\n        if (\n            allEnvironments.data &&\n            allEnvironments.data.data.environments.length > 0\n        ) {\n            const filtered = allEnvironments.data.data.environments.filter(\n                env =>\n                    (!specs.os_name || specs.os_name === env.os_name) &&\n                    (!specs.os_version || specs.os_version === env.os_version),\n            );\n            if (filtered.length > 0) {\n                d.os_name = filtered.at(0)?.os_name;\n                d.os_version = filtered.at(0)?.os_version;\n                d.python_version = filtered.at(0)?.python_version;\n            }\n        }\n\n        if (\n            Object.entries(defaultSpecs).some(\n                ([key, val]) => d[key as keyof typeof d] !== val,\n            )\n        ) {\n            setDefaultSpecs(d);\n        }\n    }, [allVersions, allEnvironments, specs]);\n\n    // get package metadata\n    const metadata = usePackageMetadata(\n        specs.package_name,\n        specs.package_version ?? defaultSpecs.package_version,\n        specs.index_url ?? defaultSpecs.index_url,\n        specs.os_name ?? defaultSpecs.os_name,\n        specs.os_version ?? defaultSpecs.os_version,\n        specs.python_version ?? defaultSpecs.python_version,\n        { useErrorBoundary: false },\n    );\n\n    const graph = useSimpleGraph(metadata);\n\n    if (metadata.isLoading || allVersions?.length === 0) {\n        return (\n            <div\n                className=\"w-full h-48 flex justify-center items-center\"\n                data-testid=\"loading\"\n            >\n                <CircularProgress />\n            </div>\n        );\n    }\n\n    if (!metadata.data) {\n        if (metadata?.error?.response?.data?.error) {\n            return (\n                <ErrorPage\n                    message={metadata.error.response.data.error}\n                    type={metadata.error.response.status}\n                    reason={`${\n                        metadata?.error?.config?.url\n                    } failed with params ${JSON.stringify(\n                        metadata?.error?.config?.params,\n                    )}`}\n                />\n            );\n        }\n        return (\n            <PackageNotFound\n                package_name={params.package_name ?? \"\"}\n                package_version={params.package_version ?? \"\"}\n            />\n        );\n    }\n\n    return (\n        <SpecContext.Provider value={{ specs, defaultSpecs }}>\n            <Grid container>\n                <Grid item xs={12} mb={3}>\n                    <PackageHeader\n                        metadata={\n                            metadata.data.data.metadata.importlib_metadata\n                                .metadata as PackageMetadata\n                        }\n                        allVersions={allVersions}\n                        allEnvironments={\n                            allEnvironments?.data?.data?.environments\n                        }\n                    />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <PackageDependencies graph={graph} />\n                </Grid>\n            </Grid>\n        </SpecContext.Provider>\n    );\n};\n","import { useEffect, useState } from \"react\";\n\n// utils\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\n\nimport { usePackageMetadata } from \"api\";\nimport { PackageMetadata } from \"lib/types/PackageMetadata\";\nimport { SimplePackageNodeValue } from \"lib/interfaces/SimplePackageNodeValue\";\n\nexport type PackageDependencyMetric = {\n    extra: string[];\n    extras: string[];\n    marker: string;\n    marker_evaluated: string;\n    marker_evaluation_error: string | null;\n    marker_evaluation_result: boolean;\n    specifier: string;\n    versions: string[];\n};\n\n/**\n * Given a list of packages, create a graph using metadata information.\n */\nexport function useSimpleGraph(\n    metadata: ReturnType<typeof usePackageMetadata>,\n) {\n    const [graph, setGraph] = useState<Graph<Node<SimplePackageNodeValue>>>();\n\n    useEffect(() => {\n        if (metadata.status !== \"success\") {\n            return;\n        }\n\n        // create graph\n        const tempGraph: Graph<Node<SimplePackageNodeValue>> = new Graph();\n\n        // add app node to graph\n        const app = tempGraph.addVertex(\n            \"*App\",\n            {\n                id: \"*App\",\n                label: \"App\",\n                depth: -1,\n            },\n            Node,\n        );\n\n        const root = tempGraph.addVertex(\n            metadata.data.data.metadata.package_name.toLowerCase(),\n            {\n                id: metadata.data.data.metadata.package_name.toLowerCase(),\n                label: metadata.data.data.metadata.package_name,\n                metadata: metadata.data.data.metadata.importlib_metadata\n                    .metadata as PackageMetadata,\n                depth: 0,\n            },\n            Node,\n        );\n\n        root.parents = new Set();\n        root.parents.add(\"*App\");\n        tempGraph.addEdge(app.key, root.key);\n\n        // add deps to graph\n        Object.entries(\n            metadata.data.data.metadata.dependencies as {\n                [key: string]: PackageDependencyMetric;\n            },\n        ).forEach(([name, value]) => {\n            // add package to graph\n            const node = tempGraph.addVertex(\n                name.toLowerCase(),\n                {\n                    id: name.toLowerCase(),\n                    label: name,\n                    metadata: null,\n                    versions: value.versions,\n                    specifier: value.specifier,\n                    extra: value.extra,\n                    depth: 1,\n                },\n                Node,\n            );\n            node.parents = new Set();\n\n            tempGraph.addEdge(root.key, node.key);\n\n            // set parent\n            node.parents.add(root.key);\n        });\n\n        setGraph(tempGraph);\n    }, [metadata.data]);\n\n    return graph;\n}\n","// React\nimport React from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\n\nimport { PackageOverview } from \"./PackageOverview\";\nimport { NotFound } from \"routes/NotFound\";\nimport { NavigationLayout } from \"components/Layout/NavigationLayout\";\n\n// The page that displays all analysis data\nexport const PackageRoutes = () => {\n    return (\n        <NavigationLayout>\n            <Routes>\n                <Route\n                    path=\"/:package_version/:index_url/:os_name/:os_version/:python_version\"\n                    element={<PackageOverview />}\n                />\n                <Route\n                    path=\"/:package_version/:index_url/:os_name\"\n                    element={<PackageOverview />}\n                />\n                <Route\n                    path=\"/:package_version/:index_url/:os_name/:os_version\"\n                    element={<PackageOverview />}\n                />\n                <Route\n                    path=\"/:package_version/:index_url\"\n                    element={<PackageOverview />}\n                />\n                <Route path=\"/:package_version\" element={<PackageOverview />} />\n                <Route path=\"/\" element={<PackageOverview />} />\n                <Route path=\"*\" element={<NotFound />} />\n            </Routes>\n        </NavigationLayout>\n    );\n};\n","// React\nimport React, { useMemo } from \"react\";\n\n// material-ui\nimport { Typography, Chip, Button, Collapse, Stack } from \"@mui/material\";\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\nimport FeedRoundedIcon from \"@mui/icons-material/FeedRounded\";\n\n// local\nimport IconText from \"components/Elements/IconText\";\n\n// utils\nimport { calcTime } from \"utils/calcTime\";\nimport { components } from \"lib/schema\";\nimport { ChipProps } from \"@mui/material/Chip/Chip\";\n\ninterface IImageHeader {\n    imageDocument: components[\"schemas\"][\"AnalysisResultResponse\"] &\n        components[\"schemas\"][\"AnalysisStatusResponse\"];\n    logs?: components[\"schemas\"][\"AnalysisLogResponse\"][\"log\"];\n}\n\n/**\n * Displays basic Advise document information and\n * displays any errors, info, or warnings that came up\n * in the document generation.\n */\nexport const ImageHeader = ({ imageDocument, logs }: IImageHeader) => {\n    const [showLogs, setShowLogs] = React.useState(false);\n    const [selectedLine, setSelectedLine] = React.useState<\n        number | undefined\n    >();\n\n    // get status of the report\n    const [statusText, statusColor]: [string, ChipProps[\"color\"] | undefined] =\n        useMemo(() => {\n            if (imageDocument?.result) {\n                return [\"COMPLETE\", \"success\"];\n            }\n            // if report is not done\n            else if (imageDocument?.status?.state) {\n                return [imageDocument.status.state.toUpperCase(), \"info\"];\n            } else {\n                return [\"UNKNOWN\", undefined];\n            }\n        }, [imageDocument]);\n\n    return (\n        <div>\n            <Typography variant=\"h4\" mb={2}>\n                <b>\n                    {imageDocument?.metadata?.document_id ??\n                        imageDocument.parameters.analysis_id}\n                </b>\n            </Typography>\n            <Stack direction=\"row\" spacing={2}>\n                <Chip label={statusText} color={statusColor} />\n                <IconText\n                    text={calcTime(\n                        imageDocument?.status?.finished_at,\n                        imageDocument?.status?.started_at,\n                        imageDocument?.metadata?.datetime,\n                    )}\n                    icon={<AccessTimeIcon />}\n                />\n                <Button\n                    sx={{ marginLeft: 2 }}\n                    onClick={() => setShowLogs(!showLogs)}\n                >\n                    <IconText text=\"Logs\" icon={<FeedRoundedIcon />} />\n                </Button>\n            </Stack>\n            <Collapse in={showLogs}>\n                {logs?.split(\"\\n\").map((line, i) => {\n                    return (\n                        <Typography\n                            key={i}\n                            noWrap={selectedLine !== i}\n                            onClick={() =>\n                                setSelectedLine(\n                                    selectedLine === i ? undefined : i,\n                                )\n                            }\n                            variant=\"body2\"\n                            sx={{\n                                backgroundColor:\n                                    selectedLine === i\n                                        ? \"lightyellow\"\n                                        : i % 2 === 0\n                                        ? \"lightgray\"\n                                        : \"unset\",\n                            }}\n                        >\n                            {line}\n                        </Typography>\n                    );\n                }) ?? \"Image log is not available.\"}\n            </Collapse>\n        </div>\n    );\n};\n","// react\nimport React from \"react\";\nimport { DataGrid } from \"@mui/x-data-grid\";\n\n// material-ui\nimport { Box, Skeleton } from \"@mui/material\";\nimport { components } from \"lib/schema\";\n\ninterface IDebInfo {\n    /** An object holding metric info. */\n    imageDocument: components[\"schemas\"][\"AnalysisResultResponse\"];\n}\n\nconst columns = [\n    { field: \"name\", headerName: \"Package Name\", flex: 1 },\n    { field: \"version\", headerName: \"Version\", flex: 0.5 },\n    { field: \"arch\", headerName: \"Architecture\", flex: 0.5 },\n];\n\n/**\n * A metric card displaying dependency information of a single package.\n */\nexport const DebInfo = ({ imageDocument }: IDebInfo) => {\n    if (!imageDocument) {\n        return (\n            <Box>\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <div style={{ height: 400, width: \"100%\" }}>\n            <DataGrid\n                disableSelectionOnClick\n                disableColumnSelector\n                hideFooterSelectedRowCount\n                getRowId={row => row.package_identifier}\n                density=\"compact\"\n                rows={imageDocument?.result?.[\"deb\"]}\n                columns={columns}\n                pageSize={50}\n                rowsPerPageOptions={[25, 50, 100]}\n            />\n        </div>\n    );\n};\n","// react\nimport React, { useMemo } from \"react\";\n\n// material-ui\nimport { Box, Grid, Skeleton, Stack, Typography } from \"@mui/material\";\nimport { Chip } from \"@mui/material\";\nimport { ImageDocumentRequestResponseSuccess } from \"../../api\";\n\ninterface IPythonInfo {\n    imageDocument?: ImageDocumentRequestResponseSuccess;\n}\n\n/**\n * A metric card displaying dependency information of a single package.\n */\nexport const PythonInfo = ({ imageDocument }: IPythonInfo) => {\n    if (!imageDocument) {\n        return (\n            <Box data-testid=\"python-info-not-loaded\">\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    const files = useMemo(() => {\n        if (!imageDocument?.result?.[\"python-files\"]) {\n            return [];\n        }\n\n        const paths = new Map();\n        imageDocument.result[\"python-files\"].forEach(file => {\n            const split = file.filepath.split(\"/\", 4);\n            const key = split[1] + \"/\" + split[2] + \"/\" + split[3];\n            if (paths.has(key)) {\n                paths.set(key, paths.get(key) + 1);\n            } else {\n                paths.set(key, 1);\n            }\n        });\n        return Array.from(paths.entries()).map(([key, value]) => {\n            return {\n                path: key,\n                count: value,\n            };\n        });\n    }, [imageDocument]);\n\n    const interpreters = useMemo(() => {\n        return imageDocument.result[\"python-interpreters\"].filter(\n            interpreter => !!interpreter.version,\n        );\n    }, [imageDocument]);\n\n    return (\n        <Stack direction=\"column\" spacing={3}>\n            {interpreters?.length > 0 ? (\n                <Stack direction=\"row\" spacing={1} alignItems={\"center\"}>\n                    <Typography variant={\"h6\"}>\n                        Python interpreters:{\" \"}\n                    </Typography>\n                    {interpreters.map((interpreter, i) => {\n                        return (\n                            <Chip\n                                data-testid=\"python-info-chip\"\n                                key={(interpreter?.version ?? \"\") + i}\n                                label={interpreter.version}\n                            />\n                        );\n                    })}\n                </Stack>\n            ) : undefined}\n            <div data-testid=\"python-info-loaded\">\n                <Stack direction=\"row\" spacing={1} mb={1} alignItems={\"center\"}>\n                    <Typography variant={\"h6\"}>\n                        Total number of Python files:{\" \"}\n                    </Typography>\n                    <Typography variant={\"body1\"}>\n                        {files.reduce((prev, cur) => prev + cur.count, 0)}\n                    </Typography>\n                </Stack>\n                <Grid container>\n                    {files\n                        .sort((a, b) => b.count - a.count)\n                        .map(file => {\n                            return (\n                                <Grid\n                                    key={file.path}\n                                    item\n                                    xs={12}\n                                    lg={6}\n                                    xl={4}\n                                >\n                                    <Stack\n                                        ml={3}\n                                        direction=\"row\"\n                                        spacing={1}\n                                        alignItems={\"center\"}\n                                        justifyContent={\"space-between\"}\n                                    >\n                                        <Typography variant={\"body2\"}>\n                                            {file.path}:\n                                        </Typography>\n                                        <Typography variant={\"body2\"}>\n                                            <b>{file.count}</b>\n                                        </Typography>\n                                    </Stack>\n                                </Grid>\n                            );\n                        })}\n                </Grid>\n            </div>\n        </Stack>\n    );\n};\n","// react\nimport React, { useMemo } from \"react\";\n\n// material-ui\nimport { Box, Grid, Skeleton, Stack, Typography } from \"@mui/material\";\nimport { Chip } from \"@mui/material\";\nimport {\n    ImageDocumentRequestResponseSuccess,\n    ImageMetadataRequestResponseSuccess,\n} from \"../../api\";\n\nexport interface IImageInfo {\n    imageDocument?: ImageDocumentRequestResponseSuccess;\n    imageMetadata?: ImageMetadataRequestResponseSuccess;\n}\n\n/**\n * A metric card displaying dependency information of a single package.\n */\nexport const ImageInfo = ({ imageDocument, imageMetadata }: IImageInfo) => {\n    const params = useMemo(() => {\n        if (imageMetadata) {\n            return imageMetadata as ImageMetadataRequestResponseSuccess & {\n                labels: { [key: string]: string };\n            };\n        } else if (imageDocument?.result?.[\"skopeo-inspect\"]) {\n            return {\n                architecture:\n                    imageDocument.result[\"skopeo-inspect\"].Architecture,\n                created: imageDocument.result[\"skopeo-inspect\"].Created,\n                digest: imageDocument.result[\"skopeo-inspect\"].Digest,\n                docker_version:\n                    imageDocument.result[\"skopeo-inspect\"].DockerVersion,\n                labels: imageDocument.result[\"skopeo-inspect\"].Labels as {\n                    [key: string]: string;\n                },\n                layers: imageDocument.result[\"skopeo-inspect\"].Layers,\n                os: imageDocument.result[\"skopeo-inspect\"].Os,\n                repo_tags: imageDocument.result[\"skopeo-inspect\"].RepoTags,\n            };\n        }\n    }, [imageDocument, imageMetadata]);\n\n    if (!params) {\n        return (\n            <Box data-testid=\"image-info-not-loaded\">\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <Grid container spacing={2}>\n            <Grid item xs={12}>\n                <Stack direction=\"row\" spacing={2} alignItems=\"center\">\n                    <Typography variant={\"body1\"}>\n                        <b>{params.labels?.[\"io.k8s.display-name\"]}</b>\n                    </Typography>\n                    <Chip label={params.labels?.name.split(\":\").at(-1)} />\n                </Stack>\n            </Grid>\n            <Grid item xs={12}>\n                <Typography variant={\"h6\"} mb={1}>\n                    General information\n                </Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Summary\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>\n                    {params.labels?.summary}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Description\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>\n                    {params.labels?.description}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Provider\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>\n                    {params.labels?.vendor}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Maintainer\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>\n                    {params.labels?.maintainer}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Build date\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>\n                    {new Date(\n                        params.labels?.[\"build-date\"] as string,\n                    ).toLocaleDateString()}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant={\"h6\"} mb={1}>\n                    Technical information\n                </Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Image name\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>{params.labels?.name}</Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Image version\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>\n                    {params.labels?.version}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Architecture\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>{params.architecture}</Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Usage\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>\n                    <code>{params.labels?.usage}</code>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={3}>\n                <Typography variant={\"body2\"} mr={3} ml={2} mb={1}>\n                    Exposed Ports\n                </Typography>\n            </Grid>\n            <Grid item xs={9}>\n                <Typography variant={\"body2\"}>\n                    {params.labels?.[\"io.openshift.expose-services\"]}\n                </Typography>\n            </Grid>\n        </Grid>\n    );\n};\n","// react\nimport React from \"react\";\nimport { DataGrid } from \"@mui/x-data-grid\";\n\n// material-ui\nimport { Box, Skeleton } from \"@mui/material\";\nimport { ImageDocumentRequestResponseSuccess } from \"../../api\";\n\ninterface IRPMInfo {\n    imageDocument?: ImageDocumentRequestResponseSuccess;\n}\n\ntype RPMDependency = {\n    arch: string;\n    dependencies: string[];\n    epoch: string | null;\n    name: string;\n    package_identifier: string;\n    release: string;\n    src: boolean;\n    version: string;\n};\n\nconst columns = [\n    { field: \"name\", headerName: \"Package Name\", flex: 1 },\n    { field: \"version\", headerName: \"Version\", flex: 0.5 },\n    { field: \"release\", headerName: \"Release\", flex: 0.25 },\n    {\n        field: \"dependencies\",\n        headerName: \"Dependencies\",\n        flex: 0.5,\n        valueGetter: (params: { row: RPMDependency }) =>\n            params.row?.dependencies?.length ?? 0,\n        sortable: false,\n    },\n    { field: \"epoch\", headerName: \"Epoch\", flex: 0.5 },\n    { field: \"arch\", headerName: \"Architecture\", flex: 0.5 },\n];\n\n/**\n * A metric card displaying dependency information of a single package.\n */\nexport const RPMInfo = ({ imageDocument }: IRPMInfo) => {\n    if (!imageDocument) {\n        return (\n            <Box data-testid=\"rpm-info-not-loaded\">\n                <Skeleton />\n                <Skeleton />\n                <Skeleton width={\"60%\"} />\n            </Box>\n        );\n    }\n\n    return (\n        <div\n            style={{ height: 400, width: \"100%\" }}\n            data-testid=\"rpm-info-loaded\"\n        >\n            <DataGrid\n                disableSelectionOnClick\n                disableColumnSelector\n                hideFooterSelectedRowCount\n                getRowId={row => row.package_identifier}\n                density=\"compact\"\n                rows={\n                    imageDocument?.result?.[\n                        \"rpm-dependencies\"\n                    ] as RPMDependency[]\n                }\n                columns={columns}\n                pageSize={50}\n                rowsPerPageOptions={[25, 50, 100]}\n            />\n        </div>\n    );\n};\n","import React from \"react\";\nimport InfoCard from \"components/Elements/InfoCard\";\nimport { DependenciesMetric, LicenseMetric } from \"components/Metrics\";\nimport { Masonry } from \"@mui/lab\";\nimport { DebInfo, PythonInfo, ImageInfo, RPMInfo } from \"../components\";\nimport {\n    ImageDocumentRequestResponseSuccess,\n    ImageMetadataRequestResponseSuccess,\n} from \"../api\";\nimport { ImageMetrics } from \"../hooks\";\n\ninterface IImageSummary {\n    imageDocument: ImageDocumentRequestResponseSuccess;\n    imageMetadata?: ImageMetadataRequestResponseSuccess;\n    metrics: ImageMetrics;\n}\n\nexport const ImageSummary = ({\n    metrics,\n    imageDocument,\n    imageMetadata,\n}: IImageSummary) => {\n    return (\n        <Masonry columns={{ xs: 1, md: 2 }} spacing={3} sx={{ mb: 3, mt: 1 }}>\n            {imageDocument || imageMetadata ? (\n                <div>\n                    <InfoCard\n                        cardMeta={{\n                            title: \"Image Details\",\n                        }}\n                        cardBody={\n                            <ImageInfo\n                                imageDocument={imageDocument}\n                                imageMetadata={imageMetadata}\n                            />\n                        }\n                    />\n                </div>\n            ) : undefined}\n\n            {imageDocument?.result?.[\"python-interpreters\"]?.length > 0 ? (\n                <div>\n                    <InfoCard\n                        cardMeta={{\n                            title: \"Python Details\",\n                        }}\n                        cardBody={<PythonInfo imageDocument={imageDocument} />}\n                    />\n                </div>\n            ) : undefined}\n\n            {imageDocument?.result?.[\"rpm-dependencies\"]?.length > 0 ? (\n                <div>\n                    <InfoCard\n                        cardMeta={{\n                            title: \"RPM Details\",\n                        }}\n                        cardBody={<RPMInfo imageDocument={imageDocument} />}\n                    />\n                </div>\n            ) : undefined}\n\n            {imageDocument.result?.deb?.length > 0 ? (\n                <div>\n                    <InfoCard\n                        cardMeta={{\n                            title: \"Debian Details\",\n                        }}\n                        cardBody={<DebInfo imageDocument={imageDocument} />}\n                    />{\" \"}\n                </div>\n            ) : undefined}\n\n            {Object.keys(metrics?.dependencies?.all ?? {}).length !== 0 ? (\n                <div>\n                    <InfoCard\n                        cardMeta={{\n                            title: \"Python Packages Dependencies\",\n                        }}\n                        cardBody={\n                            <DependenciesMetric\n                                metric={metrics?.dependencies}\n                            />\n                        }\n                    />\n                </div>\n            ) : undefined}\n\n            {Object.keys(metrics?.licenses ?? {}).length !== 0 ? (\n                <div>\n                    <InfoCard\n                        cardMeta={{\n                            title: \"Python Packages Licenses\",\n                        }}\n                        cardBody={<LicenseMetric metric={metrics?.licenses} />}\n                    />{\" \"}\n                </div>\n            ) : undefined}\n        </Masonry>\n    );\n};\n","import axios, { AxiosResponse, AxiosError } from \"axios\";\nimport { useQuery } from \"react-query\";\n\nimport { paths } from \"lib/schema\";\nimport { THOTH_URL } from \"config\";\n\ntype path = paths[\"/analyze/{analysis_id}\"][\"get\"];\ntype requestParams = path[\"parameters\"][\"path\"];\nexport type ImageDocumentRequestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"] &\n        path[\"responses\"][\"202\"][\"content\"][\"application/json\"];\nexport type ImageDocumentRequestResponseFailure =\n    path[\"responses\"][\"400\"][\"content\"][\"application/json\"] &\n        path[\"responses\"][\"404\"][\"content\"][\"application/json\"];\n\n/**\n * An async function that returns a promise for `{base_url}/analyze`\n *\n * @param analysis_id - the image document id (ex: `package-extract-211112223258-38af1a4746733b53`)\n */\nexport const getImageDocument = async (\n    analysis_id?: requestParams[\"analysis_id\"],\n) => {\n    return axios.get<ImageDocumentRequestResponseSuccess>(\n        THOTH_URL + \"/analyze/\" + analysis_id,\n        {\n            headers: {\n                accept: \"application/json\",\n            },\n        },\n    );\n};\n\nexport const useImageDocument = (\n    analysis_id?: requestParams[\"analysis_id\"],\n    config?: { [key: string]: unknown },\n) => {\n    return useQuery<\n        AxiosResponse<ImageDocumentRequestResponseSuccess>,\n        AxiosError<ImageDocumentRequestResponseFailure>\n    >({\n        ...config,\n        enabled: !!analysis_id,\n        queryKey: [\"ImageDocument\", analysis_id],\n        queryFn: () => getImageDocument(analysis_id),\n    });\n};\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { useQuery } from \"react-query\";\n\nimport { THOTH_URL } from \"config\";\nimport { paths } from \"lib/schema\";\n\ntype path = paths[\"/analyze/{analysis_id}/log\"][\"get\"];\ntype requestParams = path[\"parameters\"][\"path\"];\ntype requestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"];\ntype requestResponseFailure =\n    path[\"responses\"][\"400\"][\"content\"][\"application/json\"] &\n        path[\"responses\"][\"404\"][\"content\"][\"application/json\"];\n\n/**\n * An async function that returns a promise for `{base_url}/image/logs`\n *\n * @param analysis_id - the image document id (ex: `package-extract-211112223258-38af1a4746733b53`)\n */\nexport const getImageLogs = async (\n    analysis_id?: requestParams[\"analysis_id\"],\n) => {\n    return axios.get(THOTH_URL + \"/analyze/\" + analysis_id + \"/log\", {\n        headers: {\n            accept: \"application/json\",\n        },\n    });\n};\n\nexport const useImageLogs = (\n    analysis_id?: requestParams[\"analysis_id\"],\n    config?: { [key: string]: unknown },\n) => {\n    return useQuery<\n        AxiosResponse<requestResponseSuccess>,\n        AxiosError<requestResponseFailure>\n    >({\n        ...config,\n        enabled: !!analysis_id,\n        queryKey: [\"ImageLogs\", analysis_id],\n        queryFn: () => getImageLogs(analysis_id),\n    });\n};\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { useQuery } from \"react-query\";\n\nimport { THOTH_URL } from \"config\";\nimport { paths } from \"lib/schema\";\n\ntype path = paths[\"/image/metadata\"][\"post\"];\ntype requestParams = path[\"parameters\"][\"query\"];\nexport type ImageMetadataRequestResponseSuccess =\n    path[\"responses\"][\"200\"][\"content\"][\"application/json\"];\nexport type ImageMetadataRequestResponseFailure =\n    path[\"responses\"][\"400\"][\"content\"][\"application/json\"] &\n        path[\"responses\"][\"403\"][\"content\"][\"application/json\"];\n\n/**\n * An async function that returns a promise for `{base_url}/analyze`\n *\n * @param image the name of the image\n */\nexport const getImageMetadata = async (image: requestParams[\"image\"]) => {\n    return axios.post(\n        THOTH_URL + \"/image/metadata\",\n        {},\n        {\n            params: {\n                image: image,\n            },\n            headers: {\n                accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n        },\n    );\n};\n\nexport const useImageMetadata = (\n    image_name: requestParams[\"image\"],\n    config?: { [key: string]: unknown },\n) => {\n    return useQuery<\n        AxiosResponse<ImageMetadataRequestResponseSuccess>,\n        AxiosError<ImageMetadataRequestResponseFailure>\n    >({\n        ...config,\n        enabled: !!image_name,\n        queryKey: [\"ImageMetadata\", image_name],\n        queryFn: () => getImageMetadata(image_name),\n    });\n};\n","import React from \"react\";\n\ninterface IImageNotFound {\n    analysis_id?: string;\n}\n\nexport const ImageNotFound = ({ analysis_id }: IImageNotFound) => {\n    return <div> &quot;{analysis_id}&quot; not found</div>;\n};\n","import React, { useMemo } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\n\n// sub-routes\nimport { ImageSummary } from \"./ImageSummary\";\n\n// feature specific imports\nimport { useImageDocument, useImageLogs, useImageMetadata } from \"../api\";\n\n// misc\nimport { CircularProgress } from \"@mui/material\";\nimport { ImageNotFound } from \"./ImageNotFound\";\nimport { NavigationLayout } from \"components/Layout/NavigationLayout\";\nimport { useGraph } from \"hooks\";\nimport { useMetrics } from \"../hooks\";\nimport { ImageHeader } from \"../components\";\nimport { formatImagePackages } from \"../utils\";\nimport { components } from \"lib/schema\";\nimport { AxiosResponse } from \"axios\";\nimport { postImageAnalyze } from \"../../home/api\";\n\nexport const ImageRoutes = () => {\n    // get document id\n    const { analysis_id } = useParams();\n    const { state } = useLocation();\n    const navigate = useNavigate();\n\n    // api get thoth image analysis document\n    const imageDocument = useImageDocument(analysis_id, {\n        useErrorBoundary: false,\n        refetchInterval: (\n            data: AxiosResponse<\n                components[\"schemas\"][\"AnalysisStatusResponse\"]\n            >,\n        ) => {\n            if (data?.data?.status) {\n                return 10000;\n            }\n            return false;\n        },\n    });\n\n    const imageMetadata = useImageMetadata(\n        (state as { image_name?: string })?.image_name ??\n            (\n                imageDocument.data?.data?.metadata?.arguments as {\n                    \"extract-image\": { image: string };\n                }\n            )?.[\"extract-image\"]?.image,\n    );\n\n    const logs = useImageLogs(analysis_id, {\n        useErrorBoundary: false,\n        refetchInterval: () => {\n            if (imageDocument.data?.data?.status) {\n                return 10000;\n            }\n            return false;\n        },\n    });\n\n    // format init graph data\n    const graphData = useMemo(() => {\n        if (imageDocument.data?.data?.metadata) {\n            const os = {\n                name:\n                    (imageDocument.data.data.result?.[\"operating-system\"]\n                        ?.id as string) ?? \"rhel\",\n                version:\n                    (\n                        imageDocument.data.data.result?.[\"operating-system\"]\n                            ?.version_id as string\n                    )?.split(\".\")[0] ?? \"8\",\n                python_version:\n                    imageDocument.data.data.metadata.python.major +\n                    \".\" +\n                    imageDocument.data.data.metadata.python.minor,\n            };\n            return formatImagePackages(\n                imageDocument.data.data.result[\"python-packages\"],\n                os,\n            );\n        }\n    }, [imageDocument.data]);\n\n    // create init graph\n    const graph = useGraph(graphData);\n\n    // compute metric data\n    const metrics = useMetrics(graph);\n\n    if (imageDocument?.isLoading) {\n        return (\n            <div className=\"w-full h-48 flex justify-center items-center\">\n                <CircularProgress />\n            </div>\n        );\n    }\n\n    if (!imageDocument?.data) {\n        const name = (state as { image_name?: string })?.image_name;\n        if (name) {\n            postImageAnalyze(name).then(response => {\n                navigate(\"/image/\" + response.data.analysis_id, {\n                    state: { image_name: name },\n                });\n            });\n            return (\n                <div className=\"w-full h-48 flex justify-center items-center\">\n                    <CircularProgress />\n                </div>\n            );\n        }\n        return (\n            <div data-testid=\"image-not-loaded\">\n                <NavigationLayout>\n                    <ImageNotFound analysis_id={analysis_id} />\n                </NavigationLayout>\n            </div>\n        );\n    }\n\n    return (\n        <div data-testid=\"image-loaded\">\n            <NavigationLayout goHome={true}>\n                <ImageHeader\n                    imageDocument={imageDocument.data?.data}\n                    logs={logs.data?.data?.log}\n                />\n                <ImageSummary\n                    imageMetadata={imageMetadata.data?.data}\n                    metrics={metrics}\n                    imageDocument={imageDocument.data?.data}\n                />\n            </NavigationLayout>\n        </div>\n    );\n};\n","import { useMemo } from \"react\";\nimport {\n    useLicenseMetric,\n    useDependencyMetric,\n    DependencyMetricType,\n    LicenseMetricType,\n} from \"hooks/metrics\";\nimport { Graph } from \"lib/interfaces/Graph\";\nimport { Node } from \"lib/interfaces/Node\";\nimport { PackageNodeValue } from \"lib/interfaces/PackageNodeValue\";\n\nexport type ImageMetrics = {\n    dependencies: DependencyMetricType | null;\n    licenses: LicenseMetricType | null;\n};\n\nexport function useMetrics(graph?: Graph<Node<PackageNodeValue>>) {\n    const dependencyMetric = useDependencyMetric(graph);\n    const licenseMetric = useLicenseMetric(graph);\n\n    return useMemo(() => {\n        const base: ImageMetrics = {\n            dependencies: null,\n            licenses: null,\n        };\n\n        if (dependencyMetric) {\n            base.dependencies = dependencyMetric;\n        }\n        if (licenseMetric) {\n            base.licenses = licenseMetric;\n        }\n\n        return base;\n    }, [dependencyMetric, licenseMetric]);\n}\n","type ImagePackages = {\n    package_name: string;\n    package_version: string;\n};\n\ntype OS = { name: string; version: string; python_version: string };\n\nexport function formatImagePackages(image_packages: ImagePackages[], os: OS) {\n    return image_packages.map(p => {\n        return {\n            name: p.package_name,\n            version: p.package_version,\n            index: \"https://pypi.org/simple\",\n            os_name: os.name,\n            os_version: os.version,\n            python_version: os.python_version,\n        };\n    });\n}\n","import React from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport { Home } from \"features/home\";\nimport { NotFound } from \"routes/NotFound\";\nimport { AdviseRoutes } from \"features/advise\";\nimport { PackageRoutes } from \"features/package\";\nimport { ImageRoutes } from \"features/image\";\n\nexport const RouterConfig = () => {\n    return (\n        <BrowserRouter\n            basename={\n                process.env.REACT_APP_DEPLOYMENT === \"STAGE\"\n                    ? \"/search-stage\"\n                    : \"/search\"\n            }\n        >\n            <Routes>\n                <Route path={\"/\"} element={<Home />} />\n                <Route\n                    path={\"advise/:analysis_id/*\"}\n                    element={<AdviseRoutes />}\n                />\n                <Route\n                    path={\"package/:package_name/*\"}\n                    element={<PackageRoutes />}\n                />\n                <Route\n                    path={\"image/:analysis_id/*\"}\n                    element={<ImageRoutes />}\n                />\n                <Route path=\"*\" element={<NotFound />} />\n            </Routes>\n        </BrowserRouter>\n    );\n};\n\nexport default RouterConfig;\n","import React from \"react\";\nimport { AppProvider } from \"providers/app\";\nimport RouterConfig from \"routes/RouterConfig\";\n\nfunction App() {\n    return (\n        <AppProvider>\n            <RouterConfig />\n        </AppProvider>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}